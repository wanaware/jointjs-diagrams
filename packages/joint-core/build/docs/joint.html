<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta http-equiv="x-ua-compatible" content="IE=Edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="description" content="JointJS Joint API (v4.0) documentation for a proven SVG JavaScript/TypeScript diagramming library that helps build visual applications faster.">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/api.css">
    <title>Joint API (v4.0) - JointJS Docs</title>
</head>
<body>

    <div class="docs-main">
        <nav class="docs-nav">
            <input class="docs-nav-search" type="text" placeholder="i.e. graph">
            <img class="docs-nav-search-clear" src="./images/clear.png" alt="Clear Search" title="Clear Search">
                <ul class="docs-nav-items">
                    <li class="docs-nav-item">
                    </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#anchors">anchors</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottom">bottom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottomLeft">bottomLeft</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottomRight">bottomRight</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.center">center</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.left">left</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.midSide">midSide</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.modelCenter">modelCenter</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.perpendicular">perpendicular</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.right">right</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.top">top</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.topLeft">topLeft</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.topRight">topRight</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectionPoints">connectionPoints</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.anchor">anchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.bbox">bbox</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.boundary">boundary</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.rectangle">rectangle</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectionStrategies">connectionStrategies</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.pinAbsolute">pinAbsolute</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.pinRelative">pinRelative</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.useDefaults">useDefaults</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectors">connectors</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.jumpover">jumpover</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.normal">normal</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.rounded">rounded</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.smooth">smooth</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.straight">straight</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.curve">curve</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#connectors.curve.Directions">Directions</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#connectors.curve.TangentDirections">TangentDirections</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#dia">dia</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.attributes">attributes</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionLengthIgnoreGradient">atConnectionLengthIgnoreGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionLengthKeepGradient">atConnectionLengthKeepGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionRatioIgnoreGradient">atConnectionRatioIgnoreGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionRatioKeepGradient">atConnectionRatioKeepGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.connection">connection</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.containerSelector">containerSelector</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.displayEmpty">displayEmpty</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.event">event</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.fill">fill</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.filter">filter</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.highlighterSelector">highlighterSelector</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.magnet">magnet</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.magnetSelector">magnetSelector</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.port">port</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.props">props</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.ref">ref</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refCx">refCx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refCy">refCy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDKeepOffset">refDKeepOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDResetOffset">refDResetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDx">refDx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDy">refDy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refHeight">refHeight</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refHeight2">refHeight2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refPointsKeepOffset">refPointsKeepOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refPointsResetOffset">refPointsResetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRCircumscribed">refRCircumscribed</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRInscribed">refRInscribed</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRx">refRx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRy">refRy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refWidth">refWidth</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refWidth2">refWidth2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refX">refX</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refX2">refX2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refY">refY</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refY2">refY2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.resetOffset">resetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.sourceMarker">sourceMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.stroke">stroke</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.style">style</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.targetMarker">targetMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.text">text</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textPath">textPath</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textVerticalAnchor">textVerticalAnchor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textWrap">textWrap</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.title">title</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.vertexMarker">vertexMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.xAlignment">xAlignment</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.yAlignment">yAlignment</a>
                                                    </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Cell">Cell</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.constructor">constructor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.define">define</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.markup">markup</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.getParentCell">getParentCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.parent">parent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.z">z</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.CellView">CellView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.CellView.custom">custom</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.findAttribute">findAttribute</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.findNode">findNode</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.findNodes">findNodes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.highlight">highlight</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.isDefaultInteractionPrevented">isDefaultInteractionPrevented</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.preventDefaultInteraction">preventDefaultInteraction</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.unhighlight">unhighlight</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Element">Element</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.ports">ports</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addPort">addPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addPorts">addPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addTo">addTo</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.angle">angle</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.attr">attr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.embed">embed</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.fitEmbeds">fitEmbeds</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.fitParent">fitParent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.fitToChildren">fitToChildren</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getAbsolutePointFromRelative">getAbsolutePointFromRelative</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getAncestors">getAncestors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getEmbeddedCells">getEmbeddedCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getGroupPorts">getGroupPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPort">getPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPortGroupNames">getPortGroupNames</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPortIndex">getPortIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPorts">getPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPortsPositions">getPortsPositions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getRelativePointFromAbsolute">getRelativePointFromAbsolute</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getTransitions">getTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.hasPort">hasPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.hasPorts">hasPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.insertPort">insertPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isEmbeddedIn">isEmbeddedIn</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.portProp">portProp</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.position">position</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.prop">prop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removeAttr">removeAttr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removePort">removePort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removePorts">removePorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.resize">resize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.rotate">rotate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.stopTransitions">stopTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toBack">toBack</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toFront">toFront</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.transition">transition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.unembed">unembed</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ElementView">ElementView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.addTools">addTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.findPortNode">findPortNode</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.findPortNodes">findPortNodes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getNodeBBox">getNodeBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getNodeUnrotatedBBox">getNodeUnrotatedBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.hasTools">hasTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.hideTools">hideTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.removeTools">removeTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.showTools">showTools</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Graph">Graph</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.constructor">constructor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.JSON">JSON</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.addCell">addCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.addCells">addCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.bfs">bfs</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.clear">clear</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.cloneCells">cloneCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.cloneSubgraph">cloneSubgraph</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.dfs">dfs</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.disconnectLinks">disconnectLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsFromPoint">findModelsFromPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsInArea">findModelsInArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsUnderElement">findModelsUnderElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.fromJSON">fromJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCell">getCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCells">getCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCellsBBox">getCellsBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCommonAncestor">getCommonAncestor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getConnectedLinks">getConnectedLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getElements">getElements</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getFirstCell">getFirstCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getLastCell">getLastCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getLinks">getLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getNeighbors">getNeighbors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getPredecessors">getPredecessors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSinks">getSinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSources">getSources</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSubgraph">getSubgraph</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSuccessors">getSuccessors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isNeighbor">isNeighbor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isPredecessor">isPredecessor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSink">isSink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSource">isSource</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSuccessor">isSuccessor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.maxZIndex">maxZIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.minZIndex">minZIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.removeCells">removeCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.removeLinks">removeLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.resetCells">resetCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.search">search</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.translate">translate</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.HighlighterView">HighlighterView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.add">add</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.get">get</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.remove">remove</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.removeAll">removeAll</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.highlight">highlight</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.MOUNTABLE">MOUNTABLE</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.unhighlight">unhighlight</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.UPDATABLE">UPDATABLE</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.UPDATE_ATTRIBUTES">UPDATE_ATTRIBUTES</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.options">options</a>
                                                                                <ul class="docs-nav-items">
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.options.layer">layer</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.HighlighterView.prototype.options.z">z</a>
                                                                                    </li>
                                                                                </ul>        </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Link">Link</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.geometry">geometry</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.labels">labels</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.addTo">addTo</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.appendLabel">appendLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.attr">attr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.connector">connector</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.disconnect">disconnect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getAncestors">getAncestors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getPolyline">getPolyline</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourceCell">getSourceCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourceElement">getSourceElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourcePoint">getSourcePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetCell">getTargetCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetElement">getTargetElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetPoint">getTargetPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTransitions">getTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.hasLabels">hasLabels</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.hasLoop">hasLoop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.insertLabel">insertLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.insertVertex">insertVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isEmbeddedIn">isEmbeddedIn</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.label">label</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.labels">labels</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.prop">prop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeAttr">removeAttr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeLabel">removeLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeVertex">removeVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.reparent">reparent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.router">router</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.source">source</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.stopTransitions">stopTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.target">target</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toBack">toBack</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toFront">toFront</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.transition">transition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.vertex">vertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.vertices">vertices</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.LinkView">LinkView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addLabel">addLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addTools">addTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addVertex">addVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.findLabelNode">findLabelNode</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.findLabelNodes">findLabelNodes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPoint">getClosestPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPointLength">getClosestPointLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPointRatio">getClosestPointRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnection">getConnection</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnectionLength">getConnectionLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnectionSubdivisions">getConnectionSubdivisions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getLabelCoordinates">getLabelCoordinates</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getLabelPosition">getLabelPosition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getNodeBBox">getNodeBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getNodeUnrotatedBBox">getNodeUnrotatedBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getPointAtLength">getPointAtLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getPointAtRatio">getPointAtRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getSerializedConnection">getSerializedConnection</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getTangentAtLength">getTangentAtLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getTangentAtRatio">getTangentAtRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getVertexIndex">getVertexIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.hasTools">hasTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.hideTools">hideTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.removeRedundantLinearVertices">removeRedundantLinearVertices</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.removeTools">removeTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.requestConnectionUpdate">requestConnectionUpdate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sendToken">sendToken</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.showTools">showTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourceAnchor">sourceAnchor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourceBBox">sourceBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourcePoint">sourcePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetAnchor">targetAnchor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetBBox">targetBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetPoint">targetPoint</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Paper">Paper</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.constructor">constructor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.checkViewport">checkViewport</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientOffset">clientOffset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientToLocalPoint">clientToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientToLocalRect">clientToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineFilter">defineFilter</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineGradient">defineGradient</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineMarker">defineMarker</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.definePattern">definePattern</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.drawBackground">drawBackground</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.dumpViews">dumpViews</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewByModel">findViewByModel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewsFromPoint">findViewsFromPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewsInArea">findViewsInArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.fitToContent">fitToContent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.freeze">freeze</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getArea">getArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getComputedSize">getComputedSize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getContentArea">getContentArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getContentBBox">getContentBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getFitToContentArea">getFitToContentArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.hasScheduledUpdates">hasScheduledUpdates</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.hideTools">hideTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.isDefined">isDefined</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.isFrozen">isFrozen</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToClientPoint">localToClientPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToClientRect">localToClientRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPagePoint">localToPagePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPageRect">localToPageRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPaperPoint">localToPaperPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPaperRect">localToPaperRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.matrix">matrix</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageOffset">pageOffset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageToLocalPoint">pageToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageToLocalRect">pageToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.paperToLocalPoint">paperToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.paperToLocalRect">paperToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.properties">properties</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.removeTools">removeTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.requireView">requireView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.scaleContentToFit">scaleContentToFit</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.scaleUniformAtPoint">scaleUniformAtPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setDimensions">setDimensions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setGrid">setGrid</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setGridSize">setGridSize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setInteractivity">setInteractivity</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.showTools">showTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.transformToFitContent">transformToFitContent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.unfreeze">unfreeze</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.updateViews">updateViews</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options">options</a>
                                                                                <ul class="docs-nav-items">
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.afterRender">afterRender</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.allowLink">allowLink</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.anchorNamespace">anchorNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.async">async</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.autoFreeze">autoFreeze</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.background">background</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.beforeRender">beforeRender</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.cellViewNamespace">cellViewNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.clickThreshold">clickThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.connectionPointNamespace">connectionPointNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.connectionStrategy">connectionStrategy</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.connectorNamespace">connectorNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultAnchor">defaultAnchor</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultConnectionPoint">defaultConnectionPoint</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultConnector">defaultConnector</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultLink">defaultLink</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultLinkAnchor">defaultLinkAnchor</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultRouter">defaultRouter</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.drawGrid">drawGrid</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.drawGridSize">drawGridSize</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.el">el</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.elementView">elementView</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.embeddingMode">embeddingMode</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.findParentBy">findParentBy</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.frontParentOnly">frontParentOnly</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.frozen">frozen</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.gridSize">gridSize</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.guard">guard</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.height">height</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.highlighterNamespace">highlighterNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.highlighting">highlighting</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.interactive">interactive</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.labelsLayer">labelsLayer</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkAnchorNamespace">linkAnchorNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkPinning">linkPinning</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkView">linkView</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.magnetThreshold">magnetThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.markAvailable">markAvailable</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.model">model</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.moveThreshold">moveThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.multiLinks">multiLinks</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.overflow">overflow</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.preventContextMenu">preventContextMenu</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.preventDefaultBlankAction">preventDefaultBlankAction</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.preventDefaultViewAction">preventDefaultViewAction</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.restrictTranslate">restrictTranslate</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.routerNamespace">routerNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.snapLabels">snapLabels</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.snapLinks">snapLinks</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.snapLinksSelf">snapLinksSelf</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.sorting">sorting</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateConnection">validateConnection</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateEmbedding">validateEmbedding</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateMagnet">validateMagnet</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateUnembedding">validateUnembedding</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.viewport">viewport</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.width">width</a>
                                                                                    </li>
                                                                                </ul>        </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ToolsView">ToolsView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.blurTool">blurTool</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.blurTools">blurTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.focusTool">focusTool</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.getName">getName</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.hide">hide</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.show">show</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.options">options</a>
                                                                                <ul class="docs-nav-items">
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.options.layer">layer</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.options.z">z</a>
                                                                                    </li>
                                                                                </ul>        </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ToolView">ToolView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.blur">blur</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.focus">focus</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.getName">getName</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.hide">hide</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.isVisible">isVisible</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.show">show</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#elementTools">elementTools</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.Boundary">Boundary</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.Button">Button</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.Connect">Connect</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.Control">Control</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.HoverConnect">HoverConnect</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#elementTools.Remove">Remove</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#env">env</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#env.addTest">addTest</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#env.test">test</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#highlighters">highlighters</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.addClass">addClass</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.list">list</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.mask">mask</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.opacity">opacity</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.stroke">stroke</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#layout">layout</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.DirectedGraph">DirectedGraph</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.Port">Port</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.PortLabel">PortLabel</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#linkAnchors">linkAnchors</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkAnchors.connectionClosest">connectionClosest</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkAnchors.connectionLength">connectionLength</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkAnchors.connectionPerpendicular">connectionPerpendicular</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkAnchors.connectionRatio">connectionRatio</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkAnchors.custom">custom</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#linkTools">linkTools</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Boundary">Boundary</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Button">Button</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Connect">Connect</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.HoverConnect">HoverConnect</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Remove">Remove</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Segments">Segments</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.SourceAnchor">SourceAnchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.SourceArrowhead">SourceArrowhead</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.TargetAnchor">TargetAnchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.TargetArrowhead">TargetArrowhead</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Vertices">Vertices</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#mvc">mvc</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#mvc.Collection">Collection</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.add">add</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.at">at</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.comparator">comparator</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.each">each</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.extend">extend</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.filter">filter</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.find">find</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.findIndex">findIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.first">first</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.get">get</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.includes">includes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.initialize">initialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.isEmpty">isEmpty</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.last">last</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.length">length</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.map">map</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.model">model</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.modelId">modelId</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.models">models</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.pop">pop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.preinitialize">preinitialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.push">push</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.reduce">reduce</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.reset">reset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.set">set</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.shift">shift</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.slice">slice</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.sort">sort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Collection.prototype.unshift">unshift</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#mvc.Events">Events</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.listenTo">listenTo</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.listenToOnce">listenToOnce</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.off">off</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.on">on</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.once">once</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.stopListening">stopListening</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Events.trigger">trigger</a>
                                                    </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#mvc.Listener">Listener</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Listener.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Listener.prototype.callbackArguments">callbackArguments</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Listener.prototype.listenTo">listenTo</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Listener.prototype.stopListening">stopListening</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#mvc.Model">Model</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.attributes">attributes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.changed">changed</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.changedAttributes">changedAttributes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.cid">cid</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.cidPrefix">cidPrefix</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.clear">clear</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.defaults">defaults</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.extend">extend</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.get">get</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.has">has</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.hasChanged">hasChanged</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.id">id</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.idAttribute">idAttribute</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.initialize">initialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.isValid">isValid</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.preinitialize">preinitialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.previous">previous</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.previousAttributes">previousAttributes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.set">set</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.unset">unset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.validate">validate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.Model.prototype.validationError">validationError</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#mvc.View">View</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.attributes">attributes</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.delegateEvents">delegateEvents</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.el">el</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.events">events</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.extend">extend</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.initialize">initialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.preinitialize">preinitialize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.render">render</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.setElement">setElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#mvc.View.prototype.undelegateEvents">undelegateEvents</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#routers">routers</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.manhattan">manhattan</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.metro">metro</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.normal">normal</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.orthogonal">orthogonal</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.rightAngle">rightAngle</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#routers.rightAngle.Directions">Directions</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#shapes">shapes</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#shapes.standard">standard</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.BorderedImage">BorderedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Circle">Circle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Cylinder">Cylinder</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.DoubleLink">DoubleLink</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Ellipse">Ellipse</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.EmbeddedImage">EmbeddedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.HeaderedRectangle">HeaderedRectangle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Image">Image</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.InscribedImage">InscribedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Link">Link</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Path">Path</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Polygon">Polygon</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Polyline">Polyline</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Rectangle">Rectangle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.ShadowLink">ShadowLink</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.TextBlock">TextBlock</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#util">util</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.assign">assign</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.bindAll">bindAll</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.breakText">breakText</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.camelCase">camelCase</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.cancelFrame">cancelFrame</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.clone">clone</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.cloneDeep">cloneDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.dataUriToBlob">dataUriToBlob</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.debounce">debounce</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.deepMixin">deepMixin</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.deepSupplement">deepSupplement</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.defaults">defaults</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.defaultsDeep">defaultsDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.difference">difference</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.downloadBlob">downloadBlob</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.downloadDataUri">downloadDataUri</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.flattenDeep">flattenDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.flattenObject">flattenObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.forIn">forIn</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.getByPath">getByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.getElementBBox">getElementBBox</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.getRectPoint">getRectPoint</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.groupBy">groupBy</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.guid">guid</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.has">has</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.hashCode">hashCode</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.imageToDataUri">imageToDataUri</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.intersection">intersection</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.invoke">invoke</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.invokeProperty">invokeProperty</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isBoolean">isBoolean</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isEmpty">isEmpty</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isEqual">isEqual</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isFunction">isFunction</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isNumber">isNumber</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isObject">isObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isPercentage">isPercentage</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isPlainObject">isPlainObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isString">isString</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.merge">merge</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.mixin">mixin</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.nextFrame">nextFrame</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.noop">noop</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.normalizeEvent">normalizeEvent</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.normalizeSides">normalizeSides</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.omit">omit</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.parseCssNumeric">parseCssNumeric</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.pick">pick</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.result">result</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sanitizeHTML">sanitizeHTML</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.setAttributesBySelector">setAttributesBySelector</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.setByPath">setByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortBy">sortBy</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortedIndex">sortedIndex</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortElements">sortElements</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.supplement">supplement</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.svg">svg</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.template">template</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toArray">toArray</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toggleFullScreen">toggleFullScreen</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toKebabCase">toKebabCase</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.union">union</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uniq">uniq</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uniqueId">uniqueId</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.unsetByPath">unsetByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uuid">uuid</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.without">without</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.format">format</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#util.format.number">number</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                </ul>        </nav>
        <section class="docs-content">
            <h1 class="docs-header">Joint API</h1>

            <div class="docs-items">
                
    <div id="intro" class="docs-item">
        <a href="#intro" class="docs-item-anchor">
            <h2 class="docs-item-header"></h2>
        </a>
        <div class="docs-item-content">
<p>This is the API reference to the open source JointJS core library. If you're looking for the JointJS+ diagramming toolkit documentation, you can find that <a href="/docs/rappid">here</a>.</p>

<p>JointJS library exports three global variables: <b><code class="highlighted">joint</code></b>, <b><code class="highlighted"><span class="token constant">V</span></code></b> and <b><code class="highlighted">g</code></b>.</p>

<p>The <code class="highlighted">joint</code> namespace contains all the objects that you will use to build your diagrams. 
Additionally, <code class="highlighted">joint<span class="token punctuation">.</span>version</code> property tells you which version of JointJS you're using.</p>

<p>The <a href="vectorizer.html">V</a> global is lightweight SVG library that we call <q>Vectorizer</q>. This tiny library makes manipulation with SVG documents much easier. JointJS uses this library internally. Normally, you don't have to get in touch with this library at all but for advanced uses, it can be handy.</p>

<p>The <a href="geometry.html">g</a> global is another lightweight library used internally by JointJS that provides many useful geometry operations. Again, you might not get in touch with this library but when you do have the need to perform geometric operations in your applications, you'll certainly find it helpful.</p>

        </div>
    </div>
    <div id="anchors" class="docs-item">
    <div id="anchors.intro" class="docs-item">
        <a href="#anchors.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors</h3>
        </a>
        <div class="docs-item-content">
<p>An anchor of a link is a point in the reference element that this link wants to reach as its endpoint. (In reality, the reference element is probably in the way - then, it is the job of the <a href="#connectionPoints">connection point function</a> to determine the actual location of the route endpoint with the obstructing reference element taken into account.) Anchors are set via an <code class="highlighted">anchor</code> property provided within link end definitions (i.e. the objects provided to <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions). (If the reference object is a Link, JointJS looks at <code class="highlighted">linkAnchor</code> <a href="#linkAnchors">property</a> instead.)</p>

<p>There are many built-in anchor functions in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'center'</span></code> - <a href="#anchors.center">default anchor at center of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'modelCenter'</span></code> - <a href="#anchors.modelCenter">anchor at center of model bbox</a></li>
    <li><code class="highlighted"><span class="token string">'perpendicular'</span></code> - <a href="#anchors.perpendicular">anchor that ensures an orthogonal route to the other endpoint</a></li>
    <li><code class="highlighted"><span class="token string">'midSide'</span></code> - <a href="#anchors.midSide">anchor in the middle of the side of view bbox closest to the other endpoint</a></li>
    <li><code class="highlighted"><span class="token string">'bottom'</span></code> - <a href="#anchors.bottom">anchor in the middle of the bottom side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'left'</span></code> - <a href="#anchors.left">anchor in the middle of the left side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'right'</span></code> - <a href="#anchors.right">anchor in the middle of the right side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'top'</span></code> - <a href="#anchors.top">anchor in the middle of the top side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'bottomLeft'</span></code> - <a href="#anchors.bottomLeft">anchor at the bottom-left corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'bottomRight'</span></code> - <a href="#anchors.bottomRight">anchor at the bottom-right corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'topLeft'</span></code> - <a href="#anchors.topLeft">anchor at the top-left corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'topRight'</span></code> - <a href="#anchors.topRight">anchor at the top-right corner of view bbox</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            padding<span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default anchor function is <code class="highlighted"><span class="token string">'center'</span></code>; this can be changed with the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultAnchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        padding<span class="token operator">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#anchors.custom">custom anchor functions</a>.</p>

        </div>
    </div>
    <div id="anchors.bottom" class="docs-item">
        <a href="#anchors.bottom" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottom</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottom'</span></code> anchor function places the anchor of the link in the middle of the bottom side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.bottomLeft" class="docs-item">
        <a href="#anchors.bottomLeft" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottomLeft</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottomLeft'</span></code> anchor function places the anchor of the link at the bottom-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.bottomRight" class="docs-item">
        <a href="#anchors.bottomRight" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottomRight</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottomRight'</span></code> anchor function places the anchor of the link at the bottom-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottomRight'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.center" class="docs-item">
        <a href="#anchors.center" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.center</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'center'</span></code> anchor function is the default anchor function. It places the anchor of the link at center of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.custom" class="docs-item">
        <a href="#anchors.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New anchor functions can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>anchors<span class="token punctuation">.</span>myAnchor</code>) or passed directly as a function to the <code class="highlighted">anchor</code> property of link source/target (or to the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">option of a paper</a>).</p>

<p>In either case, the anchor function must return the anchor as a Point. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> anchorReference<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th rowspan="2">anchorReference</th>
        <td><i>g.Point</i></td>
        <td>A reference to another component of the link path that may be necessary to find this anchor point. If we are calling this method for a source anchor, it is the first vertex, or if there are no vertices the target anchor. If we are calling this method for a target anchor, it is the last vertex, or if there are no vertices the source anchor...</td>
    </tr>
    <tr>
        <td><i>SVGElement</i></td>
        <td>...if the anchor in question does not exist (yet), it is that link end's magnet. (The built-in methods usually use this element's center point as reference.)</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the anchor method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

        </div>
    </div>
    <div id="anchors.left" class="docs-item">
        <a href="#anchors.left" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.left</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'left'</span></code> anchor function places the anchor of the link in the middle of the left side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.midSide" class="docs-item">
        <a href="#anchors.midSide" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.midSide</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'midSide'</span></code> anchor function places the anchor of the link in the middle of the side of view bbox closest to the other endpoint. It accepts two arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">padding</code> away from view bbox. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            padding<span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.modelCenter" class="docs-item">
        <a href="#anchors.modelCenter" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.modelCenter</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'modelCenter'</span></code> anchor function places the anchor of the link at center of the model bbox.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'modelCenter'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.perpendicular" class="docs-item">
        <a href="#anchors.perpendicular" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.perpendicular</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'perpendicular'</span></code> anchor function tries to place the anchor of the link inside the view bbox so that the link is made orthogonal. The anchor is placed along two line segments inside the view bbox (between the centers of the top and bottom side and between the centers of the left and right sides). If it is not possible to place the anchor so that the link would be orthogonal, the anchor is placed at the <a href="#anchors.center">center</a> of the view bbox instead. The function accepts one argument, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Limit the area inside the view bbox available for placing the anchor by <code class="highlighted">padding</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'perpendicular'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            padding<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>When the link has no vertices, the other end cell's center is used as a reference point. By default, this means that a link using the <code class="highlighted"><span class="token string">'perpendicular'</span></code> anchor <q>slides</q> alongside the source element's edge while pointing to target element's center. To invert this behavior, and have the anchor <q>slide</q> alongside the target element's edge while pointing to source element's center, pass a <code class="highlighted">priority</code> option to the target function:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    priority<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'perpendicular'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            padding<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.right" class="docs-item">
        <a href="#anchors.right" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.right</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'right'</span></code> anchor function places the anchor of the link in the middle of the right side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.top" class="docs-item">
        <a href="#anchors.top" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.top</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'top'</span></code> anchor function places the anchor of the link in the middle of the top side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.topLeft" class="docs-item">
        <a href="#anchors.topLeft" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.topLeft</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor function places the anchor of the link at the top-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.topRight" class="docs-item">
        <a href="#anchors.topRight" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.topRight</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'topRight'</span></code> anchor function places the anchor of the link at the top-right corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'topRight'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectionPoints" class="docs-item">
    <div id="connectionPoints.intro" class="docs-item">
        <a href="#connectionPoints.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints</h3>
        </a>
        <div class="docs-item-content">
<p>A link connection point is an endpoint of the link route. This point is (usually) different from the <a href="#anchors">link anchor point</a>, as it takes into account the presence of the end element. Connection points are set via an <code class="highlighted">connectionPoint</code> property provided within link end definitions (i.e. the objects provided to <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions).</p>

<p>The built-in functions work by finding an intersection between the link path (the path from the link's source anchor, through its vertices, to its target anchor). However, the functions always only have access to a single path segment; the source connectionPoint is found by investigating the first segment (i.e. source anchor - first vertex, or source anchor - target anchor if there are no vertices), while the target connectionPoint is found by investigating the last segment (i.e. last vertex - target anchor, or source anchor - target anchor). This has consequences if the investigated path segment is entirely contained within the end element.</p>

<p>There are four built-in connection point functions in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'anchor'</span></code> - <a href="#connectionPoints.anchor">connection point at anchor</a></li>
    <li><code class="highlighted"><span class="token string">'bbox'</span></code> - <a href="#connectionPoints.bbox">default connection point at bbox boundary</a></li>
    <li><code class="highlighted"><span class="token string">'boundary'</span></code> - <a href="#connectionPoints.boundary">connection point at actual shape boundary</a></li>
    <li><code class="highlighted"><span class="token string">'rectangle'</span></code> - <a href="#connectionPoints.rectangle">connection point at unrotated bbox boundary</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            sticky<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default connection point is <code class="highlighted"><span class="token string">'boundary'</span></code>; this can be changed with the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultConnectionPoint <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        sticky<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

<p>All four of the built-in connection point functions accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Offset the connection point from the anchor by the specified distance along the end link path segment. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bbox'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#connectionPoints.custom">custom connection point functions</a>.</p>

        </div>
    </div>
    <div id="connectionPoints.anchor" class="docs-item">
        <a href="#connectionPoints.anchor" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.anchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'anchor'</span></code> places the connection point so that it coincides with the link end's anchor point (determined either by the <code class="highlighted">anchor</code> <a href="#anchors">function</a> or by the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a>). The position of the connection point may be modified by several additional arguments, which may be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number | object</i></td>
        <td>An object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. The connection point will be moved:
            <ul>
                <li>
                    from the anchor point by <code class="highlighted">x</code> pixels in the direction of the corresponding link end's path segment.
                </li>
                <li>
                    by <code class="highlighted">y</code> pixels in the direction of the corresponding link end's path segment, rotated by 90 degrees anti-clockwise around the anchor point.
                </li>
            </ul>
            If a number is provided, it will be used as the <code class="highlighted">x</code> offset.
        </td>
    </tr>
    <tr>
        <th>align</th>
        <td><i>'top' | 'left' | 'bottom' | 'right'</i></td>
        <td>Offset the connection point to the point given by projecting the first vertex onto the vector which points from the anchor point in the direction specified. (If there are no vertices, use the projection of the other anchor point instead.) Notably, if the reference point is not the <q>direction</q>-most point of the two, the connection point is set to be the same as the anchor point. Let us illustrate that outcome and the other possible outcome on the `'top'` direction:
    <ul>
        <li>The reference point lies below the anchor point. The anchor point is the topmost point of the two, so the connection point receives both the `x` and `y` coordinates from the anchor point. The connection point is set to be coincident with the anchor point.</li>
        <li>The reference point lies above the anchor point. In this case, the reference point is the topmost point of the two, so the connection point receives the `y` coordinate from the reference point. The connection point still receives the `x` coordinate from the anchor point. This means that the connection point is offset from the anchor point in the `'top'` direction. The three points create a right-angled triangle, with the right angle at the connection point.</li>
    </ul>
    </td>
    </tr>
    <tr>
        <th>alignOffset</th>
        <td><i>number</i></td>
        <td>After having determined the position of the connection point according to the `align` algorithm (see above), additionally offset the connection point by the specified amount in the direction specified by `align`.</td>
    </tr>
</table>


<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'anchor'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.bbox" class="docs-item">
        <a href="#connectionPoints.bbox" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.bbox</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bbox'</span></code> connection point function is the default connection point function. It places the connection point at the intersection between the link path end segment and the end element bbox. The position of the connection point may be modified by several additional arguments, which may be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number | object</i></td>
        <td>An object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. The connection point will be moved:
            <ul>
                <li>
                    from the anchor point by <code class="highlighted">x</code> pixels in the direction of the corresponding link end's path segment.
                </li>
                <li>
                    by <code class="highlighted">y</code> pixels in the direction of the corresponding link end's path segment, rotated by 90 degrees anti-clockwise around the anchor point.
                </li>
            </ul>
            If a number is provided, it will be used as the <code class="highlighted">x</code> offset.
        </td>
    </tr>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bbox'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.boundary" class="docs-item">
        <a href="#connectionPoints.boundary" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.boundary</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'boundary'</span></code> connection point function places the connection point at the intersection between the link path end segment and the actual shape of the end element. (If JointJS is unable to determine the actual shape - e.g. for text - the element bbox is used instead, just as in the <code class="highlighted"><span class="token string">'bbox'</span></code> <a href="#connectionPoints.bbox">connection point function</a>.) The position of the connection point may be modified by several additional arguments, which may be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number | object</i></td>
        <td>An object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. The connection point will be moved:
            <ul>
                <li>
                    from the anchor point by <code class="highlighted">x</code> pixels in the direction of the corresponding link end's path segment.
                </li>
                <li>
                    by <code class="highlighted">y</code> pixels in the direction of the corresponding link end's path segment, rotated by 90 degrees anti-clockwise around the anchor point.
                </li>
            </ul>
            If a number is provided, it will be used as the <code class="highlighted">x</code> offset.
        </td>
    </tr>
	<tr>
        <th>insideout</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never leaves the interior area of the end element (e.g. because the other end anchor lies within the first end element)? Should the path line be extended until an intersection with the boundary is found? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>extrapolate</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never enters the interior area of the end element (e.g. because the anchor lies outside the end element)? Should the path line be extended to try and find the boundary? Default is <code class="highlighted"><span class="token boolean">false</span></code>. Note that even if this option is <code class="highlighted"><span class="token boolean">true</span></code>, an intersection is still not guaranteed. This option takes precedence over <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args<span class="token punctuation">.</span>sticky</code>.</td>
    </tr>
    <tr>
        <th>sticky</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never enters the interior area of the end element (e.g. because the anchor lies outside the end element)? Should the closest point on the end element boundary be used instead? Default is <code class="highlighted"><span class="token boolean">false</span></code>. Note that setting this option to <code class="highlighted"><span class="token boolean">true</span></code> guarantees that a connection point will be found on the shape boundary.</td>
    </tr>
    <tr>
        <th>precision</th>
        <td><i>number</i></td>
        <td>The precision of the path intersection algorithm. Uses a logarithmic scale; increasing the number by 1 reduces the maximum observed error by a factor of ten. Default is <code class="highlighted"><span class="token number">2</span></code>, corresponding to 1% error.</td>
    </tr>
    <tr>
        <th>selector</th>
        <td><i>string</i></td>
        <td>A selector to identify subelement/magnet of the end element at whose boundary we want the connection point to be found. Default is <code class="highlighted"><span class="token keyword">undefined</span></code>, meaning that the first non-group descendant of the end element's node will be considered. (An example of another setting that may be useful is <code class="highlighted"><span class="token string">'root'</span></code>, which forces the usage of the root group bbox instead.). If set to <code class="highlighted"><span class="token boolean">false</span></code>, the magnet is used as is, even if it is an SVGGroup (it's the most suitable for use in conjunction with <a href="#dia.attributes.magnetSelector">magnetSelector</a>).</td>
    </tr>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            insideout<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            extrapolate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            sticky<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            precision<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.custom" class="docs-item">
        <a href="#connectionPoints.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connection point function can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints<span class="token punctuation">.</span>myConnectionPoint</code>) or passed directly as a function to the <code class="highlighted">connectionPoint</code> property of link source/target (or to the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">option of a paper</a>).</p>

<p>In either case, the connection point function must return the connection point as a Point. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">endPathSegmentLine<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endPathSegmentLine</th>
        <td><i>g.Line</i></td>
        <td>The link path segment at which we are finding the connection point. If we are calling this method for a source connection point, it is the first segment (source anchor - first vertex, or source anchor - target anchor). If we are calling this method for a target connection point, it is the last segment (last vertex - target anchor, or source anchor - target anchor).</td>
    </tr>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the connection point method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

        </div>
    </div>
    <div id="connectionPoints.rectangle" class="docs-item">
        <a href="#connectionPoints.rectangle" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.rectangle</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'rectangle'</span></code> connection point function places the connection point at the intersection between the link path end segment and the element's unrotated bbox. The position of the connection point may be modified by several additional arguments, which may be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number | object</i></td>
        <td>An object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. The connection point will be moved:
            <ul>
                <li>
                    from the anchor point by <code class="highlighted">x</code> pixels in the direction of the corresponding link end's path segment.
                </li>
                <li>
                    by <code class="highlighted">y</code> pixels in the direction of the corresponding link end's path segment, rotated by 90 degrees anti-clockwise around the anchor point.
                </li>
            </ul>
            If a number is provided, it will be used as the <code class="highlighted">x</code> offset.
        </td>
    </tr>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'rectangle'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectionStrategies" class="docs-item">
    <div id="connectionStrategies.intro" class="docs-item">
        <a href="#connectionStrategies.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies</h3>
        </a>
        <div class="docs-item-content">
<p>Connection strategies come into play when the user modifies the position of link endpoints. There are two situations in which this is relevant:</p>

<ul>
	<li>When the user drags a link endpoint and connects it to an element or its port. The connection strategy determines the end anchor after the user is finished dragging the link endpoint. (Note that any individual <code class="highlighted">anchor</code> property that might have been assigned on the dragged link endpoint will be overridden by the connection strategy. If necessary, have a look at the <a href="#connectionStrategies.custom">custom connectionStrategy documentation</a> for information on replicating the functionality of <a href="#anchors">anchor</a> functions.)</li>
	<li>When a user creates a link, for example by clicking a port. The connection strategy determines the new link's source anchor.</li>
</ul>

<p>Both the <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> properties are rewritten in response to user interaction. None of the built-in connection strategies preserve the originally assigned anchor and connection point functions. To assign precisely what you need as the anchor and connection point functions, you may need to define your own <a href="#connectionStrategies.custom">custom connection strategy</a>.</p>

<p>Connection strategies are not assigned on a link-by-link basis. They are set with the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">option on a paper</a>.</p>

<p>There are three built-in connection strategies in JointJS:</p>

<ul>
    <li><code class="highlighted">useDefaults</code> - <a href="#connectionStrategies.useDefaults">default strategy; ignore user pointer and use default anchor and connectionPoint functions</a></li>
    <li><code class="highlighted">pinAbsolute</code> - <a href="#connectionStrategies.pinAbsolute">use user pointer coordinates to position anchor absolutely within end element; use default connectionPoint</a></li>
    <li><code class="highlighted">pinRelative</code> - <a href="#connectionStrategies.pinRelative">use user pointer coordinates to position anchor relatively within end element; use default connectionPoint</a></li>
</ul>

<p>The default connection strategy is specified as <code class="highlighted"><span class="token keyword">null</span></code> in <a href="#dia.Paper.prototype.options.connectionStrategy">paper settings</a>, which is equivalent to <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults</code>.</p>

<p></p>Built-in connection strategies are specified by reference to their their name in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace. Example:<p></p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.custom" class="docs-item">
        <a href="#connectionStrategies.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connection strategies can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>myConnectionStrategy</code>) or passed directly as a function to the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">option of a paper</a>.</p>

<p>In either case, the connection strategy function must return an end definition (i.e. an object in the format supplied to the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions). The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">endDefinition<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> coords</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endDefinition</th>
        <td><i>object</i></td>
        <td>An end definition; the output of the appropriate end function (<code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). An object containing at least an <code class="highlighted">id</code> of the Element to which we are connecting. This object is expected to be changed by this function and then sent as the return value.</td>
    </tr>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th>coords</th>
        <td><i>g.Point</i></td>
        <td>A Point object recording the x-y coordinates of the user pointer when the connection strategy was invoked.</td>
    </tr>
</table>

<p>Custom connection strategies may be enormously useful for your users. Here we provide some examples of custom functionality.</p>

<h4 id="ancestors">Connecting to Ancestors</h4>

<p>If your diagram makes heavy use of nested elements, it may be useful to always connect links to a top-level ancestor element (instead of the element on which the arrowhead was actually dropped by user interaction):</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span><span class="token function-variable function">topAncestor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">end<span class="token punctuation">,</span> endView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> ancestors <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numAncestors <span class="token operator">=</span> ancestors<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> numAncestors <span class="token operator">?</span> ancestors<span class="token punctuation">[</span>numAncestors <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> end<span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>topAncestor<span class="token punctuation">;</span></code></pre>

<h4 id="ports">Connecting to Ports</h4>

<p>If your diagram uses ports, you usually do not want links to be able to connect anywhere else. The solution is similar to the one above:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span><span class="token function-variable function">firstPort</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">end<span class="token punctuation">,</span> endView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> ports <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numPorts <span class="token operator">=</span> ports<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> numPorts <span class="token operator">?</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> end<span class="token punctuation">.</span>id<span class="token punctuation">,</span> port<span class="token operator">:</span> ports<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token punctuation">}</span> <span class="token operator">:</span> end<span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>firstPort<span class="token punctuation">;</span></code></pre>

<h4 id="anchors">Replicating Built-in Anchor Functions</h4>

<p>Furthermore, it is very easy to replicate the built-in <a href="#anchors">anchor functions</a> for connection strategy scenarios - simply apply the anchor function to the received <code class="highlighted">end</code> parameter:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span><span class="token function-variable function">midSide</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span>midSide<span class="token punctuation">;</span></code></pre>

<h4 id="connectionPoints">Replicating Built-in Connection Point Functions</h4>

<p>What if we needed to replicate a built-in <a href="#connectionPoints">connection point function</a> instead? We use the same idea as in the previous example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span><span class="token function-variable function">boundary</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    end<span class="token punctuation">.</span>connectionPoint <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span>boundary<span class="token punctuation">;</span></code></pre>

<p>Of course, it is also possible to combine both of the examples and assign an <code class="highlighted">anchor</code> as well as <code class="highlighted">connectionPoint</code> to the <code class="highlighted">end</code> parameter of the modified link.</p>

        </div>
    </div>
    <div id="connectionStrategies.pinAbsolute" class="docs-item">
        <a href="#connectionStrategies.pinAbsolute" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.pinAbsolute</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">pinAbsolute</code> connection strategy records the coordinates of user pointer and assigns the end anchor absolutely, by reference to the top-left corner of the view bbox of the element above which the endpoint was dropped. Absolute positioning ensures that if the element is subsequently resized, the anchor stays at the same absolute distance from the edges (e.g. staying 10 pixels away from the left side and 20 pixels away from the top side).</p>

<p>The end connection point is assigned according to <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

<p>The end (source or target) that is being modified gets the <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor assigned by this connection strategy:</p>

<pre><code class="highlighted">end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
    	rotate<span class="token operator">:</span> <span class="token boolean">true</span>
        dx<span class="token operator">:</span> <span class="token punctuation">(</span>coords<span class="token punctuation">.</span>x <span class="token operator">-</span> bbox<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token punctuation">(</span>coords<span class="token punctuation">.</span>y <span class="token operator">-</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.pinRelative" class="docs-item">
        <a href="#connectionStrategies.pinRelative" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.pinRelative</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">pinRelative</code> connection strategy records the coordinates of user pointer and assigns the end anchor relatively, by reference to the top-left corner of the view bbox of the element above which the endpoint was dropped. Relative positioning ensures that if the element is subsequently resized, the anchor stays at the same relative distance from the edges (e.g. staying 25% of the way from the left side and 75% of the way from the top side).</p>

<p>The end connection point is assigned according to <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinRelative<span class="token punctuation">;</span></code></pre>

<p>The end (source or target) that is being modified gets the <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor assigned by this connection strategy:</p>

<pre><code class="highlighted">end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
    	rotate<span class="token operator">:</span> <span class="token boolean">true</span>
        dx<span class="token operator">:</span> <span class="token function">percentageString</span><span class="token punctuation">(</span>coords<span class="token punctuation">.</span>x <span class="token operator">-</span> bbox<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token function">percentageString</span><span class="token punctuation">(</span>coords<span class="token punctuation">.</span>y <span class="token operator">-</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.useDefaults" class="docs-item">
        <a href="#connectionStrategies.useDefaults" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.useDefaults</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">useDefaults</code> connection strategy is the simplest connection strategy. It ignores the coordinates of user pointer and assigns the end anchor according to the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a> and the end connection point according to the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Thus, this connection strategy is equivalent to a connection strategy of <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults<span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectors" class="docs-item">
    <div id="connectors.intro" class="docs-item">
        <a href="#connectors.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors</h3>
        </a>
        <div class="docs-item-content">
<p>Connectors take an array of link route points and generate SVG path commands so that the link can be rendered. The <code class="highlighted">connector</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.connector">function</a>.</p>

<p>There are six built-in connectors in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'straight'</span></code> - <a href="#connectors.straight">connector with straight lines and different ways to handle corners (point, rounded, bevelled, gap)</a></li>
    <li><code class="highlighted"><span class="token string">'jumpover'</span></code> - <a href="#connectors.jumpover">connector with angled straight lines and bridges over link intersections</a></li>
    <li><code class="highlighted"><span class="token string">'normal'</span></code> - <a href="#connectors.normal">(<i>deprecated</i>) default connector with angled straight lines</a></li>
    <li><code class="highlighted"><span class="token string">'rounded'</span></code> - <a href="#connectors.rounded">(<i>deprecated</i>) connector with straight lines and rounded edges</a></li>
    <li><code class="highlighted"><span class="token string">'smooth'</span></code> - <a href="#connectors.smooth">connector interpolated as a bezier curve</a></li>
    <li><code class="highlighted"><span class="token string">'curve'</span></code> - <a href="#connectors.curve">connector interpolating as a curve defined by ending tangents</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cornerType<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default connector is <code class="highlighted"><span class="token string">'normal'</span></code>; this can be changed with the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultConnector <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'straight'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        cornerType<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        cornerRadius<span class="token operator">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>All of the built-in connectors accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>raw</th>
        <td><i>boolean</i></td>
        <td>Should the router return the connection path as a <code class="highlighted">g<span class="token punctuation">.</span>Path</code> rather than as a string? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    raw<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#connectors.custom">custom connectors</a>.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching connectors with <a href="#routers">routers</a> as desired; for example, a link may be specified to use the <code class="highlighted"><span class="token string">'jumpover'</span></code> connector on top of the <code class="highlighted"><span class="token string">'manhattan'</span></code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.custom" class="docs-item">
        <a href="#connectors.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connectors can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span>myConnector</code>) or passed directly as a function to the <code class="highlighted">connector</code> property of a link (or to the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a>).</p>

<p>In either case, the connector function must return a <a href="geometry.html#g.Path">g.Path</a> representing the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d">SVG path data</a> that will be used to render the link. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> routePoints<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>sourcePoint</th>
        <td><i>g.Point</i></td>
        <td>The source connection point.</td>
    </tr>
    <tr>
        <th>targetPoint</th>
        <td><i>g.Point</i></td>
        <td>The target connection point.</td>
    </tr>
    <tr>
        <th>routePoints</th>
        <td><i>Array&lt;g.Point&gt;</i></td>
        <td>The points of the route, as returned by the router in use.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the connector method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

<p>Example of a connector defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span><span class="token function-variable function">wobble</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">SPREAD</span> <span class="token operator">=</span> args<span class="token punctuation">.</span>spread <span class="token operator">||</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> points <span class="token operator">=</span> vertices<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>targetPoint<span class="token punctuation">)</span>
    <span class="token keyword">var</span> prev <span class="token operator">=</span> sourcePoint<span class="token punctuation">;</span>
    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> n <span class="token operator">=</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> next <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> distance <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>d <span class="token operator">&lt;</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> current <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> <span class="token operator">-</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">,</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            d <span class="token operator">+=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> path<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'wobble'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    spread<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a connector passed as a function is provided below. Notice that this approach does not enable passing custom <code class="highlighted">args</code> nor can it be serialized with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">SPREAD</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> points <span class="token operator">=</span> vertices<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>targetPoint<span class="token punctuation">)</span>
    <span class="token keyword">var</span> prev <span class="token operator">=</span> sourcePoint<span class="token punctuation">;</span>
    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> n <span class="token operator">=</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> next <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> distance <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>d <span class="token operator">&lt;</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> current <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> <span class="token operator">-</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">,</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            d <span class="token operator">+=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> path<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.jumpover" class="docs-item">
        <a href="#connectors.jumpover" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.jumpover</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'jumpover'</span></code> connector draws straight lines with small arcs in place of link-link intersections. (For the time being, it cannot detect intersections with <code class="highlighted"><span class="token string">'smooth'</span></code> router links). It accepts the following additional arguments, which can be passed as the <code class="highlighted">connector<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>size</th>
        <td><i>number</i></td>
        <td>The size of the jump (the diameter of the arc, or the length of the empty spot on the line). Defaults to <code class="highlighted"><span class="token number">5</span></code>.</td>
    </tr>
    <tr>
        <th>jump</th>
        <td><i>string</i></td>
        <td>The style of the jump. Either <code class="highlighted"><span class="token string">'arc'</span></code> (using an Arcto SVG path command), <code class="highlighted"><span class="token string">'cubic'</span></code> (using a Curveto path command as a normalized approximation to Arcto), or <code class="highlighted"><span class="token string">'gap'</span></code> (leaving a blank space). Defaults to <code class="highlighted"><span class="token string">'arc'</span></code>.</td>
    </tr>
    <tr>
        <th>radius</th>
        <td><i>number</i></td>
        <td>The curve radius of the rounded corners. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'gap'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.normal" class="docs-item">
        <a href="#connectors.normal" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.normal</h3>
        </a>
        <div class="docs-item-content">
<p>Deprecated. Use the <code class="highlighted"><span class="token string">'straight'</span></code> <a href="#connectors.straight">connector</a> instead.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted"><span class="token string">'normal'</span></code> connector is the default connector for links and it is the simplest connector. It simply connects provided route points with straight-line segments.</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token comment">// deprecated</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'normal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.rounded" class="docs-item">
        <a href="#connectors.rounded" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.rounded</h3>
        </a>
        <div class="docs-item-content">
<p>Deprecated. Use the <code class="highlighted"><span class="token string">'straight'</span></code> <a href="#connectors.straight">connector</a> with <code class="highlighted">cornerType<span class="token operator">:</span> <span class="token string">'cubic'</span></code> instead. (To exactly replicate the <code class="highlighted"><span class="token string">'rounded'</span></code> connector functionality, you should also pass <code class="highlighted">precision<span class="token operator">:</span> <span class="token number">0</span></code>.)</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cornerType<span class="token operator">:</span> <span class="token string">'cubic'</span><span class="token punctuation">,</span>
    precision<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted"><span class="token string">'rounded'</span></code> connector connects provided route points with straight lines while smoothing all corners on the route. It accepts one additional argument, which can be passed within the <code class="highlighted">connector<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>radius</th>
        <td><i>number</i></td>
        <td>The curve radius of the rounded corners. Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token comment">// deprecated</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'rounded'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    radius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.smooth" class="docs-item">
        <a href="#connectors.smooth" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.smooth</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'smooth'</span></code> connector interpolates route points using a cubic bezier curve.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'smooth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.straight" class="docs-item">
        <a href="#connectors.straight" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.straight</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'straight'</span></code> connector connects provided route points with straight lines while handling corners on the route in different ways depending on provided arguments (point, rounded, bevelled, gap). It accepts four additional arguments, which can be passed within the <code class="highlighted">connector<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>cornerType</th>
        <td><i>string</i></td>
        <td>(<i>Optional</i>) How should corners on the route be handled? The default is <code class="highlighted"><span class="token string">'point'</span></code>. The available values are the following:
            <table>
                <tr>
                    <th><code class="highlighted"><span class="token string">'point'</span></code></th>
                    <td>Route segments meet at corner point with no special behavior.</td>
                </tr>
                <tr>
                    <th><code class="highlighted"><span class="token string">'cubic'</span></code></th>
                    <td>A cubic curve segment is inserted to smooth the corner. The curve radius of the smoothed corner is determined by <code class="highlighted">cornerRadius</code> argument.</td>
                </tr>
                <tr>
                    <th><code class="highlighted"><span class="token string">'line'</span></code></th>
                    <td>A straight line segment is inserted at the corner to form a bevel. The distance of the two endpoints of the bevel from the corner point is determined by <code class="highlighted">cornerRadius</code> argument.</td>
                </tr>
                <tr>
                    <th><code class="highlighted"><span class="token string">'gap'</span></code></th>
                    <td>A gap is created at the corner. The distance of the two endpoints of the gap from the corner point is determined by the <code class="highlighted">cornerRadius</code> argument.</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <th>cornerRadius</th>
        <td><i>number</i></td>
        <td>(<i>Optional</i>) The distance of endpoints of line segments around corner points (e.g. curve radius for <code class="highlighted"><span class="token string">'cubic'</span></code> corner type). Default is <code class="highlighted"><span class="token number">10</span></code>. This argument is ignored for <code class="highlighted">cornerType<span class="token operator">:</span> <span class="token string">'point'</span></code>.</td>
    </tr>
    <tr>
        <th>cornerPreserveAspectRatio</th>
        <td><i>boolean</i></td>
        <td>(<i>Optional</i>) Should distance of both endpoints be adjusted if one of them needs to be placed closer to a corner point than specified by the <code class="highlighted">cornerRadius</code> argument; or are the two allowed to be independent? (This situation happens when the distance between two consecutive route points is lower than <code class="highlighted">cornerRadius <span class="token operator">*</span> <span class="token number">2</span></code>.) Default is <code class="highlighted"><span class="token boolean">false</span></code>. This argument is ignored for <code class="highlighted">cornerType<span class="token operator">:</span> <span class="token string">'point'</span></code></td>
    </tr>
    <tr>
        <th>precision</th>
        <td><i>number</i></td>
        <td>(<i>Optional</i>) To how many decimal places should the returned point coordinates be rounded? Default is <code class="highlighted"><span class="token number">1</span></code>. This argument is ignored for <code class="highlighted">cornerType<span class="token operator">:</span> <span class="token string">'point'</span></code>.</td>
</tr></table>

<p>Example of a bevelled connector:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cornerType<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
    cornerPreserveAspectRatio<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of a rounded connector:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cornerType<span class="token operator">:</span> <span class="token string">'cubic'</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of a connector with gaps at corners:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cornerType<span class="token operator">:</span> <span class="token string">'gap'</span><span class="token punctuation">,</span>
    cornerRadius<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of a connector with simple angled lines connecting route points:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'straight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.curve" class="docs-item">
    <div id="connectors.curve.intro" class="docs-item">
        <a href="#connectors.curve.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">connectors.curve</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'curve'</span></code> connector interpolates route points using a catmull-rom curve converted into cubic bezier curve. Tangents at endings of a curve can be defined using several options.</p>

<p>Available options:</p>
<table>
    <tr>
        <th>direction</th>
        <td><i><a href="#connectors.curve.Directions">curve.Directions</a></i></td>
        <td>The overall direction of the curve. The default is <code class="highlighted">curve<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">AUTO</span></code>.</td>
    </tr>
    <tr>
        <th>sourceDirection</th>
        <td><a href="#connectors.curve.TangentDirections">curve.TangentDirections</a>|object|number</td>
        <td>The unit vector direction of the tangent at the source point. If the option is an object it must have x and y properties.
            If the option is a number, it represents an angle relative to the x-axis in the positive direction (counterclockwise).
        </td>
    </tr>
    <tr>
        <th>targetDirection</th>
        <td><a href="#connectors.curve.TangentDirections">curve.TangentDirections</a>|object|number</td>
        <td>The unit vector direction of the tangent at the target point. If the option is an object it must have x and y properties.
            If the option is a number, it represents an angle relative to the x-axis in the positive direction (counterclockwise).
        </td>
    </tr>
    <tr>
        <th>sourceTangent</th>
        <td>object</td>
        <td>Vector of the tangent to the curve at the source point. Has priority over the <code class="highlighted">sourceDirection</code> and <code class="highlighted">direction</code>. Object must have x and y properties.</td>
    </tr>
    <tr>
        <th>targetTangent</th>
        <td>object</td>
        <td>Vector of the tangent to the curve at the target point. Has priority over the <code class="highlighted">targetDirection</code> and <code class="highlighted">direction</code>. Object must have x and y properties.</td>
    </tr>
    <tr>
        <th>distanceCoefficient</th>
        <td>number</td>
        <td>Coefficient of the tangent vector length relative to the distance between points. The default is <code class="highlighted"><span class="token number">0.6</span></code>.</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td>boolean</td>
        <td>Whether the rotation of the source or target element should be taken into account. Only works for AUTO, HORIZONTAL and VERTICAL directions. The default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>The example of how to make the source point tangent always horizontal and target point tangent always go upwards:</p>
<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'curve'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    direction<span class="token operator">:</span> curve<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">HORIZONTAL</span><span class="token punctuation">,</span>
    targetDirection<span class="token operator">:</span> curve<span class="token punctuation">.</span>TangentDirections<span class="token punctuation">.</span><span class="token constant">UP</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </div>
    </div>
    <div id="connectors.curve.Directions" class="docs-item">
        <a href="#connectors.curve.Directions" class="docs-item-anchor">
            <h4 class="docs-item-header">connectors.curve.Directions</h4>
        </a>
        <div class="docs-item-content">
<p>Available values for the <code class="highlighted">direction</code> option.</p>
<table>
    <tr>
        <th>curve.Directions.AUTO</th>
        <td>Determines the tangent direction depending on the side of the element where the end point is located.</td>
    </tr>
    <tr>
        <th>curve.Directions.HORIZONTAL</th>
        <td>Limits tangents to horizontal directions (left and right) only.</td>
    </tr>
    <tr>
        <th>curve.Directions.VERTICAL</th>
        <td>Limits tangents to vertical directions (up and down) only.</td>
    </tr>
    <tr>
        <th>curve.Directions.CLOSEST_POINT</th>
        <td>Defines the direction tangent as a vector in the direction of the closest point.</td>
    </tr>
    <tr>
        <th>curve.Directions.OUTWARDS</th>
        <td>Defines the direction tangent as a vector in from the center of the element to the end point.</td>
    </tr>
</table>
        </div>
    </div>
    <div id="connectors.curve.TangentDirections" class="docs-item">
        <a href="#connectors.curve.TangentDirections" class="docs-item-anchor">
            <h4 class="docs-item-header">connectors.curve.TangentDirections</h4>
        </a>
        <div class="docs-item-content">
<p>Available values for <code class="highlighted">sourceDirection</code> and <code class="highlighted">targetDirection</code> options.</p>
<table>
    <tr>
        <th>curve.TangentDirections.AUTO</th>
        <td>Determines the tangent direction depending on the side of the element where the end point is located.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.UP</th>
        <td>Sets the direction of the tangent upwards.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.DOWN</th>
        <td>Sets the direction of the tangent downwards.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.LEFT</th>
        <td>Sets the direction of the tangent to the left.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.RIGHT</th>
        <td>Sets the direction of the tangent to the right.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.CLOSEST_POINT</th>
        <td>Defines the direction tangent as a vector in the direction of the closest point.</td>
    </tr>
    <tr>
        <th>curve.TangentDirections.OUTWARDS</th>
        <td>Defines the direction tangent as a vector from the center of the element to the corresponding end point.</td>
    </tr>
</table>
        </div>
    </div>
    </div>
    </div>
    <div id="dia" class="docs-item">
    <div id="dia.attributes" class="docs-item">
    <div id="dia.attributes.intro" class="docs-item">
        <a href="#dia.attributes.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes</h4>
        </a>
        <div class="docs-item-content">
<p>The attributes in JointJS define how the graphics elements are to be rendered inside of the element and link views.
All the standard SVG <a href="https://www.w3.org/TR/SVG/styling.html" target="_blank">styling properties</a> are available (both <code class="highlighted">kebab<span class="token operator">-</span><span class="token keyword">case</span></code> and <code class="highlighted">camelCase</code> styles).</p>

<p>In addition JointJS modifies the behavior of existing attributes (the use of <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> for specifying attribute values) and defines new so-called "special" attributes and allows programmers to define their own.</p>

<style>
    .calc-part {
        line-height: 50px;
        padding: 5px;
        border: 1px solid black;
        background: white;
        border-radius: 5px;
    }
    .calc-header {
        color: #3c4260;
    }
</style>

<h4 class="calc-header" id="dia.attributes.calc">calc()</h4>

<p>The <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function lets you perform calculations when specifying SVG attributes values.</p>

<h5 class="calc-header">Syntax:</h5>

<p>The <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function takes a simple expression as its parameter, with the expression's result used as the value.  The expression can be any simple expression in one of the following forms:</p>



<ul>
    <li>
        <span class="calc-part">Variable</span>
        <pre><code class="highlighted"><span class="token string">'calc(w)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Variable</span>
        <span class="calc-part">Addition or Subtraction</span>
        <pre><code class="highlighted"><span class="token string">'calc(w + 5)'</span>
<span class="token string">'calc(h - 10)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Multiplication</span>
        <span class="calc-part">Variable</span>
        <pre><code class="highlighted"><span class="token string">'calc(2 * w)'</span>
<span class="token string">'calc(0.5 * h)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Variable</span>
        <span class="calc-part">Division</span>
        <pre><code class="highlighted"><span class="token string">'calc(w / 2)'</span>
<span class="token string">'calc(h / 3)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Variable</span>
        <span class="calc-part">Division</span>
        <pre><code class="highlighted"><span class="token string">'calc(w / 2)'</span>
<span class="token string">'calc(h / 3)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Multiplication</span>
        <span class="calc-part">Variable</span>
        <span class="calc-part">Addition or Subtraction</span>
        <pre><code class="highlighted"><span class="token string">'calc(2 * w + 5)'</span>
<span class="token string">'calc(0.5 * h - 10)'</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Variable</span>
        <span class="calc-part">Division</span>
        <span class="calc-part">Addition or Subtraction</span>
        <pre><code class="highlighted"><span class="token string">'calc(w / 2 + 5)'</span>
<span class="token string">'calc(h / 3 - 10)'</span></code></pre>
    </li>
</ul>

<p>Where:</p>

<ul>
    <li>
        <p>
            <span class="calc-part">Variable</span> is a symbol representing a value that can change, when the model attributes change (size, attrs).
            <table>
                <tr>
                    <th>variable</th>
                    <th>name</th>
                    <th>description</th>
                </tr>
                <tr>
                    <td><code class="highlighted">w</code></td>
                    <td>width</td>
                    <td>The current width of the model (<code class="highlighted">model<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'size/width'</span><span class="token punctuation">)</span></code>). The value can be bound to an SVGElement's size instead by using <a href="#dia.attributes.ref">ref</a> attribute.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">h</code></td>
                    <td>height</td>
                    <td>The current height of the model (<code class="highlighted">model<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'size/height'</span><span class="token punctuation">)</span></code>). The value can be bound to an SVGElement's size instead by using <a href="#dia.attributes.ref">ref</a> attribute.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">x</code></td>
                    <td>x</td>
                    <td>The current x coordinate of the SVGElement in the element's coordinate system. If the attribute is not bound to a specific SVGElement with <a href="#dia.attributes.ref">ref</a> attribute, the value of x is always zero.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">y</code></td>
                    <td>y</td>
                    <td>The current y coordinate of the SVGElement in the element's coordinate system. If the attribute is not bound to a specific SVGElement with <a href="#dia.attributes.ref">ref</a> attribute, the value of y is always zero.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">s</code></td>
                    <td>shortest</td>
                    <td>The shortest side of the rectangle. The minimum of <i>width</i> and <i>height</i>.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">l</code></td>
                    <td>longest</td>
                    <td>The longest side of the rectangle. The maximum of <i>width</i> and <i>height</i>.</td>
                </tr>
                <tr>
                    <td><code class="highlighted">d</code></td>
                    <td>diagonal</td>
                    <td>The length of the diagonal of the rectangle of size <i>width</i> and <i>height</i>.</td>
                </tr>
            </table>
        </p>
    </li>
    <li>
        <span class="calc-part">Multiplication</span> is an optional floating number factor of the variable. It's a number followed by the <code class="highlighted"><span class="token operator">*</span></code> symbol.
        <pre><code class="highlighted"><span class="token number">1.5</span> <span class="token operator">*</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Division</span> is an optional floating number divisor of the variable. It's the <code class="highlighted"><span class="token operator">/</span></code> symbol followed by a number.
        <pre><code class="highlighted"><span class="token operator">/</span> <span class="token number">2</span></code></pre>
    </li>
    <li>
        <span class="calc-part">Addition or Subtraction</span> is an optional floating number added or subtracted from the variable. It's a <code class="highlighted"><span class="token operator">+</span></code> or <code class="highlighted"><span class="token operator">-</span></code> symbol followed by a number.
        <pre><code class="highlighted"><span class="token operator">+</span> <span class="token number">5</span></code></pre>
    </li>
</ul>

<h5 class="calc-header">Notes:</h5>

<ul>
    <li>Expression is case-sensitive.</li>
    <li>The <code class="highlighted"><span class="token operator">+</span></code>, <code class="highlighted"><span class="token operator">-</span></code> and <code class="highlighted"><span class="token operator">*</span></code> operators do not require whitespace.</li>
    <li>No extra parentheses are allowed.</li>
    <li>It is permitted to nest <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions, in which case the inner ones are evaluated first.
        e.g. <pre><code class="highlighted"><span class="token string">'M 0 0 H calc(w - calc(h))'</span></code></pre>
    </li>
</ul>

<p>It can be used with the following attributes:</p>

<ul>
    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect">SVGRectElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x">x</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y">y</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/rx">rx</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/ry">ry</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/width">width</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/height">height</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/image">SVGImageElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x">x</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y">y</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/width">width</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/height">height</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line">SVGLineElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x1">x1</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x2">x2</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y2">y2</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y2">y2</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/ellipse">SVGEllipseElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/cx">cx</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/cy">cy</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/rx">rx</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/ry">ry</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle">SVGCircleElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/cx">cx</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/cy">cy</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/r">r</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polygon">SVGPolygonElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/points">points</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li>
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/polyline">SVGPolylineElement</a>,
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/points">points</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path">SVGPathElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d">d</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>

    <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/text">SVGTextElement</a>
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/x">x</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/y">y</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dx">dx</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dy">dy</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/font-size">font-size</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>
    <li>
        Any SVG element (e.g. <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g">SVGGElement</a> )
        <ul>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform">transform</a></li>
            <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width">stroke-width</a></li>
        </ul>
    </li>
</ul>

<h5 class="calc-header">Examples:</h5>

<pre><code class="highlighted">el<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dia.Element</span>

<span class="token comment">// &lt;rect joint-selector="myRect" width="200" height="100" rx="20" ry="10" /></span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myRect'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span>
   height<span class="token operator">:</span> <span class="token string">'calc(h)'</span><span class="token punctuation">,</span>
   rx<span class="token operator">:</span> <span class="token string">'calc(0.1*w)'</span><span class="token punctuation">,</span>
   ry<span class="token operator">:</span> <span class="token string">'calc(0.1*h)'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &lt;image joint-selector="myImage" x="105" y="55" /></span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myImage/x'</span><span class="token punctuation">,</span> <span class="token string">'calc(0.5*w+5)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myImage/y'</span><span class="token punctuation">,</span> <span class="token string">'calc(0.5*h+5)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &lt;path joint-selector="myPath" d="M 10 50 190 50" /></span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myPath/d'</span><span class="token punctuation">,</span> <span class="token string">'M 10 calc(0.5*h) calc(w-10) calc(0.5*h)'</span><span class="token punctuation">)</span>

<span class="token comment">// &lt;polygon joint-selector="myPolygon" points="0,0 200,0 200,100 0,100" /></span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myPolygon/d'</span><span class="token punctuation">,</span> <span class="token string">'0,0 calc(w),0 calc(w),calc(h) 0,calc(h)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Resize the rectangle to match the text size with extra 5 pixels of padding</span>
<span class="token comment">// &lt;rect joint-selector="myTextBackground" /></span>
<span class="token comment">// &lt;text joint-selector="myText" >Some text&lt;/text></span>
el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'myTextBackground'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    ref<span class="token operator">:</span> <span class="token string">'myText'</span><span class="token punctuation">,</span>
    x<span class="token operator">:</span> <span class="token string">'calc(x - 5)'</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token string">'calc(y - 5)'</span>
    width<span class="token operator">:</span> <span class="token string">'calc(w + 10)'</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token string">'calc(h + 10)'</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>


<p>Here is the list of all built-in attributes.

        </p></div>
    </div>
    <div id="dia.attributes.atConnectionLengthIgnoreGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionLengthIgnoreGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionLengthIgnoreGradient</h4>
        </a>
        <div class="docs-item-content">
<p>Move the subelement to the point at a given distance along the connection path but do not auto-orient it according to the path's gradient. Use a positive number to define the distance from the source of the link and a negative number from the target of the link. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLengthIgnoreGradient<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionLengthKeepGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionLengthKeepGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionLengthKeepGradient</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>atConnectionLength</b></p>
<p>Move and auto-orient the subelement to the point at a given distance along the connection path. Use a positive number to define the distance from the source of the link and a negative number from the target of the link. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLength<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLengthKeepGradient<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionRatioIgnoreGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionRatioIgnoreGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionRatioIgnoreGradient</h4>
        </a>
        <div class="docs-item-content">
<p>Move the subelement to the point at a given ratio of the connection total length but do not auto-orient it according to the path's gradient. It accepts a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatioKeepGradient<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionRatioKeepGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionRatioKeepGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionRatioKeepGradient</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>atConnectionRatio</b></p>
<p>Move and auto-orient the subelement to the point at a given ratio of the connection total length. It accepts a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatio<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatioKeepGradient<span class="token operator">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.connection" class="docs-item">
        <a href="#dia.attributes.connection" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.connection</h4>
        </a>
        <div class="docs-item-content">
<p>
If <code class="highlighted"><span class="token boolean">true</span></code>, set the shape of the subelement to match the shape of the LinkView (set the <code class="highlighted"><span class="token string">'d'</span></code> attribute to the result of the link connector). It's valid only for <code class="highlighted">SVGPathElement</code> within the LinkView context.
</p>

<p>You can also provide an object with the following options:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>stubs</td>
        <td><i>Number</i></td>
        <td>If provided, display only the beginning and end stubs of the connection and hide the remaining central section. A positive value determines the length of each stub. If the value is negative, it determines the length of the hidden section of the connection between the two stubs.</td>
    </tr>
</table>

<pre><code class="highlighted">link1<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'pathSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> connection<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> stroke<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'none'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link2<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'pathSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> connection<span class="token operator">:</span> <span class="token punctuation">{</span> stubs<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.containerSelector" class="docs-item">
        <a href="#dia.attributes.containerSelector" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.containerSelector</h4>
        </a>
        <div class="docs-item-content">
<p>Designate another subelement of the cell as a proxy target for the cell's container, whenever this subelement (the one on which this attribute is defined) becomes the target of an embedding. (Usually, this attribute needs to be defined on the `'root'` subelement of the cell, since that is the default target for the cell's container.) Expects a selector.</p>

<p>A change in the cell's container affects the following characteristics of the cell view:
    <ul>
        <li>embedding highlighter</li>
    </ul>
</p>

<pre><code class="highlighted"><span class="token comment">// `standard.Rectangle` has `root`, `body` and `label` subelements</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// we want to have the `label` on the outside and under the `body` of the rectangle:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> refY<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> textVerticalAnchor<span class="token operator">:</span> <span class="token string">'top'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// normally, when a user tries to embed a child to the rectangle, the `root` subelement would be highlighted (the wrapper of `body` and `label`)</span>
<span class="token comment">// however, we want only the `body` to be highlighted, so we need to specify it as a proxy for `root`:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'containerSelector'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.attributes.displayEmpty" class="docs-item">
        <a href="#dia.attributes.displayEmpty" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.displayEmpty</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.</p>

<p>If set to <code class="highlighted"><span class="token boolean">true</span></code>, the SVGTextElement with empty content will be rendered. It's useful when the text needs to be editable.</p>

        </div>
    </div>
    <div id="dia.attributes.event" class="docs-item">
        <a href="#dia.attributes.event" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.event</h4>
        </a>
        <div class="docs-item-content">
<p>
The <code class="highlighted">event</code> attribute makes the selected node and its descendants trigger an arbitrary event when clicked (mousedown/touchstart).
This event is triggered on the view itself and the paper.
The paper handler is called with the signature <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code>,
while the cell view handler is called only with <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code>.
</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  image<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// pointerdown on the image SVG node will trigger the `element:delete` event</span>
    event<span class="token operator">:</span> <span class="token string">'element:delete'</span><span class="token punctuation">,</span>
    xlinkHref<span class="token operator">:</span> <span class="token string">'trash.png'</span>
    width<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">20</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Binding handler to the event</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Stop any further actions with the element view e.g. dragging</span>
  evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Are you sure you want to delete this element?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.fill" class="docs-item">
        <a href="#dia.attributes.fill" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.fill</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">fill</code> attribute becomes a special attribute only in case it's defined as an object, instead of the usual SVG syntax (e.g. <code class="highlighted"><span class="token string">"#ffaabb"</span></code>).
    If it's defined as an object, it is assumed to be either a gradient or pattern definition. It must have the form defined by the <a href="#dia.Paper.prototype.defineGradient">defineGradient()</a> (resp. <a href="#dia.Paper.prototype.definePattern">definePattern()</a>) paper method.</p>

<h4>Gradient</h4>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/fill'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'linearGradient'</span><span class="token punctuation">,</span>
    stops<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#E67E22'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#D35400'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'40%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#E74C3C'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'60%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#C0392B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'80%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#F39C12'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4>Pattern</h4>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/fill'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'pattern'</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'polygon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            points<span class="token operator">:</span> <span class="token string">'0,0 2,5 0,10 5,8 10,10 8,5 10,0 5,2'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.filter" class="docs-item">
        <a href="#dia.attributes.filter" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.filter</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">filter</code> attribute becomes a special attribute only in case it's defined as an object, instead of the usual SVG syntax (e.g. <code class="highlighted"><span class="token string">"url(#myfilter)"</span></code>).
    If it's defined as an object, it must have the form defined by the <a href="#dia.Paper.prototype.defineFilter">defineFilter()</a> paper method.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/filter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dropShadow'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        dx<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        blur<span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>


        </div>
    </div>
    <div id="dia.attributes.highlighterSelector" class="docs-item">
        <a href="#dia.attributes.highlighterSelector" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.highlighterSelector</h4>
        </a>
        <div class="docs-item-content">
<p>Designate another subelement of the cell as a proxy target for the cell's magnet, whenever this subelement (the one on which this attribute is defined) becomes the source/target of a link. (Usually, this attribute needs to be defined on the `'root'` subelement of the cell, since that is the default target for the cell's magnet.) Expects a selector.</p>

<p>A change in the cell's magnet affects the following characteristics of the cell view:
    <ul>
        <li>magnet highlight</li>
    </ul>
</p>

<p>It has no effect on the connection validation and link model attributes.</p>

<pre><code class="highlighted"><span class="token comment">// `standard.Rectangle` has `root`, `body` and `label` subelements</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// we want to have the `label` on the outside and under the `body` of the rectangle:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> refY<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> textVerticalAnchor<span class="token operator">:</span> <span class="token string">'top'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// normally, highlighters would appear around the `root` subelement (the wrapper of `body` and `label`)</span>
<span class="token comment">// however, we want highlighters to highlight only to the `body` subelement, so we need to specify it as a proxy for `root`:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'highlighterSelector'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.magnet" class="docs-item">
        <a href="#dia.attributes.magnet" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.magnet</h4>
        </a>
        <div class="docs-item-content">
<p>
        When set to <code class="highlighted"><span class="token boolean">true</span></code>, the subelement can become the source/target of a link during link reconnection. Useful for
        so called 'ports'. When set to <code class="highlighted">magnet<span class="token operator">:</span> <span class="token string">'passive'</span></code>, a new link won't be added to the graph when a user clicks
        on the respective magnet. This use case is common for the creation of 'input' ports.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    <span class="token comment">// Other Paper options</span>
    <span class="token comment">// The default behaviour of magnet validation</span>
    <span class="token function-variable function">validateMagnet</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">_cellView<span class="token punctuation">,</span> magnet<span class="token punctuation">,</span> _evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> magnet<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'magnet'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'passive'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> portIn <span class="token operator">=</span> <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Label position and markup</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span> 
        portBody<span class="token operator">:</span> <span class="token punctuation">{</span> 
            <span class="token comment">// Other portBody attributes</span>
            magnet<span class="token operator">:</span> <span class="token string">'passive'</span> <span class="token comment">// No link added upon user click</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'port'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'portBody'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.attributes.magnetSelector" class="docs-item">
        <a href="#dia.attributes.magnetSelector" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.magnetSelector</h4>
        </a>
        <div class="docs-item-content">
<p>Designate another subelement of the cell as a proxy target for the cell's magnet, whenever this subelement (the one on which this attribute is defined) becomes the source/target of a link. (Usually, this attribute needs to be defined on the `'root'` subelement of the cell, since that is the default target for the cell's magnet.) Expects a selector.</p>

<p>A change in the cell's magnet affects the following characteristics of the cell view:
    <ul>
        <li>link anchor</li>
        <li>link connection point</li>
        <li>connector</li>
        <li>router</li>
    </ul>
</p>

<p>It has no effect on the connection validation, magnet highlighter and the <code class="highlighted">source</code> and <code class="highlighted">target</code> link model attributes.</p>

<pre><code class="highlighted"><span class="token comment">// `standard.Rectangle` has `root`, `body` and `label` subelements</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// we want to have the `label` on the outside and under the `body` of the rectangle:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> refY<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> textVerticalAnchor<span class="token operator">:</span> <span class="token string">'top'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// normally, links would connect to the `root` subelement (the wrapper of `body` and `label`)</span>
<span class="token comment">// however, we want links to connect only to the `body` subelement, so we need to specify it as a proxy for `root`:</span>
rect<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'magnetSelector'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.port" class="docs-item">
        <a href="#dia.attributes.port" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.port</h4>
        </a>
        <div class="docs-item-content">

        <p>An object containing at least an <code class="highlighted">id</code> property. This property uniquely identifies the port.
            If a link gets connected to a <a href="#dia.attributes.magnet">magnet</a> that has also a <code class="highlighted">port</code>
            object defined, the <code class="highlighted">id</code> property of the port object will be copied to the <code class="highlighted">port</code> property
            of the source/target of the link.</p>

        </div>
    </div>
    <div id="dia.attributes.props" class="docs-item">
        <a href="#dia.attributes.props" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.props</h4>
        </a>
        <div class="docs-item-content">
<p>Special attribute for setting the properties of the HTMLElement. The value is not set as a node attribute, but using the DOM property.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> readonly<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    placeholder<span class="token operator">:</span> <span class="token string">'Enter text'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p><code class="highlighted">props</code> is an object with one or more of the following properties: <code class="highlighted">value</code>, <code class="highlighted">checked</code>, <code class="highlighted">disabled</code>, <code class="highlighted">readOnly</code>, <code class="highlighted">contentEditable</code>, <code class="highlighted">multiple</code>, <code class="highlighted">selected</code>, <code class="highlighted">indeterminate</code>.</p>

<p>For example, to set the content of the <i>textarea</i> element, use the following syntax:</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'textarea/props/value'</span><span class="token punctuation">,</span> <span class="token string">'textarea content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>When setting a value of the <i>select</i> element, pass the value of the <i>option</i> element.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'select/props/value'</span><span class="token punctuation">,</span> <span class="token string">'option1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>For the <i>select</i> with multiple options, pass an array of values.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'select/props/value'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'option1'</span><span class="token punctuation">,</span> <span class="token string">'option2]'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.ref" class="docs-item">
        <a href="#dia.attributes.ref" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.ref</h4>
        </a>
        <div class="docs-item-content">

        <p>Markup or CSS selector pointing to an element that is used as a reference for relative positioning attributes.</p>

        </div>
    </div>
    <div id="dia.attributes.refCx" class="docs-item">
        <a href="#dia.attributes.refCx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refCx</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">cx</code> attribute of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">cx</code> of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refCy" class="docs-item">
        <a href="#dia.attributes.refCy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refCy</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">cy</code> attribute of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">cy</code> of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refDKeepOffset" class="docs-item">
        <a href="#dia.attributes.refDKeepOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDKeepOffset</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">d</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refD</code> path data is scaled so that the path's dimensions match the reference element's dimensions, and translated so that the path's origin matches the origin of the reference element.</p>
<p>The original path data offset is preserved. This means that if the top-left corner of the <code class="highlighted">refD</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the gap between the path and origin is preserved in the rendered shape, as well.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Path <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Path'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token punctuation">{</span>
            refDKeepOffset<span class="token operator">:</span> <span class="token string">'M 10 10 30 10 30 30 z'</span><span class="token punctuation">,</span> <span class="token comment">// path offset is 10,10</span>
            fill<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token string">'path'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered path's `d` attribute will be 'M 10 10 50 10 50 50 z'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('path').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refDResetOffset" class="docs-item">
        <a href="#dia.attributes.refDResetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDResetOffset</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refD</b></p>
<p>Set <code class="highlighted">d</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refD</code> path data is scaled so that the path's dimensions match the reference element's dimensions, and translated so that the path's origin matches the origin of the reference element.</p>
<p>The original path data offset is not preserved. This means that if the top-left corner of the <code class="highlighted">refD</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the path is translated so that this gap disappears. The rendered path then fits perfectly into the reference element's bounding box.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Path <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Path'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token punctuation">{</span>
            refDResetOffset<span class="token operator">:</span> <span class="token string">'M 10 10 30 10 30 30 z'</span><span class="token punctuation">,</span> <span class="token comment">// path offset of 10,10 will be discarded</span>
            fill<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token string">'path'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered path's `d` attribute will be 'M 0 0 40 0 40 40 z'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('path').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refDx" class="docs-item">
        <a href="#dia.attributes.refDx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDx</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-dx</b></p>
<p>Make x-coordinate of the subelement relative to the right edge of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.</p>

        </div>
    </div>
    <div id="dia.attributes.refDy" class="docs-item">
        <a href="#dia.attributes.refDy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDy</h4>
        </a>
        <div class="docs-item-content">

        <p>Make y-coordinate of the subelement relative to the bottom edge of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.</p>
        </div>
    </div>
    <div id="dia.attributes.refHeight" class="docs-item">
        <a href="#dia.attributes.refHeight" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refHeight</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-height</b></p>
<p>Set height of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the height of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">width</code> and <code class="highlighted">height</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refHeight2" class="docs-item">
        <a href="#dia.attributes.refHeight2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refHeight2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refHeight</code>. Useful when one needs to resize an element absolutely and relatively at the same time. Note that all percentages are relative to 100% of the referenced height.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refHeight<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> refHeight2<span class="token operator">:</span> <span class="token string">'-75%'</span> <span class="token punctuation">}</span> <span class="token comment">// resizes the element to 25% of the reference height (25% = 100% - 75%) plus extra 20 pixels</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refPointsKeepOffset" class="docs-item">
        <a href="#dia.attributes.refPointsKeepOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refPointsKeepOffset</h4>
        </a>
        <div class="docs-item-content">
<p>Set the <code class="highlighted">points</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>polygon<span class="token operator">></span></code> or <code class="highlighted"><span class="token operator">&lt;</span>polyline<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refPoints</code> are scaled so that the subelement's dimensions match the reference element's dimensions, and translated so that the their origin matches the origin of the reference element.</p>
<p>The original points offset is preserved. This means that if the top-left corner of the <code class="highlighted">refPoints</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the gap between the points and origin is preserved in the rendered shape, as well.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Polygon <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Polygon'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        polygon<span class="token operator">:</span> <span class="token punctuation">{</span>
            refPoints<span class="token operator">:</span> <span class="token string">'10,10 30,10 30,30'</span><span class="token punctuation">,</span> <span class="token comment">// points offset is 10,10</span>
            fill<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token string">'polygon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered polygon's `points` attribute will be '10,10 50,10 50,50'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('polygon').attr('points');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refPointsResetOffset" class="docs-item">
        <a href="#dia.attributes.refPointsResetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refPointsResetOffset</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refPoints</b></p>
<p>Set the <code class="highlighted">points</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>polygon<span class="token operator">></span></code> or <code class="highlighted"><span class="token operator">&lt;</span>polyline<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refPoints</code> are scaled so that the subelement's dimensions match the reference element's dimensions, and translated so that the their origin matches the origin of the reference element.</p>
<p>The original points offset is not preserved. This means that if the top-left corner of the <code class="highlighted">refPoints</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the subelement is translated so that this gap disappears. The rendered subelement then fits perfectly into the reference element's bounding box.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Polygon <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Polygon'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        polygon<span class="token operator">:</span> <span class="token punctuation">{</span>
            refPoints<span class="token operator">:</span> <span class="token string">'10,10 30,10 30,30'</span><span class="token punctuation">,</span> <span class="token comment">// points offset of 10,10 will be discarded</span>
            fill<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token string">'polygon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered polygon's `points` attribute will be '0,0 40,0 40,40'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('polygon').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refRCircumscribed" class="docs-item">
        <a href="#dia.attributes.refRCircumscribed" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRCircumscribed</h4>
        </a>
        <div class="docs-item-content">
<p>Set the <code class="highlighted">r</code> attribute of the subelement relatively to the circumscribed size (length of the diagonal of the bounding box) of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">r</code> of the subelement will be set as a percentage of the size of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the size of the subelement will be smaller/bigger than the size of the referenced element by the amount specified. Note that this makes sense only for SVG elements that support <code class="highlighted">r</code> attribute, such as <code class="highlighted"><span class="token operator">&lt;</span>circle<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRInscribed" class="docs-item">
        <a href="#dia.attributes.refRInscribed" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRInscribed</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refR</b></p>
<p>Set the <code class="highlighted">r</code> attribute of the subelement relatively to the inscribed size (width or height of the bounding box, whichever is smaller) of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">r</code> of the subelement will be set as a percentage of the size of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the size of the subelement will be smaller/bigger than the size of the referenced element by the amount specified. Note that this makes sense only for SVG elements that support <code class="highlighted">r</code> attribute, such as <code class="highlighted"><span class="token operator">&lt;</span>circle<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRx" class="docs-item">
        <a href="#dia.attributes.refRx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRx</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">rx</code> attribute of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">rx</code> of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRy" class="docs-item">
        <a href="#dia.attributes.refRy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRy</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">ry</code> attribute of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">ry</code> of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refWidth" class="docs-item">
        <a href="#dia.attributes.refWidth" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refWidth</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-width</b></p>
<p>Set width of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the width of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the width
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    For example, <code class="highlighted"><span class="token string">'ref-width'</span><span class="token operator">:</span> <span class="token number">.75</span></code> sets the width of the subelement to <code class="highlighted"><span class="token number">75</span><span class="token operator">%</span></code> of the width of the referenced element.
    <code class="highlighted"><span class="token string">'ref-width'</span><span class="token operator">:</span> <span class="token number">20</span></code> makes the width to be <code class="highlighted"><span class="token number">20</span>px</code> less than the width of the referenced element.
    Note that this makes sense only for SVG elements that support <code class="highlighted">width</code> and <code class="highlighted">height</code> attributes, such
    as <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span><span class="token punctuation">></span></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refWidth2" class="docs-item">
        <a href="#dia.attributes.refWidth2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refWidth2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refWidth</code>. Useful when one needs to resize an element absolutely and relatively at the same time. Note that all percentages are relative to 100% of the referenced width.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refWidth<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> refWidth2<span class="token operator">:</span> <span class="token string">'-75%'</span> <span class="token punctuation">}</span> <span class="token comment">// resizes the element to 25% of the reference width (25% = 100% - 75%) plus extra 20 pixels</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refX" class="docs-item">
        <a href="#dia.attributes.refX" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refX</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-x</b></p>
<p>Make x-coordinate of the subelement relative to the x-coordinate of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If <code class="highlighted">ref<span class="token operator">-</span>x</code> is in the <code class="highlighted"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the offset is
    calculated from the fraction of the bounding box of the referenced element. Otherwise, it is an absolute value in pixels.
</p>

        </div>
    </div>
    <div id="dia.attributes.refX2" class="docs-item">
        <a href="#dia.attributes.refX2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refX2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refX</code>. Useful when one needs to position an element absolutely and relatively at the same time.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refX<span class="token operator">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> refX2<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token comment">// moves the element by 50% of the referenced width plus extra 20 pixels.</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refY" class="docs-item">
        <a href="#dia.attributes.refY" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refY</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-y</b></p>
<p>Make y-coordinate of the subelement relative to the y-coordinate of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If <code class="highlighted">ref<span class="token operator">-</span>y</code> is in the <code class="highlighted"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the offset is
    calculated from the fraction of the bounding box of the referenced element. Otherwise, it is an absolute value in pixels.
</p>

        </div>
    </div>
    <div id="dia.attributes.refY2" class="docs-item">
        <a href="#dia.attributes.refY2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refY2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refY</code>. Useful when one needs to position an element absolutely and relatively at the same time.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refY<span class="token operator">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> refY2<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token comment">// moves the element by 50% of the referenced height plus extra 20 pixels.</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.resetOffset" class="docs-item">
        <a href="#dia.attributes.resetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.resetOffset</h4>
        </a>
        <div class="docs-item-content">
<p>If set to <code class="highlighted"><span class="token boolean">true</span></code>, the subelement offset (the distance from x0 y0 to the most top-left point) will be reset to x0 y0.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// The path bbox for `d="M 10 10 20 20"` is x10 y10 w10 h10.</span>
    d<span class="token operator">:</span> <span class="token string">'M 10 10 20 20'</span><span class="token punctuation">,</span>
    <span class="token comment">// The path bbox will be changed to x0 y0 w10 h10.</span>
    <span class="token comment">// This has same effect as passing path with `d="M 0 0 10 10"`</span>
    resetOffset<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.attributes.sourceMarker" class="docs-item">
        <a href="#dia.attributes.sourceMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.sourceMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. It draws an SVG element at the beginning of a path (the source of the link). The element is automatically rotated based on the path direction.
  It must have the form defined by the <a href="#dia.Paper.prototype.defineMarker">defineMarker()</a> paper method.</p>
<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/sourceMarker'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span> <span class="token comment">// SVG Circle</span>
  fill<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
  stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
  r<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// radius of the circle</span>
  cx<span class="token operator">:</span> <span class="token number">5</span> <span class="token comment">// move the centre of the circle 5 pixels from the end of the path</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.stroke" class="docs-item">
        <a href="#dia.attributes.stroke" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.stroke</h4>
        </a>
        <div class="docs-item-content">

        <p>The <code class="highlighted">stroke</code> attribute becomes a special attribute only in case it's defined as an object. This has the exact same
            behaviour as the <a href="#dia.attributes.fill">fill</a> attribute.
        </p>

        </div>
    </div>
    <div id="dia.attributes.style" class="docs-item">
        <a href="#dia.attributes.style" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.style</h4>
        </a>
        <div class="docs-item-content">

        <p>An object containing CSS styles for a subelement.</p>
        </div>
    </div>
    <div id="dia.attributes.targetMarker" class="docs-item">
        <a href="#dia.attributes.targetMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.targetMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. The same as <a href="#dia.attributes.sourceMarker">sourceMarker</a> but draws an SVG element at the end of the path.
Note the coordinate system for drawing is rotated by 180 degrees for convenience (this allows to use the same marker for source and target and have them both face the connected elements).</p>

        </div>
    </div>
    <div id="dia.attributes.text" class="docs-item">
        <a href="#dia.attributes.text" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.text</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.</p>

<p>The <code class="highlighted">text</code> attribute contains the text that should be set on the subelement. If the provided string does not contain any newline characters (<code class="highlighted"><span class="token string">'\n'</span></code>), the text is set directly as the content of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement. Alternatively, if the provided string has multiple lines, each line becomes the content of a <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tspan</span><span class="token punctuation">></span></span></code> child of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement.</p>

<p>If you need the text to be automatically wrapped inside the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement, you should use the <code class="highlighted">textWrap</code> <a href="#dia.attributes.textWrap">attribute</a> instead. It can automatically add line breaks into the provided string as necessary, and mark them with newline characters.</p>

        </div>
    </div>
    <div id="dia.attributes.textPath" class="docs-item">
        <a href="#dia.attributes.textPath" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textPath</h4>
        </a>
        <div class="docs-item-content">
<p>
    Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.
    <code class="highlighted">textPath</code> can be either a string or an object.
</p>
<p>
    If it is a string, it specifies a path the text will be rendered along.
</p>
<p>
    If it is an object, then it can contain a <code class="highlighted">d</code> property that specifies the path the text will be rendered along.
    Alternatively use <code class="highlighted">selector</code> property, which is useful for targeting a specific SVGPathElement within the shape. The option expects a string selector (CSS or JSONMarkup selector).
    Use <code class="highlighted">startOffset</code> property to control the text position on the path (e.g. <code class="highlighted"><span class="token string">'50%'</span></code>, <code class="highlighted"><span class="token number">20</span></code>). See the <code class="highlighted">Vectorizer<span class="token punctuation">.</span>text</code> <a href="vectorizer.html#V.prototype.text">method</a> for more details.
</p>

        </div>
    </div>
    <div id="dia.attributes.textVerticalAnchor" class="docs-item">
        <a href="#dia.attributes.textVerticalAnchor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textVerticalAnchor</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">/></span></span></code> subelements. The attribute is used to (top-, middle- or bottom-) align a text, relative to a point determined by reference to provided <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">refX</code>, <code class="highlighted">refY</code>, and similar attributes. See the <code class="highlighted">Vectorizer<span class="token punctuation">.</span>text</code> <a href="vectorizer.html#V.prototype.text">method</a> for more details.</p>

        </div>
    </div>
    <div id="dia.attributes.textWrap" class="docs-item">
        <a href="#dia.attributes.textWrap" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textWrap</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.</p>

<p>It enables the text wrapping for the <code class="highlighted">text</code> <a href="#dia.attributes.text">attribute</a> (automatically breaks the lines to fit within the reference bounding box).</p>

<p>It expects an object with several optional properties.</p>

<p><code class="highlighted">width</code> and <code class="highlighted">height</code> adjust the final size of the wrapped text.
  <ul>
    <li>If not provided, the text is wrapped to fit the reference bounding box</li>
    <li>It can be a <a href="#dia.attributes.calc">calc()</a> expression (e.g. <code class="highlighted"><span class="token string">'calc(w - 10)'</span></code>)</li>
    <li>Percentage expression (e.g. <code class="highlighted"><span class="token string">'50%'</span></code> is half the width or height)</li>
    <li>A positive number is an absolute dimension (e.g <code class="highlighted"><span class="token number">50</span></code> fits the text within 50 pixels)</li>
    <li>A negative number is a relative dimension (e.g. <code class="highlighted"><span class="token operator">-</span><span class="token number">10</span></code> is an equivalent to <code class="highlighted"><span class="token string">'calc(w - 10)'</span></code> resp. <code class="highlighted"><span class="token string">'calc(h - 10)'</span></code>)</li>
    <li>Use <code class="highlighted"><span class="token keyword">null</span></code> to disable wrapping in a given dimension</li>
  </ul>
</p>

<p>If the text cannot fit into the bounding box as specified, the overflowing words are cut off.
  If the <code class="highlighted">ellipsis</code> option is provided, an ellipsis string is inserted before the cutoff.
  If no words can fit into the bounding box at all, no text is inserted.
</p>

<pre><code class="highlighted">element1<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token string">'Text to wrap.'</span><span class="token punctuation">,</span>
  textWrap<span class="token operator">:</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token string">'calc(w - 10)'</span><span class="token punctuation">,</span> <span class="token comment">// reference width minus 10</span>
    height<span class="token operator">:</span> <span class="token keyword">null</span>'<span class="token punctuation">,</span> <span class="token comment">// no height restriction</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element2<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  text<span class="token operator">:</span> <span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span>
  textWrap<span class="token operator">:</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// reference width minus 10</span>
    height<span class="token operator">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> <span class="token comment">// half of the reference height</span>
    ellipsis<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// could also be a custom string, e.g. '...!?'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>For more info see <a href="#util.breakText">util.breakText</a>.</p>

        </div>
    </div>
    <div id="dia.attributes.title" class="docs-item">
        <a href="#dia.attributes.title" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.title</h4>
        </a>
        <div class="docs-item-content">
<p>
    Add the text-only description in form of a <code class="highlighted"> <span class="token operator">&lt;</span>title<span class="token operator">></span></code> element to the associated node. The title is not rendered as part of the graphics, but it's displayed as a tooltip.
</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/title'</span><span class="token punctuation">,</span> <span class="token string">'Description of the rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.vertexMarker" class="docs-item">
        <a href="#dia.attributes.vertexMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.vertexMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. The same as <a href="#dia.attributes.sourceMarker">sourceMarker</a> but draws SVG elements at every vertex of the path.</p>

        </div>
    </div>
    <div id="dia.attributes.xAlignment" class="docs-item">
        <a href="#dia.attributes.xAlignment" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.xAlignment</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>x-alignment</b></p>
<p>If set to <code class="highlighted"><span class="token string">'middle'</span></code>, the subelement will be centered around its new x-coordinate.</p>

        </div>
    </div>
    <div id="dia.attributes.yAlignment" class="docs-item">
        <a href="#dia.attributes.yAlignment" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.yAlignment</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>y-alignment</b></p>
<p>If set to <code class="highlighted"><span class="token string">'middle'</span></code>, the subelement will be centered around its new y-coordinate.</p>

        </div>
    </div>
    </div>
    <div id="dia.Cell" class="docs-item">
    <div id="dia.Cell.intro" class="docs-item">
        <a href="#dia.Cell.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell</h4>
        </a>
        <div class="docs-item-content">
<p>
    The basic model for diagram cells. It's an <a href="#mvc.Model">mvc.Model</a> with a few additional properties and methods. Most importantly, every cell has a
    <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">unique ID</a> that is stored in the <code class="highlighted">id</code> property.
</p>

        </div>
    </div>
    <div id="dia.Cell.constructor" class="docs-item">
        <a href="#dia.Cell.constructor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell.constructor</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">Cell</span><span class="token punctuation">(</span><span class="token punctuation">[</span>attributes<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>When creating an instance of a cell, you can pass in the initial values of the attributes, which will be set on the model.</p>

<p>If you pass a <code class="highlighted"><span class="token punctuation">{</span> mergeArrays<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> as the options, all the arrays defined as class defaults will be merged instead of overridden.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> MyRect <span class="token operator">=</span> joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'Rect'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> array<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rect1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> array<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'array'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3] array was overridden</span>

<span class="token keyword">const</span> rect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> array<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> mergeArrays<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rect2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'array'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3,2] array was merged </span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.define" class="docs-item">
        <a href="#dia.Cell.define" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell.define</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token function">define</span><span class="token punctuation">(</span>type <span class="token punctuation">[</span><span class="token punctuation">,</span> defaultAttributes<span class="token punctuation">,</span> prototypeProperties<span class="token punctuation">,</span> staticProperties<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Helper to define a new Cell class or extend an existing one.</p>

<p>The <code class="highlighted">type</code> must be a unique identifier of the class, which determines the location of the class definition in the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace (<code class="highlighted">type</code> is the path to the class definition delimited by dots: <code class="highlighted"><span class="token punctuation">.</span></code>). When creating an instance of the cell, attributes will be set to the value from the <code class="highlighted">defaultAttributes</code>, unless overridden by subclass or instance attributes.</p>

<pre><code class="highlighted"><span class="token comment">// Define a new Ellipse class in `joint.shapes.examples` namespace</span>
<span class="token comment">// Inherits from generic Element class</span>
<span class="token keyword">var</span> Ellipse <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Ellipse'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// default attributes</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'ellipse'</span> <span class="token comment">// not necessary but faster</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        ellipse<span class="token operator">:</span> <span class="token punctuation">{</span>
            fill<span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
            strokeWidth<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            rx<span class="token operator">:</span> <span class="token string">'calc(0.5*w)'</span><span class="token punctuation">,</span>
            ry<span class="token operator">:</span> <span class="token string">'calc(0.5*h)'</span><span class="token punctuation">,</span>
            cx<span class="token operator">:</span> <span class="token string">'calc(0.5*w)'</span><span class="token punctuation">,</span>
            cy<span class="token operator">:</span> <span class="token string">'calc(0.5*h)'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Instantiate an element</span>
<span class="token keyword">var</span> ellipse <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Ellipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Define a new ColoredEllipse class</span>
<span class="token comment">// Inherits from Ellipse</span>
<span class="token keyword">var</span> ColoredEllipse <span class="token operator">=</span> Ellipse<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.ColoredEllipse'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// overridden Ellipse default attributes</span>
    <span class="token comment">// other Ellipse attributes preserved</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        ellipse<span class="token operator">:</span> <span class="token punctuation">{</span>
            fill<span class="token operator">:</span> <span class="token string">'lightgray'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// prototype properties</span>
    <span class="token comment">// accessible on `this.(...)` - as well as, more precisely, `this.prototype.(...)`</span>
    <span class="token comment">// useful for custom methods that need access to this instance</span>
    <span class="token comment">// shared by all instances of the class</span>
    <span class="token function-variable function">randomizeStrokeColor</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> randomColor <span class="token operator">=</span> <span class="token string">'#'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'000000'</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'ellipse/stroke'</span><span class="token punctuation">,</span> randomColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// static properties</span>
    <span class="token comment">// accessible on `this.constructor.(...)`</span>
    <span class="token comment">// useful for custom methods and constants that do not need an instance to operate</span>
    <span class="token comment">// however, a new set of static properties is generated every time the constructor is called</span>
    <span class="token comment">// (try to only use static properties if absolutely necessary)</span>
    <span class="token function-variable function">createRandom</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColoredEllipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">randomizeStrokeColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Instantiate an element</span>
<span class="token keyword">var</span> coloredEllipse <span class="token operator">=</span> ColoredEllipse<span class="token punctuation">.</span><span class="token function">createRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.markup" class="docs-item">
        <a href="#dia.Cell.markup" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell.markup</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">markup</code></pre>

<p>
    Either an XML string or JSON markup specifying an array of JSON elements. Also JSON markup can be described using an <a href="#util.svg">svg</a> tagged template.
    Used as a template to build DOM Elements on the fly when the associated cellView is rendered.
</p>

<h4 id="dia.Cell.markup.json">JSON Markup</h4>

<p>
    JSON markup is defined recursively as an array of <code class="highlighted">JSONElement</code> or strings representing text nodes, where <code class="highlighted">JSONElement</code> is a plain object with the following properties:
</p>

<ul>
    <li><code class="highlighted">tagName</code> <i>(string)</i> <i>(required)</i> The type of element to be created.</li>
    <li><code class="highlighted">selector</code> <i>(string)</i> A unique selector for targeting the element within the <code class="highlighted">attr</code> cell attribute.</li>
    <li><code class="highlighted">groupSelector</code> <i>(string | string[])</i> A selector for targeting multiple elements within the <code class="highlighted">attr</code> cell attribute. The group selector name must not be the same as an existing selector name.</li>
    <li><code class="highlighted">namespaceURI</code> <i>(string)</i> The namespace URI of the element. It defaults to SVG namespace <a target="_blank" href="https://www.w3.org/2000/svg"><code class="highlighted"><span class="token string">"http://www.w3.org/2000/svg"</span></code></a>.</li>
    <li><code class="highlighted">attributes</code> <i>(object with attributes name-value pairs)</i> Attributes of the element.</li>
    <li><code class="highlighted">style</code> <i>(object with CSS property-value pairs)</i> The <code class="highlighted">style</code> attribute of the element.</li>
    <li><code class="highlighted">className</code> <i>(string)</i> The <code class="highlighted"><span class="token keyword">class</span></code> attribute of the element.</li>
    <li><code class="highlighted">children</code> <i>(JSONMarkup)</i> The children of the element.</li>
    <li><code class="highlighted">textContent</code> <i>(string)</i> The text content of the element.</li>
</ul>

<pre><code class="highlighted"><span class="token comment">// single DOM element</span>
markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'rect'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// multiple DOM elements</span>
markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'body'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// nested DOM elements</span>
markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'g'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'circle1'</span><span class="token punctuation">,</span>
        groupSelector<span class="token operator">:</span> <span class="token string">'circles'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'text content'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'circle2'</span><span class="token punctuation">,</span>
        groupSelector<span class="token operator">:</span> <span class="token string">'circles'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>

<h4 id="dia.Cell.markup.json">JSON Markup using tagged template</h4>

<p>
    JSON markup also can be defined using an <a href="#util.svg">svg</a> tagged template. This tagged template converts SVG representation of the markup into a JSON markup object.
    Let's write the previous example using an svg tagged template:
</p>

<pre><code class="highlighted">
<span class="token keyword">const</span> svg <span class="token operator">=</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>svg<span class="token punctuation">;</span>

<span class="token comment">// single DOM element</span>
markup<span class="token operator">:</span> svg<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;rect\></span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// multiple DOM elements</span>
markup<span class="token operator">:</span> svg<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;rect @selector="body"\>
    &lt;text
        @selector="label"
        stroke="none"
    \></span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// nested DOM elements</span>
markup<span class="token operator">:</span> svg<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;g>
        &lt;circle
            @selector="circle1"
            @group-selector="circles"
        />
        text content
        &lt;circle
            @selector="circle2"
            @group-selector="circles"
        />
    &lt;/g></span><span class="token template-punctuation string">`</span></span></code></pre>

<h5 id="dia.Cell.markup.attributes">JSON Markup attributes</h5>

<p>
    Anything you define in <code class="highlighted">markup</code> is evaluated once at CellView creation (the DOM elements and their attributes).
    That means it's important to think about the runtime of your application. If you have SVG attributes that don't change
    throughout the runtime, you can add them to the <code class="highlighted">markup</code>.
</p>

<p>
    As <code class="highlighted">markup</code> is something all instances of the element type are expected to have in common, inheriting from
    the subtype prototype is more efficient. Nevertheless, it is still possible to provide custom markup to individual instances
    of your class by providing markup later.
</p>

<p>
    Anything in the <code class="highlighted">attrs</code> attribute is evaluated on every change of the model (e.g. a <code class="highlighted">resize</code> or
    an <code class="highlighted">attrs</code> change). As JointJS <a target="_blank" href="https://resources.jointjs.com/tutorial/special-attributes">
    special attributes</a> mostly depend on the current state of the model (<code class="highlighted">size</code>, <code class="highlighted">attrs</code>, <code class="highlighted">angle</code>),
    they should always be defined inside <code class="highlighted">attrs</code>.
</p>

<p>
    SVG attributes that are modified at some point in the application should also be added to <code class="highlighted">attrs</code> (e.g. user
    changes the color of the element).
</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'standard.Rectangle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span>
            width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span>
            height<span class="token operator">:</span> <span class="token string">'calc(h)'</span><span class="token punctuation">,</span>
            stroke<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            fill<span class="token operator">:</span> <span class="token string">'#333333'</span> <span class="token comment">// We wan't to modify the fill color of our instances</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// attributes</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// Use native SVG kebab-case for attributes in markup</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'none'</span> <span class="token comment">// We don't need any instances to have a stroke value for text</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<h5>Setting attributes with selectors</h5>

Here are simple rules how SVG attributes are set on the nodes when one uses combination of <code class="highlighted">selector</code> and <code class="highlighted">groupSelector</code>.

<ul>
    <li><code class="highlighted">selector</code> is unique i.e. can target a single node only.</li>
    <li><code class="highlighted">selector</code> takes precedence over <code class="highlighted">groupSelector</code>.</li>
    <li><code class="highlighted">groupSelector</code> targeting <code class="highlighted">n</code> nodes takes precedence over <code class="highlighted">groupSelector</code> targeting <code class="highlighted">m</code> nodes for <code class="highlighted">n</code> &lt; <code class="highlighted">m</code>. When <code class="highlighted">n</code> === <code class="highlighted">m</code> the order how the attributes are applied is unspecified.</li>
</ul>

<p>In the example below, the circle with the selector <code class="highlighted">circle1</code> is filled with <code class="highlighted"><span class="token string">"red"</span></code> color. All the other circles are filled with <code class="highlighted"><span class="token string">"blue"</span></code> color.</p>

<pre><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    circle1<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    circles<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> stroke<span class="token operator">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Cell.markup.xml">XML String</h4>

<p>
    A valid XML string that contains either a single <code class="highlighted">tagName</code> or XML that can be parsed with <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser"><code class="highlighted">DOMParser</code></a>.
</p>

<pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token string">'rect'</span>
markup<span class="token operator">:</span> <span class="token string">'&lt;rect class="rectangle"/>'</span>
markup<span class="token operator">:</span> <span class="token string">'&lt;rect>&lt;g>&lt;circle/>&lt;circle/>&lt;/g>'</span></code></pre>


<div class="docs-important-note">
    Note that defining Cell markup with XML strings is slower than defining it with JSON arrays, precisely because of the need for parsing.
    We strongly recommend you to use the <a href="#dia.Cell.markup.json">JSON markup</a> for your Cell definitions.
</div>

<p>
    Note that you also need to set the <code class="highlighted">useCSSSelectors<span class="token operator">=</span><span class="token boolean">true</span></code> on the model's prototype in order to use CSS selectors in the <code class="highlighted">attrs</code> attribute.

    <pre><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'Rectangle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            rect<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// CSS Selector for the &lt;rect/> element</span>
                fill<span class="token operator">:</span> <span class="token string">'red'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        markup<span class="token operator">:</span> <span class="token string">'&lt;rect class="rectangle"/>'</span><span class="token punctuation">,</span>
        useCSSSelectors<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Cell.prototype" class="docs-item">
    <div id="dia.Cell.prototype.getParentCell" class="docs-item">
        <a href="#dia.Cell.prototype.getParentCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.getParentCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">getParentCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the parent cell of <code class="highlighted">cell</code> or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Cell.prototype.isElement" class="docs-item">
        <a href="#dia.Cell.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">Element</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.prototype.isLink" class="docs-item">
        <a href="#dia.Cell.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.prototype.parent" class="docs-item">
        <a href="#dia.Cell.prototype.parent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.parent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">parent</code> property of the cell.</p>

<p>If the cell is a part of an embedding, the <code class="highlighted">id</code> of the parent cell is returned as a string.</p>

<p>If you need to be sure that a Cell is returned (and not its <code class="highlighted">id</code>), use the <code class="highlighted">cell<span class="token punctuation">.</span>getParentCell</code> <a href="#dia.Cell.prototype.getParentCell">function</a> instead.</p>

        </div>
    </div>
    <div id="dia.Cell.prototype.z" class="docs-item">
        <a href="#dia.Cell.prototype.z" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.z</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">z</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return z  the stacking order (an equivalent to HTML <code class="highlighted">z<span class="token operator">-</span>index</code>).</p>
<p>When z is <code class="highlighted"><span class="token keyword">undefined</span></code> or <code class="highlighted"><span class="token keyword">null</span></code>, function returns <code class="highlighted"><span class="token number">0</span></code>.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.CellView" class="docs-item">
    <div id="dia.CellView.intro" class="docs-item">
        <a href="#dia.CellView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.CellView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Cell">joint.dia.Cell</a> model. It inherits from <a href="#mvc.View">mvc.View</a> and is responsible for:</p>
<ul>
  <li>Rendering a cell inside of a paper</li>
  <li>Handling the cell's pointer events</li>
  <li>Provides various methods for working with the cell (visually)</li>
</ul>
<p>To find the view associated with a specific cell (model), use the <a href="#dia.Paper.prototype.findViewByModel">findViewByModel</a> method of the paper. For example:</p>
<pre><code class="highlighted"><span class="token keyword">var</span> cellView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.CellView.custom" class="docs-item">
        <a href="#dia.CellView.custom" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.CellView.custom</h4>
        </a>
        <div class="docs-item-content">
<p>When you define a custom CellView, which listens to the underlying model changes and update itself (modifying its sub-elements directly) you should follow the instructions below in order to make the view work correctly in the <a href="joint.html#dia.Paper.prototype.options.async">async</a> mode.</p>

<p>Note, that when a view needs an update (a model attribute has changed e.g. <code class="highlighted">size</code> has changed), it requests the update from the paper first. The paper confirms the update immediately (<code class="highlighted">sync</code> mode) or in the next animation frame (<code class="highlighted"><span class="token keyword">async</span></code> mode). The updates may be also held by the paper as long as the paper is <a href="joint.html#dia.Paper.prototype.options.frozen">frozen</a> and released when the paper changes its state to unfrozen.</p>

<p>The update requests are sent to the paper via <code class="highlighted">flags</code> and later received back all at once. The paper accumulates flags received and confirms the updates when the right time has come.</p>

<h5>Methods and terminology</h5>

<p><code class="highlighted">flagLabel</code> - is an arbitrary string or array of strings</p>

<p><code class="highlighted">flags</code> - are encoded flag labels</p>

<p><code class="highlighted"><span class="token class-name">CellView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>presentationAttributes</code> - is an object that maps model attributes to flag labels.</p>

<p><code class="highlighted"><span class="token class-name">CellView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">confirmUpdate</span><span class="token punctuation">(</span>flags<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> - This method receives all scheduled flags and based on them updates the view</p>

<p><code class="highlighted"><span class="token class-name">CellView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasFlag</span><span class="token punctuation">(</span>flags<span class="token punctuation">,</span> flagLabel<span class="token punctuation">)</span></code> - Checks whether a <code class="highlighted">flagLabel</code> is present in the current update.</p>

<p><code class="highlighted">CellView<span class="token punctuation">.</span><span class="token function">addPresentationAttributes</span><span class="token punctuation">(</span>presentationAttributes<span class="token punctuation">)</span></code>
- Extends the CellView presentation attributes with another <code class="highlighted">presentationAttributes</code>. - The method makes sure the original CellView attributes are preserved. It returns a new object with all presentation attributes.</p>

<h5>Usage</h5>

<pre><code class="highlighted"><span class="token keyword">const</span> FadeView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Make sure that all super class presentation attributes are preserved</span>
    presentationAttributes<span class="token operator">:</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">.</span><span class="token function">addPresentationAttributes</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// mapping the model attributes to flag labels</span>
        faded<span class="token operator">:</span> <span class="token string">'flag:opacity'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">confirmUpdate</span><span class="token punctuation">(</span><span class="token parameter">flags<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span><span class="token class-name">ElementView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">confirmUpdate</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> flags<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasFlag</span><span class="token punctuation">(</span>flags<span class="token punctuation">,</span> <span class="token string">'flag:opacity'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleFade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">toggleFade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'faded'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0.5</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.CellView.prototype" class="docs-item">
    <div id="dia.CellView.prototype.findAttribute" class="docs-item">
        <a href="#dia.CellView.prototype.findAttribute" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.findAttribute</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">findAttribute</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> node<span class="token punctuation">)</span></code></pre>
<p>Return the value of the specified <code class="highlighted">attribute</code> of <code class="highlighted">node</code>.</p>

<p>If <code class="highlighted">node</code> does not set a value for <code class="highlighted">attribute</code>, start recursing up the DOM tree from <code class="highlighted">node</code> to look for <code class="highlighted">attribute</code> at the ancestors of <code class="highlighted">node</code>. If the recursion reaches CellView's own node and <code class="highlighted">attribute</code> is not found even there, return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

        </div>
    </div>
    <div id="dia.CellView.prototype.findNode" class="docs-item">
        <a href="#dia.CellView.prototype.findNode" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.findNode</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">findNode</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span></code></pre>

<p>The method returns a DOM node matching the <code class="highlighted">selector</code>.</p>

<p>The method searches for matching sub-element among the descendants of <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code>. If no such sub-element is found, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

<p>The available <code class="highlighted">selectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Cell.markup">attribute of the Cell model</a> from which the CellView was initialized.</p>

        </div>
    </div>
    <div id="dia.CellView.prototype.findNodes" class="docs-item">
        <a href="#dia.CellView.prototype.findNodes" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.findNodes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">findNodes</span><span class="token punctuation">(</span>groupSelector<span class="token punctuation">)</span></code></pre>

<p>The method returns an array of DOM nodes matching the <code class="highlighted">groupSelector</code>.</p>

<p>The method searches for matching sub-elements among the descendants of <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code>. If no such sub-elements are found, an empty array is returned.</p>

<p>The available <code class="highlighted">groupSelectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Cell.markup">attribute of the Cell model</a> from which the CellView was initialized.</p>

        </div>
    </div>
    <div id="dia.CellView.prototype.highlight" class="docs-item">
        <a href="#dia.CellView.prototype.highlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.highlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">[</span>el<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add a highlighter to the cell view.</p>

<p>When the method is called, the <code class="highlighted">cell<span class="token operator">:</span>highlight</code> <a href="#dia.Paper.events">paper event</a> is triggered.</p>

<div class="docs-important-note">
    For greater flexibility use <a href="#highlighters">highlighters</a> API instead.
</div>

<p>Arguments:</p>
<ul>
    <li><b>el</b> - if not provided, then the cell view's <code class="highlighted">el</code> will be used</li>
    <li>
        <b>options</b>:<br>
        <ul>
            <li>
                <b>highlighter</b>:<br>
                <ul>
                    <li><b>name</b> - the name of the highlighter (see <a href="#highlighters">highlighters</a>)</li>
                    <li><b>options</b> - an options object that will be passed directly to the highlighter specified by <code class="highlighted">name</code></li>
                </ul>
            </li>
            <li><b>type</b> - the <a href="#dia.Paper.prototype.options.highlighting">type of highlighting</a></li>
        </ul>
    </li>
</ul>

        </div>
    </div>
    <div id="dia.CellView.prototype.isDefaultInteractionPrevented" class="docs-item">
        <a href="#dia.CellView.prototype.isDefaultInteractionPrevented" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.isDefaultInteractionPrevented</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">isDefaultInteractionPrevented</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span></code></pre>
<p>Returns whether <a href="#dia.CellView.prototype.preventDefaultInteraction">preventDefaultInteraction</a> was ever called on this <code class="highlighted">event</code> object.</p>



        </div>
    </div>
    <div id="dia.CellView.prototype.preventDefaultInteraction" class="docs-item">
        <a href="#dia.CellView.prototype.preventDefaultInteraction" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.preventDefaultInteraction</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">preventDefaultInteraction</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span></code></pre>
<p>The method tells the view that its default interactivity action should not be taken as it normally would be.</p>

<p>For example, if the view is a <a href="#dia.ElementView">joint.dia.ElementView</a> and the user clicks on it, the view will normally enter the <a href="#dia.Paper.prototype.options.interactive">interactive mode</a> and starts moving the element.

</p><p>Calling <code class="highlighted">preventDefaultInteraction</code> will prevent the view from entering the interactive mode. The view will still trigger all events, but it will not react to them in the default way.</p>

<p>It is useful when you want to handle the pointer events yourself. For example, you can use it to implement your own custom interaction with the view. A selection lasso can be drawn whenever the user holds down the shift key and starts dragging from any point on the paper (regardless of whether it is an element, a link or a blank space).</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:pointerdown'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">.</span>shiftKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// prevent element movement</span>
        elementView<span class="token punctuation">.</span><span class="token function">preventDefaultInteraction</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// start drawing selection lasso</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The following table shows which default interaction will be stopped depending on what point the method was called.</p>

<table>
    <thead>
        <tr>
            <th>Paper <a href="#dia.Paper.events">events</a></th>
            <th>Description</th>
            <th>Paper <a href="#dia.Paper.prototype.options.interactive">interactive option</a></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code class="highlighted"><span class="token string">'element:pointerdown'</span></code></td>
            <td>Prevents element movement.</td>
            <td><i>elementMove</i></td>
        </tr>
        <tr>
            <td><code class="highlighted"><span class="token string">'element:magnet:pointerdown'</span></code></td>
            <td>Prevents adding link from magnet and element movement.</td>
            <td><i>addLinkFromMagnet</i></td>
        </tr>
        <tr>
            <td><code class="highlighted"><span class="token string">'link:pointerdown'</span></code></td>
            <td>Prevents link label and link movement.</td>
            <td><i>labelMove</i> and <i>linkMove</i></td>
        </tr>
    </tbody>
</table>


        </div>
    </div>
    <div id="dia.CellView.prototype.unhighlight" class="docs-item">
        <a href="#dia.CellView.prototype.unhighlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.unhighlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token punctuation">[</span>el<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Removes a highlighter added to the cell view.</p>

<p>When the method is called, the <code class="highlighted">cell<span class="token operator">:</span>unhighlight</code> <a href="#dia.Paper.events">paper event</a> is triggered.</p>

<div class="docs-important-note">
    It is <b>important</b> to note that if you highlighted a cell using custom options, you must provide those exact same options when using the unhighlight method.<br><br>

    To avoid this and for greater flexibility use <a href="#highlighters">highlighters</a> API instead.
</div>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Element" class="docs-item">
    <div id="dia.Element.intro" class="docs-item">
        <a href="#dia.Element.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element</h4>
        </a>
        <div class="docs-item-content">
<p>The basic model for diagram elements. It inherits from <a href="#dia.Cell">joint.dia.Cell</a> with a few additional properties and methods specific to elements. For a quick introduction to elements, see our <a href="https://resources.jointjs.com/tutorial/elements">tutorial</a>.</p>

<p>Elements' properties may be split into several groups according to their function:</p>

<h4 id="dia.Element.intro.geometry">Geometry</h4>

<ul>
	<li><code class="highlighted">position</code> - coordinates of the element, provided as an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> keys. The property may be accessed or set directly using regular <a href="#mvc.Model">mvc.Model</a> <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">)</span></code> methods or through Element's <a href="#dia.Element.prototype.translate"><code class="highlighted"><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method.</li>
	<li><code class="highlighted">angle</code> - angle of rotation of the element in degrees. The rotation origin is always the center of the element. The property may be accessed or set directly using regular <a href="#mvc.Model">mvc.Model</a> <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'angle'</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'angle'</span><span class="token punctuation">)</span></code> methods or through Element's <a href="#dia.Element.prototype.rotate"><code class="highlighted"><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method.</li>
	<li><code class="highlighted">size</code> - size of the element, provided as an object with <code class="highlighted">width</code> and <code class="highlighted">height</code> keys. The property may be accessed or set directly using regular <a href="#mvc.Model">mvc.Model</a> <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span></code> methods or through Element's <a href="#dia.Element.prototype.resize"><code class="highlighted"><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method.</li>
</ul>

<h4 id="dia.Element.intro.presentation">Presentation</h4>

<p>Each <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> defines its own SVG <code class="highlighted">markup</code> which is then used by <a href="#dia.ElementView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code></a> to render the element to the <a href="#dia.Paper">paper</a>. For instance, the <a href="#shapes.standard.Rectangle"><code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</code></a> element (which inherits from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) defines its markup using the <a href="#dia.Cell.markup.json">JSON array notation</a> as follows:</p>

<pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'label'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>

<p>As we can see, the <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</code> shape consists of two <q>subelements</q>: one SVGRectElement named <code class="highlighted"><span class="token string">'body'</span></code> and one SVGTextElement named <code class="highlighted"><span class="token string">'label'</span></code>. The <a href="#dia.Element.intro.styling"><code class="highlighted">attrs</code></a> object refers to the subelements' names (<q>selectors</q>) to provide SVG attributes to these constituent SVGElements.</p>

<h4 id="dia.Element.intro.styling">Styling</h4>

<p>The keys of the <code class="highlighted">attrs</code> object are selectors that match subelements defined in the element's <a href="#dia.Element.intro.presentation"><code class="highlighted">markup</code></a>. The values of this object are SVG attributes that will be set on the selected subelements. One can find the full list of SVG attributes and their descriptions online, e.g. on <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">MDN</a>.</p>

<p>For example, in order to set a red fill color on a subelement called <code class="highlighted"><span class="token string">'body'</span></code>, the <code class="highlighted">attrs</code> object would contain:</p>

<pre><code class="highlighted">body<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span></code></pre>

<p>If you simply need to change a value of an attribute, it is not recommended to modify the <code class="highlighted">attrs</code> object directly. Instead, use the <a href="#dia.Element.prototype.attr"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> method.</p>

<p>We can use the <a href="#shapes.standard.Rectangle"><code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</code></a> element (which inherits from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) as an example. The <code class="highlighted">attrs</code> object in its definition is provided below:</p>

<pre><code class="highlighted">attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
    body<span class="token operator">:</span> <span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token string">'calc(h)'</span><span class="token punctuation">,</span>
        strokeWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        stroke<span class="token operator">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
        fill<span class="token operator">:</span> <span class="token string">'#FFFFFF'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        textVerticalAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
        textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
        x<span class="token operator">:</span> <span class="token string">'calc(0.5*w)'</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token string">'calc(0.5*h)'</span><span class="token punctuation">,</span>
        fontSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
        fill<span class="token operator">:</span> <span class="token string">'#333333'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>
    Notice that the object makes use of special JointJS attributes (e.g. <a href="#dia.attributes.textVerticalAnchor"><code class="highlighted">textVerticalAnchor</code></a>)
    on top of standard SVG attributes (e.g. <code class="highlighted">stroke</code>, <code class="highlighted">fill</code>). All of these <q>special attributes</q> are listed in the
    <a href="#dia.attributes">attributes</a> section of this documentation, along with information on how to use <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> for sizing.
    You should also refer to our <a href="https://resources.jointjs.com/tutorial/special-attributes">tutorial on special attributes</a>.
</p>

<h4 id="dia.Element.intro.attributes">Attributes</h4>

<p>
    Attributes defined in <a href="#dia.Cell.markup.attributes"><code class="highlighted">markup</code></a> are evaluated once at CellView creation,
    while attributes defined in <code class="highlighted">attrs</code> are evaluated on every model change. As JointJS special attributes usually depend on the
    current state of the model, we should define them in <code class="highlighted">attrs</code>, along with any other SVG attributes that will be modified
    in the runtime of your application.
</p>

<h4 id="dia.Element.intro.z">Z</h4>

<p>The <code class="highlighted">z</code> property specifies the stack order of the element in the SVG DOM. An element with a higher <code class="highlighted">z</code> value will be rendered in front of an element with a lower <code class="highlighted">z</code> value. (<a href="#dia.Link.intro.z">This also applies to Links.</a>)</p>

<h4 id="dia.Element.intro.ports">Ports</h4>

<p>You may define and group ports on the Element with the <code class="highlighted">ports</code> attribute. Each can have its own markup and attrs, and its own label. Grouped ports may share properties and behaviors. See the <a href="#dia.Element.ports">element ports documentation</a> for more information.</p>

<h4 id="dia.Element.intro.nesting">Nesting</h4>

<p>The last two properties of elements are <code class="highlighted">embeds</code> and <code class="highlighted">parent</code>. These two are related to elements that contain or are contained within other elements, forming a hierarchical structure.</p>

<ul>
	<li><code class="highlighted">embeds</code> - a list of <code class="highlighted">id</code>'s of the Cells that are embedded inside this Element.</li>
	<li><code class="highlighted">parent</code> - the <code class="highlighted">id</code> of the Element that is the parent of this element. When a parent element is translated, all its children get translated too.</li>
</ul>

<h4 id="dia.Element.intro.events">Events</h4>

<p>Elements trigger several special events, detailed in the <a href="#dia.Element.events">element events documentation</a>.</p>

<h4 id="dia.Element.intro.customElement">Custom Element</h4>

<p>It is possible to extend the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> class to create a custom element. A custom element may override Element properties to assign its own defaults. These values override builtin defaults, if provided, and are applied to all instances of the new Element type, unless an individual instance overrides them with its own values. The following Element properties are applicable in this context:</p>

<ul>
    <li><code class="highlighted">markup</code> - provide default element markup for all instances of this Element type, specified with a <a href="#dia.Cell.markup.json">JSON array</a>.</li>
    <li><code class="highlighted">attrs</code> - provide default element styling for all instances of this Element type. These allow you to change the style and size of SVG elements, identified by their selectors.</li>
</ul>

<p>Creating custom elements is explained in more detail in our <a href="https://resources.jointjs.com/tutorial/custom-elements">tutorial</a>.</p>

        </div>
    </div>
    <div id="dia.Element.events" class="docs-item">
        <a href="#dia.Element.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on:</p>

<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change on the element - <i>fn(element, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>position</code> - triggered when the element changes its position - <i>fn(element, newPosition, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>angle</code> - triggered when the element gets rotated - <i>fn(element, newAngle, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>size</code> - triggered when the element gets resized - <i>fn(element, newSize, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>attrs</code> - triggered when the element changes its attributes - <i>fn(element, newAttrs, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>embeds</code> - triggered when other cells were embedded into the element - <i>fn(element, newEmbeds, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>parent</code> - triggered when the element got embedded into another element - <i>fn(element, newParent, opt)</i></li>
    <li><code class="highlighted">change<span class="token operator">:</span>z</code> - triggered when the element is moved in the z-level (<a href="#dia.Element.prototype.toFront">toFront</a> and <a href="#dia.Element.prototype.toBack">toBack</a>) - <i>fn(element, newZ, opt)</i></li>
    <li><code class="highlighted">transition<span class="token operator">:</span>start</code> - triggered when a transition starts. - <i>fn(element, pathToAttribute)</i></li>
    <li><code class="highlighted">transition<span class="token operator">:</span>end</code> - triggered when a transiton ends. - <i>fn(element, pathToAttribute)</i></li>
</ul>

<pre><code class="highlighted"><span class="token comment">// Listening for changes of the position to a single element</span>
element1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:position'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element1<span class="token punctuation">,</span> position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'element1 moved to '</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// All elements events are also propagated to the graph.</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:position'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Element '</span> <span class="token operator">+</span> element<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'moved to '</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Using the option parameter and a custom attribute</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:custom'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> custom<span class="token punctuation">,</span> opt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opt<span class="token punctuation">.</span>consoleOutput<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Custom attribute value changed to "'</span> <span class="token operator">+</span> custom <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element2<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom'</span><span class="token punctuation">,</span> <span class="token string">'myValue'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> consoleOutput<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.ports" class="docs-item">
        <a href="#dia.Element.ports" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element.ports</h4>
        </a>
        <div class="docs-item-content">
<h3 id="ports">Ports</h3>
<p>Many diagramming applications deal with elements with ports. Ports are usually displayed as circles inside diagram elements and are used not only as &quot;sticky&quot; points for connected links, but they also further structure the linking information. It is common that certain elements have lists of input and output ports. A link might not then point to the element as a whole, but to a certain port instead.</p>
<p>It&#39;s easy to add ports to arbitrary shapes in JointJS. This can be done either by passing a ports definition as an <code class="highlighted">option</code> in the constructor, or using the ports API to get/add/remove single or multiple ports. For more information on how to define ports please see the <a href="#dia.Element.ports.interface">Port configuration</a> section.</p>
<h5 id="port-api-on-joint-dia-element">Port API on <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code></h5>
<ul>
<li><a href="#dia.Element.prototype.hasPort"><code class="highlighted">hasPort</code></a> / <a href="#dia.Element.prototype.hasPorts"><code class="highlighted">hasPorts</code></a></li>
<li><a href="#dia.Element.prototype.addPort"><code class="highlighted">addPort</code></a> / <a href="#dia.Element.prototype.addPorts"><code class="highlighted">addPorts</code></a></li>
<li><a href="#dia.Element.prototype.removePort"><code class="highlighted">removePort</code></a> /
<a href="#dia.Element.prototype.removePorts"><code class="highlighted">removePorts</code></a></li>
<li><a href="#dia.Element.prototype.getPort"><code class="highlighted">getPort</code></a> / <a href="#dia.Element.prototype.getPorts"><code class="highlighted">getPorts</code></a></li>
<li><a href="#dia.Element.prototype.portProp"><code class="highlighted">portProp</code></a></li>
<li><a href="#dia.Element.prototype.getPortsPositions"><code class="highlighted">getPortsPositions</code></a></li>
</ul>
<h5 id="-a-name-dia-element-ports-interface-a-port-configuration"><a name="dia.Element.ports.interface"></a> Port configuration</h5>
<pre><code class="language-javascript highlighted"><span class="token comment">// Single port definition</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// id: 'abc', // Generated if `id` value is not present</span>
    group<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Extra arguments for the port layout function, see `layout.Port` section</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        position<span class="token operator">:</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
            args<span class="token operator">:</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span> <span class="token comment">// Extra arguments for the label layout function, see `layout.PortLabel` section</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'label'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span> magnet<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> stroke<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'gray'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'port'</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'body'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// a.) Add ports in constructor.</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ports<span class="token operator">:</span> <span class="token punctuation">{</span>
        groups<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'a'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        items<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> group<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            port
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// b.) Or add a single port using API</span>
rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>

rect<span class="token punctuation">.</span><span class="token function">getGroupPorts</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
   [
       { * Default port settings * },
       { * Follows port definition * },
       { * Follows port definition * }
    ]
*/</span></code></pre>
<table>
<tr>
    <td><b>id</b></td>
    <td><i>string</i></td>
    <td>
        It is automatically generated if no <code class="highlighted">id</code> is provided. IDs must be unique in the context of a single shape - two ports with the same port id are therefore not allowed (<code class="highlighted">Element<span class="token operator">:</span> found id duplicities <span class="token keyword">in</span> ports<span class="token punctuation">.</span></code> error is thrown).
    </td>
</tr>

<tr>
    <td><b>group</b></td>
    <td><i>string</i></td>
    <td>
        Group name, more info in the <a href="#dia.Element.ports.groupssection">groups</a> section.
    </td>
</tr>
<tr>
    <td><b>args</b></td>
    <td><i>object</i></td>
    <td>
        Arguments for the port layout function. Available properties depend on the type of layout. More information can be found in <a href="#layout.Port"><code class="highlighted">layout<span class="token punctuation">.</span>Port</code></a>.
    </td>
</tr>
<tr>
    <td><b>attrs</b></td>
    <td><i>object</i></td>
    <td>
        JointJS style attribute definition. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation"><code class="highlighted">Element</code></a>.
    </td>
</tr>
<tr>
    <td><b>markup</b></td>
    <td><i>MarkupJSON&nbsp;|&nbsp;string</i></td>
    <td>
        <p>A custom port markup.</p>
        <p>The default port markup is <code class="highlighted"><span class="token operator">&lt;</span>circle <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port-body"</span> r<span class="token operator">=</span><span class="token string">"10"</span> fill<span class="token operator">=</span><span class="token string">"#FFFFFF"</span> stroke<span class="token operator">=</span><span class="token string">"#000000"</span><span class="token operator">/</span><span class="token operator">></span></code>.</p>
        <p>The root of the port markup is referenced by the <code class="highlighted">portRoot</code> selector.</p>
        <p>If the markup contains more than one node, an extra group is created to wrap the nodes. This group becomes the new <code class="highlighted">portRoot</code>.</p>
<pre><code class="highlighted"><span class="token comment">// An example of port markup</span>
markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'bodyInner'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'outer'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'red'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'bodyOuter'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'inner'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
        <span class="token string">'x'</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
    </td>
</tr>
<tr>
    <td><b>label</b></td>
    <td><i>object</i></td>
    <td>
        Port label layout configuration. E.g. label position, label markup. More information about port label layouts can be found in <a href="#layout.PortLabel"><code class="highlighted">layout<span class="token punctuation">.</span>PortLabel</code></a>.
    </td>
</tr>

<tr>
    <td><ul><li><b>label.position</b></li></ul></td>
    <td><i>string&nbsp;|&nbsp;object</i></td>
    <td>
        <p>Port label position configuration. It can be a <code class="highlighted">string</code> for setting the port layout type directly with default settings, or an <code class="highlighted">object</code> where it's possible to set the layout type and options.</p>
        <pre><code class="highlighted"><span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">}</span>

<span class="token comment">// or ...</span>
<span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            dx<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    </td><p></p>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        It states the layout type. It matches the layout method name defined in the <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>PortLabel</code> namespace: <code class="highlighted">name<span class="token operator">:</span> <span class="token string">'left'</span></code> is implemented as <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>PortLabel<span class="token punctuation">.</span>left</code>.
    </td>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td>
        Additional arguments for the layout method. Available properties depend on the layout type. More information can be found in the <a href="#layout.PortLabel"><code class="highlighted">layout<span class="token punctuation">.</span>PortLabel</code></a> section.
    </td>
</tr>
<tr>
    <td><ul><li><b>label.markup</b></li></ul></td>
    <td><i>MarkupJSON&nbsp;|&nbsp;string</i></td>
    <td>
        <p>A custom port label markup.</p>
        <p>The default port label markup is <code class="highlighted"><span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port-label"</span> fill<span class="token operator">=</span><span class="token string">"#000000"</span><span class="token operator">/</span><span class="token operator">></span></code>.</p>
        <p>The root of the label markup is referenced by the <code class="highlighted">labelRoot</code> selector.</p>
        <p>If the markup contains more than one node, an extra group is created to wrap the nodes. This group becomes the new <code class="highlighted">labelRoot</code>.</p>
        <p>All <code class="highlighted"><span class="token operator">&lt;</span>text<span class="token operator">/</span><span class="token operator">></span></code> nodes of the port are referenced by the <code class="highlighted">labelText</code> selector, unless the markup contains <code class="highlighted">labelText</code> explicitly.</p>
        <p>Use an empty array <code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">]</span></code> to prevent the label from being rendered.</p>
    </td>
</tr>
<tr>
    <td><b>z</b></td>
    <td><i>number&nbsp;|&nbsp;string</i></td>
    <td>
        <p>
            An alternative to HTML <code class="highlighted">z<span class="token operator">-</span>index</code>. <code class="highlighted">z</code> sets the position of a port in the list of DOM elements
            within an <code class="highlighted">ElementView</code>.
        </p>
        <iframe src="about:blank" data-src="./demo/dia/Element/portZIndex.html" style="height: 224px; width: 803px;"></iframe>
        <p>
            Shapes most likely consist of 1 or more DOM elements, <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span></code>, <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>text<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>circle<span class="token operator">/</span><span class="token operator">></span></code> etc.
            Ports are placed into the main group element <code class="highlighted">elementView<span class="token punctuation">.</span>el</code>, so it will act as the port container.
            Ports with <code class="highlighted">z<span class="token operator">:</span> <span class="token string">'auto'</span></code> are located right after the last element in the main group. Ports with <code class="highlighted">z</code>
            defined as a number are placed before a DOM element at the position (index within the children of the container, where only
            the original markup elements, and ports with <code class="highlighted">z<span class="token operator">:</span> <span class="token string">'auto'</span></code> are taken into account) equal to <code class="highlighted">z</code>.
        </p>
        <p>For instance, the first shape from the demo above with the following markup...</p>
<pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'bodyMain'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'bodyMain'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'bodyInner'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'bodyInner'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'label'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
        <p>...will be rendered like this:</p>
<pre><code class="highlighted"><span class="token operator">&lt;</span>g model<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"..."</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>rect <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bodyMain"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>rect<span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>rect <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bodyInner"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>rect<span class="token operator">></span>
    <span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"label"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">3</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> auto <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
</code></pre>
        <p>
            Ports will be placed in the <code class="highlighted">rotatable</code> group if it's defined in the shape's markup.
            Ports with <code class="highlighted">z<span class="token operator">:</span> <span class="token string">'auto'</span></code> are located right after the last element in the <code class="highlighted">rotatable</code> group.
            In the demo above, the second shape is defined with a <code class="highlighted">rotatable</code> group and the following markup:
        </p>
<pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'g'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'rotatable'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'rotatable'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'g'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'scalable'</span><span class="token punctuation">,</span>
        className<span class="token operator">:</span> <span class="token string">'scalable'</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'bodyMain'</span><span class="token punctuation">,</span>
            className<span class="token operator">:</span> <span class="token string">'bodyMain'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'bodyInner'</span><span class="token punctuation">,</span>
        className<span class="token operator">:</span> <span class="token string">'bodyInner'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
        className<span class="token operator">:</span> <span class="token string">'label'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
        <p>
            It will be rendered like this:
        </p>
<pre><code class="highlighted"><span class="token operator">&lt;</span>g model<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"..."</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"rotatable"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">--</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"scalable"</span><span class="token operator">></span><span class="token operator">&lt;</span>rect <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bodyMain"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>rect<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>rect <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bodyInner"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>rect<span class="token operator">></span>
        <span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"label"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> <span class="token number">3</span> <span class="token operator">--</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token operator">:</span> auto <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
</code></pre>
    </td>
</tr>
</table>

<p>All properties described above are optional, and everything has its own default. E.g. <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPorts</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> will add 2 ports with default settings.</p>
<h4 id="port-groups-configuration-a-name-dia-element-ports-groupssection-a-">Port groups configuration <a name="dia.Element.ports.groupssection"></a></h4>
<p>While single port definitions are useful, what if we want more control over our ports? This is where a port group can come into play. A group allows us to define multiple ports with similar properties, and influence the default port alignment. Any individual port can override a property in a port group definition except the type of layout(E.g. <code class="highlighted">position<span class="token operator">:</span> <span class="token string">'left'</span></code>). The group definition defines the layout, and the individual port <code class="highlighted">args</code> are the only way a port can affect it.</p>
<pre><code class="language-javascript highlighted"><span class="token comment">// Port definition for input ports group</span>
<span class="token keyword">const</span> portsIn <span class="token operator">=</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token comment">// Layout name</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Arguments for port layout function, properties depend on type of layout</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        position<span class="token operator">:</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
            args<span class="token operator">:</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span> magnet<span class="token operator">:</span> <span class="token string">'passive'</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> stroke<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'in1'</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'body'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Define port groups in element constructor</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    ports<span class="token operator">:</span> <span class="token punctuation">{</span>
        groups<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'group1'</span><span class="token operator">:</span> portsIn<span class="token punctuation">,</span>
            <span class="token comment">// 'group2': ...,</span>
            <span class="token comment">// 'group3': ...,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        items<span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token comment">// Initialize 'rect' with port in group 'group1'</span>
            <span class="token punctuation">{</span>
                group<span class="token operator">:</span> <span class="token string">'group1'</span><span class="token punctuation">,</span>
                args<span class="token operator">:</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span> <span class="token comment">// Overrides `args` from the group level definition for first port</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add another port using Port API</span>
rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span> group<span class="token operator">:</span> <span class="token string">'group1'</span><span class="token punctuation">,</span> attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'in2'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<table>
<tr>
    <td><b>position</b></td>
    <td><i>string | object</i></td>
    <td>
        Port position configuration. It can be a <code class="highlighted">string</code> to set the port layout type directly with default
        settings, or an <code class="highlighted">object</code> where it's possible to set the layout type and options.
    </td>
</tr>
<tr>
    <td><ul><li><b>position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        It states the layout type. Match the layout method name defined in the <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Port</code> namespace: <code class="highlighted">name<span class="token operator">:</span> <span class="token string">'left'</span></code> is implemented as <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>Port<span class="token punctuation">.</span>left</code>.
    </td>
</tr>
<tr>
    <td><ul><li><b>position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td>
        Arguments for the port layout function. Available properties depend on the type of layout. More information can be found in <a href="#layout.Port"><code class="highlighted">layout<span class="token punctuation">.</span>Port</code></a>.
    </td>
</tr>
<tr>
    <td><b>attrs</b></td>
    <td><i>object</i></td>
    <td>
        JointJS style attribute definition. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation"><code class="highlighted">Element</code></a>.
    </td>
</tr>
<tr>
    <td><b>markup</b></td>
    <td><i>MarkupJSON&nbsp;|&nbsp;string</i></td>
    <td>
        <p>Custom port markup. Multiple roots are not allowed. Valid notation would be:</p>
        <pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'g'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'bodyInner'</span><span class="token punctuation">,</span>
        className<span class="token operator">:</span> <span class="token string">'outer'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'bodyOuter'</span><span class="token punctuation">,</span>
        className<span class="token operator">:</span> <span class="token string">'inner'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
            <span class="token string">'x'</span><span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
        <p>The default port looks like the following: <code class="highlighted"><span class="token operator">&lt;</span>circle <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port-body"</span> r<span class="token operator">=</span><span class="token string">"10"</span> fill<span class="token operator">=</span><span class="token string">"#FFFFFF"</span> stroke<span class="token operator">=</span><span class="token string">"#000000"</span><span class="token operator">/</span><span class="token operator">></span></code>.</p>
    </td>
</tr>
<tr>
    <td><b>label</b></td>
    <td><i>object</i></td>
    <td>
        Port label layout configuration. E.g. label position, label markup. More information about port label layouts can be found in the <a href="#layout.PortLabel"><code class="highlighted">layout<span class="token punctuation">.</span>PortLabel</code></a> section.
    </td>
</tr>

<tr>
    <td><ul><li><b>label.position</b></li></ul></td>
    <td><i>string&nbsp;|&nbsp;object</i></td>
    <td>
        <p>Port label position configuration. It can be a <code class="highlighted">string</code> for setting the port layout type directly with default settings, or an <code class="highlighted">object</code> where it's possible to set the layout type and options.</p>
        <pre><code class="highlighted"><span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">}</span>

<span class="token comment">// or ...</span>
<span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            dx<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    </td><p></p>
</tr>

<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        It states the layout type. It matches the layout method name defined in the <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>PortLabel</code> namespace: <code class="highlighted">name<span class="token operator">:</span> <span class="token string">'left'</span></code> is implemented as <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>PortLabel<span class="token punctuation">.</span>left</code>.
    </td>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td>
        Additional arguments for the layout method. Available properties depend on the layout type. More information can be found in the <a href="#layout.PortLabel"><code class="highlighted">layout<span class="token punctuation">.</span>PortLabel</code></a> section.
    </td>
</tr>
<tr>
    <td><ul><li><b>label.markup</b></li></ul></td>
    <td><i>MarkupJSON&nbsp;|&nbsp;string</i></td>
    <td>
        Custom port label markup. Multiple roots are not allowed. The default port label looks like the following: <code class="highlighted"><span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"joint-port-label"</span> fill<span class="token operator">=</span><span class="token string">"#000000"</span><span class="token operator">/</span><span class="token operator">></span></code>.
    </td>
</tr>
</table>

<h5 id="custom-markup">Custom markup</h5>
<p>Both port and port label can have custom markup...</p>
<pre><code class="language-javascript highlighted"><span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#000000'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'port'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>...or, it can be set as an default port markup/port label markup on an element model:</p>
<pre><code class="language-javascript highlighted"><span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    portMarkup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token comment">// Use native SVG kebab-case for attributes in markup</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    portLabelMarkup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'yellow'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype" class="docs-item">
    <div id="dia.Element.prototype.addPort" class="docs-item">
        <a href="#dia.Element.prototype.addPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add a single port, where <code class="highlighted">port</code> could be defined as described in section <a href="#dia.Element.ports.interface">Port interface</a></p>

        </div>
    </div>
    <div id="dia.Element.prototype.addPorts" class="docs-item">
        <a href="#dia.Element.prototype.addPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPorts</span><span class="token punctuation">(</span>ports<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add array of <code class="highlighted">ports</code>. Ports are validated for <code class="highlighted">id</code> duplicities, if there is a id collision, no new ports are added, where <code class="highlighted">port</code> could be defined as describe in section <a href="#dia.Element.ports.interface">Port interface</a></p>

        </div>
    </div>
    <div id="dia.Element.prototype.addTo" class="docs-item">
        <a href="#dia.Element.prototype.addTo" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addTo</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span></code></pre>
<p>Add the element to the <code class="highlighted">graph</code> (an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code>). This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.angle" class="docs-item">
        <a href="#dia.Element.prototype.angle" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.angle</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the rotation of the element in degrees (<i>0 - 360</i>).</p>

        </div>
    </div>
    <div id="dia.Element.prototype.attr" class="docs-item">
        <a href="#dia.Element.prototype.attr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.attr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>attrs <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Set presentation attributes (<a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">SVG</a> and <a href="joint.html#dia.attributes">JointJS </a> attributes) on view subelements. <code class="highlighted">attrs</code> can either be an object or string representing a path to a nested attribute. If it is an object, the keys of the <code class="highlighted">attrs</code> object are selectors (<a href="joint.html#dia.Cell.markup.json">JSON Markup Selector</a> or CSS Selector) matching the subelements. The values are objects containing SVG attributes and their values. <code class="highlighted">attrs</code> object will be mixed with <code class="highlighted">attrs</code> property of the <code class="highlighted">element</code> model. This is a convenient way of rewriting only some of the attributes of the subelements. For overwriting all attributes of all subelements, use <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'attrs'</span><span class="token punctuation">,</span> attrs<span class="token punctuation">)</span></code>.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// selectors as defined in the JSON markup</span>
    body<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">'calc(h)'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'My Label'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// using CSS selectors is significantly slower</span>
    rect<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'.myrect2'</span><span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<div class="docs-important-note">
The method is not suitable for storing custom data on the model. For that, use <a href="joint.html#dia.Element.prototype.prop"><code class="highlighted"><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> or <a href="#mvc.Model.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods.
<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'confirmed'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'data/count'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div>

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>An alternative call using a string/array path and a value:</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token string">'fontSize'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Note: an equivalent expression is also</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'attrs/label/fontSize'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Get attribute value defined by a path. If no path provided the whole <code class="highlighted">attrs</code> object is returned.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">,</span> <span class="token string">'fontSize'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">12</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.clone" class="docs-item">
        <a href="#dia.Element.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre><p>Returns a new instance of the element with identical attributes. If <code class="highlighted">options<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code>, then
            all the embedded cells (elements, links) of the element are cloned as well. In this case, the return value is an array of
            instances rather then a single instance.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.embed" class="docs-item">
        <a href="#dia.Element.prototype.embed" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.embed</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>cells<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Embed a cell (element or link), or an array of cells into the element. The element then becomes a parent of the embedded cell. 
    When a parent is moved (translated), all cells embedded into that parent will move as well. If links are embedded, their vertices 
    move with the parent. This way both options are available: if a link is not embedded but its source/target elements are and their 
    parent moves, the embedded elements move with the parent but the link vertices stay at the same position. 
    If the link is embedded with its source/target elements, its vertices move as the parent moves.
</p>

<p>
    Any additional option or custom property provided in the options object will be accessible in the callback function of 
    the Element <code class="highlighted"><span class="token string">'change:embeds'</span></code> <a href="#dia.Element.events">event</a>.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> rect1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'Rect'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rect2 <span class="token operator">=</span> rect1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rect2<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span>rect1<span class="token punctuation">,</span> rect2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rect1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:embeds'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> newEmbeds<span class="token punctuation">,</span> opt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {testOption: true}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add custom 'testOption' property</span>
rect1<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>rect2<span class="token punctuation">,</span> <span class="token punctuation">{</span> testOption<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.findView" class="docs-item">
        <a href="#dia.Element.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span></code></pre><p>Find view (<a href="#dia.ElementView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code></a>) for the element model in the <code class="highlighted">paper</code>.
      This is a shortcut to the equivalent call <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code>
    </p>
        </div>
    </div>
    <div id="dia.Element.prototype.fitEmbeds" class="docs-item">
        <a href="#dia.Element.prototype.fitEmbeds" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.fitEmbeds</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">fitEmbeds</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>An alias for the <code class="highlighted">element<span class="token punctuation">.</span>fitToChildren</code> <a href="#dia.Element.prototype.fitToChildren">function</a>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.fitParent" class="docs-item">
        <a href="#dia.Element.prototype.fitParent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.fitParent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">fitParent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Resize and reposition this element&#39;s embedding parent element such that all of its children (including this element) end up within the parent&#39;s new bounding box.</p>
<p>Starting from a given element, this function proceeds <q>upwards</q> to that element&#39;s parent (and further ancestors, if <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is used). In that sense, this function is the opposite of the <code class="highlighted">element<span class="token punctuation">.</span>fitToChildren</code> <a href="#dia.Element.prototype.fitToChildren">function</a>.</p>
<p>Available options:</p>
<table>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Inflate the embedding parent element's calculated bounding box by this much additional padding.</td>
    </tr>
    <tr>
        <th>expandOnly</th>
        <td><i>boolean</i></td>
        <td>If <code class="highlighted"><span class="token boolean">true</span></code>, the algorithm is only ever allowed to expand the bounding box of the embedding parent element, never to shrink it. You can visualize this setting as the algorithm dragging the top-left and bottom-right corners of the parent's bounding box <strong>outward</strong> until its children (including this element) are within the bounding box.</td>
    </tr>
    <tr>
        <th>shrinkOnly</th>
        <td><i>boolean</i></td>
        <td>
            <p>If <code class="highlighted"><span class="token boolean">true</span></code>, the algorithm is only ever allowed to shrink the bounding box of the embedding parent element, never to expand it. You can visualize this setting as the algorithm dragging the top-left and bottom-right corners of the parent's bounding box <strong>inward</strong> until only its children (including this element) are within the bounding box.</p>
            <p>If only a portion of this element (or this element's sibling element) initially overlaps the embedding parent element, the parent's calculated bounding box will only include that portion. If there is no overlap between this element and its parent (i.e. this element is <q>outside</q> the parent), then this function does nothing (since satisfying the shrink-only restriction is impossible).</p>
        </td>
    </tr>
    <tr>
        <th>deep</th>
        <td><i>boolean</i></td>
        <td>
            <p>If <code class="highlighted"><span class="token boolean">true</span></code>, this algorithm is applied recursively on the embedding parent element of this element's embedding parent element, and so on. The bounding box algorithm is evaluated in reverse-depth order - starting from this element, then going up (i.e. to the topmost embedding ancestor element - or <code class="highlighted">opt<span class="token punctuation">.</span>terminator</code>), to make sure that any paddings applied on lower-level elements are taken into account by higher-level elements.</p>
            <p>Note that if this option is used in conjunction with <code class="highlighted">opt<span class="token punctuation">.</span>shrinkOnly</code>, the algorithm is still applied strictly recursively (i.e. one level at a time). Therefore, even if this element lies completely within the current bounding box of its grandfather element, the grandfather element's calculated bounding box will shrink only based on this element's parent - which may mean that this element will end up outside of the calculated bounding box of the grandfather element.</p>
        </td>
    </tr>
    <tr>
        <th>terminator</th>
        <td><i>Cell&nbsp;|&nbsp;Cell.ID</i></td>
        <td>
            <p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> and a Cell reference or a Cell ID is provided as a value of this option, then the specified element is the last one for which the bounding box algorithm is applied during recursion - it is the last element whose bounding box is resized and repositioned based on the bounding boxes of its children.</p>
            <p>Handling of edge cases:</p>
            <ul>
                <li>If the provided value refers to this element, then nothing happens.</li>
                <li>If the provided value refers to this element's embedding parent element, then the result is the same as calling the function without <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> and <code class="highlighted">opt<span class="token punctuation">.</span>terminator</code>.</li>
                <li>If the provided value does not refer to an ancestor of this element, then the result is the same as calling the function without <code class="highlighted">opt<span class="token punctuation">.</span>terminator</code>.</li>
                <li>If the provided value does not refer to a Cell of the Element type, then the result is the same as calling the function without <code class="highlighted">opt<span class="token punctuation">.</span>terminator</code>.</li>
            </ul>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Element.prototype.fitToChildren" class="docs-item">
        <a href="#dia.Element.prototype.fitToChildren" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.fitToChildren</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">fitToChildren</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Resize and reposition this element such that all of its embedded child elements end up within this element&#39;s new bounding box.</p>
<p>Starting from a given element, this function proceeds <q>downwards</q> through that element&#39;s children (and further descendants, if <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is used). In that sense, this function is the opposite of the <code class="highlighted">element<span class="token punctuation">.</span>fitParent</code> <a href="#dia.Element.prototype.fitParent">function</a>.</p>
<p>Available options:</p>
<table>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Inflate this element's calculated bounding box by this much additional padding.</td>
    </tr>
    <tr>
        <th>expandOnly</th>
        <td><i>boolean</i></td>
        <td>If <code class="highlighted"><span class="token boolean">true</span></code>, the algorithm is only ever allowed to expand the bounding box of this element, never to shrink it. You can visualize this setting as the algorithm dragging the top-left and bottom-right corners of this element's bounding box <strong>outward</strong> until all its embedded child elements are within the bounding box.</td>
    </tr>
    <tr>
        <th>shrinkOnly</th>
        <td><i>boolean</i></td>
        <td>
            <p>If <code class="highlighted"><span class="token boolean">true</span></code>, the algorithm is only ever allowed to shrink the bounding box of this element, never to expand it. You can visualize this setting as the algorithm dragging the top-left and bottom-right corners of this element's bounding box <strong>inward</strong> until only its embedded child elements are within the bounding box.</p>
            <p>If only a portion of an embedded child element initially overlaps this element, the calculated bounding box will only include that portion. If there is no overlap between this element and its children (i.e. all children are currently placed <q>outside</q> of this element), then this function does nothing (since satisfying the shrink-only restriction is impossible).</p>
        </td>
    </tr>
    <tr>
        <th>deep</th>
        <td><i>boolean</i></td>
        <td>
            <p>If <code class="highlighted"><span class="token boolean">true</span></code>, this algorithm is applied recursively on all embedded children of this element which have embedded children of their own, and so on. The bounding box algorithm is evaluated in reverse-depth order - starting from the deepest descendant, then going up (i.e. to this element). This ensures that any paddings applied on lower-level elements are taken into account by higher-level elements.</p>
            <p>Note that if this option is used in conjunction with <code class="highlighted">opt<span class="token punctuation">.</span>shrinkOnly</code>, the algorithm is still applied strictly recursively - one level at a time. Therefore, even if this element's current bounding box completely overlaps one of its grandchild elements, this element's calculated bounding box will shrink only based on the grandchild's parent (this element's child), which may mean that the grandchild element will end up outside of the calculated bounding box of this element.</p>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Element.prototype.getAbsolutePointFromRelative" class="docs-item">
        <a href="#dia.Element.prototype.getAbsolutePointFromRelative" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getAbsolutePointFromRelative</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getAbsolutePointFromRelative</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getAbsolutePointFromRelative</span><span class="token punctuation">(</span>relativePoint<span class="token punctuation">)</span></code></pre>

<p>Accept a point in the coordinate system of the element and return the point in the graph coordinate system, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code>.</p>

<p>The element coordinate system has its origin <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></code> at the <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> rotated by the <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Each axis <code class="highlighted">x</code> and <code class="highlighted">y</code> are rotated by the same angle.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getAncestors" class="docs-item">
        <a href="#dia.Element.prototype.getAncestors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getAncestors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all the ancestors of this element starting from the immediate parent all the way up to the most distant ancestor.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.getBBox" class="docs-item">
        <a href="#dia.Element.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the element model, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Rect</code>.</p>

<p>Keep in mind that this function reports the dimensions of the element's model, not the dimensions of the element's view. (For example, the model bounding box does not include any associated ports). See the documentation of the <code class="highlighted">elementView<span class="token punctuation">.</span>getBBox</code> <a href="#dia.ElementView.prototype.getBBox">function</a> for details about the differences.</p>

<pre><code class="highlighted"><span class="token keyword">if</span> <span class="token punctuation">(</span>element1<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intersect</span><span class="token punctuation">(</span>element2<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// intersection of the two elements</span>
<span class="token punctuation">}</span></code></pre>

<table>
    <tr>
        <th>opt</th>
        <th>description</th>
    </tr>
    <tr>
        <td>deep</td>
        <td>Return the union of the element's bounding box and all the elements embedded into it.</td>
    </tr>
    <tr>
        <td>rotate</td>
        <td>Return the bounding box after the element's rotation.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Element.prototype.getEmbeddedCells" class="docs-item">
        <a href="#dia.Element.prototype.getEmbeddedCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getEmbeddedCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getEmbeddedCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the embedded cells of an element. If all you need is <code class="highlighted">id</code>'s of all the embedded cells,
            use <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'embeds'</span><span class="token punctuation">)</span></code>. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, all the deeply embedded
          cells will be returned. The order in which the cells are returned depends on the search algorithm used. By
          default, <a href="https://en.wikipedia.org/wiki/Depth-first_search">Depth-first search (DFS)</a> algorithm is used. If
          <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the <a href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth-first search</a> algorithm will be used instead.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getGroupPorts" class="docs-item">
        <a href="#dia.Element.prototype.getGroupPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getGroupPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getGroupPorts</span><span class="token punctuation">(</span>groupName<span class="token punctuation">)</span></code></pre>

Returns an array of all ports on the element with the given <code class="highlighted">groupName</code>. If there is no such a port an empty array is returned.

        </div>
    </div>
    <div id="dia.Element.prototype.getPort" class="docs-item">
        <a href="#dia.Element.prototype.getPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre>

<p>Returns the port specified by an <code class="highlighted">id</code>. If such a port does not exist the method returns <code class="highlighted"><span class="token keyword">undefined</span></code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getPortGroupNames" class="docs-item">
        <a href="#dia.Element.prototype.getPortGroupNames" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPortGroupNames</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPortGroupNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

Returns an array of port group names of the element.
It returns all port group names defined on the element regardless of whether the port group has any ports or not.


        </div>
    </div>
    <div id="dia.Element.prototype.getPortIndex" class="docs-item">
        <a href="#dia.Element.prototype.getPortIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPortIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPortIndex</span><span class="token punctuation">(</span>portId<span class="token punctuation">)</span></code></pre>

Returns the port index in the array of port items.

        </div>
    </div>
    <div id="dia.Element.prototype.getPorts" class="docs-item">
        <a href="#dia.Element.prototype.getPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Returns an array of all ports on the element. If there is no port an empty array is returned.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getPortsPositions" class="docs-item">
        <a href="#dia.Element.prototype.getPortsPositions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPortsPositions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPortsPositions</span><span class="token punctuation">(</span>groupName<span class="token punctuation">)</span></code></pre>

<p>Returns the positions and the angle of all ports in the group, relatively to the element position. </p>

        </div>
    </div>
    <div id="dia.Element.prototype.getRelativePointFromAbsolute" class="docs-item">
        <a href="#dia.Element.prototype.getRelativePointFromAbsolute" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getRelativePointFromAbsolute</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getRelativePointFromAbsolute</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getRelativePointFromAbsolute</span><span class="token punctuation">(</span>absolutePoint<span class="token punctuation">)</span></code></pre>

<p>Accept a point in the graph coordinate system and return the point in the coordinate system of the element, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code>.</p>

<p>The element coordinate system has its origin <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></code> at the <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> rotated by the <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Each axis <code class="highlighted">x</code> and <code class="highlighted">y</code> are rotated by the same angle.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getTransitions" class="docs-item">
        <a href="#dia.Element.prototype.getTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getTransitions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all active transitions (their paths).</p>
        </div>
    </div>
    <div id="dia.Element.prototype.hasPort" class="docs-item">
        <a href="#dia.Element.prototype.hasPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.hasPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">hasPort</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre>

<p>Check if an element contains a port with <code class="highlighted">id</code>. Returns <code class="highlighted">boolean</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.hasPorts" class="docs-item">
        <a href="#dia.Element.prototype.hasPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.hasPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">hasPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Check if an element has any ports defined. Returns <code class="highlighted">boolean</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.insertPort" class="docs-item">
        <a href="#dia.Element.prototype.insertPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.insertPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">insertPort</span><span class="token punctuation">(</span>before<span class="token punctuation">,</span> port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Insert a new port before another port, where <code class="highlighted">port</code> could be defined as described in section <a href="#dia.Element.ports.interface">Port interface</a> and <code class="highlighted">before</code> is either an index, port id or port itself.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.isElement" class="docs-item">
        <a href="#dia.Element.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">true</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.isEmbeddedIn" class="docs-item">
        <a href="#dia.Element.prototype.isEmbeddedIn" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isEmbeddedIn</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isEmbeddedIn</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the element is embedded in another element <code class="highlighted">element</code>. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code>
        is <code class="highlighted"><span class="token boolean">false</span></code>, only direct parentage will be checked. <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> by default.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.isLink" class="docs-item">
        <a href="#dia.Element.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.portProp" class="docs-item">
        <a href="#dia.Element.prototype.portProp" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.portProp</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span>portId<span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Set properties, possibly nested, on the element port. This is an equivalent of the <a href="#dia.Element.prototype.attr">attr()</a> method but this time for custom data properties.</p>
<pre><code class="language-javascript highlighted">element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle/fill'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle/fill'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 'red'</span>

element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> r<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> stroke<span class="token operator">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { r: 10, stroke: 'green', fill: 'red' }</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.position" class="docs-item">
        <a href="#dia.Element.prototype.position" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.position</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>If <code class="highlighted"><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is called  without arguments, it returns the current position.</p>

<table>
    <tr>
        <th>Option</th>
        <th>Default</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>parentRelative</td>
        <td>false</td>
        <td>The method returns the current position of the element relative to its parent.</td>
    </tr>
</table>

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Set the element position to <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates. This is almost equivalent to
    <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code>. However, this method provides some additional functionality.
</p>

<table>
    <tr>
        <th>Option</th>
        <th>Default</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>parentRelative</td>
        <td>false</td>
        <td>If set to <code class="highlighted"><span class="token boolean">true</span></code> the <code class="highlighted">x</code> and <code class="highlighted">y</code>
            coordinates will be treated relatively to the parent element of this element. If the element has no parent or the parent is a link, the option is ignored.
        </td>
    </tr>
    <tr>
        <td>deep</td>
        <td>false</td>
        <td>If set to <code class="highlighted"><span class="token boolean">true</span></code> it will position the element and its descendants while keeping the original distances of the descendants to/from the element origin. The relative distances of the descendants are maintained.</td>
    </tr>
    <tr>
        <td>restrictedArea</td>
        <td>null</td>
        <td>
            If set to a rectangle, the translation of the element will be restricted to that rectangle only.
            The <code class="highlighted">restrictedArea</code> is an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number<span class="token punctuation">,</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>.
            This is useful, e.g. if you want to restrict the translation of an embedded element within its parent. The only thing
            you have to do in this case is to pass the bounding box of the parent element to the <code class="highlighted">restrictedArea</code> option:<p></p>

            <pre><code class="highlighted">myElement<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">{</span> restrictedArea<span class="token operator">:</span> myElement<span class="token punctuation">.</span><span class="token function">getParentCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

            <p>The code above makes sure that the element <code class="highlighted">myElement</code> never crosses the bounding box of its parent element.
            Note that this also works if the element <code class="highlighted">myElement</code> has other embedded elements. In other words, the
            bounding box of the <code class="highlighted">myElement</code> that is used to calculate the restriction is the total bounding box,
            including all its children (in case they are <q>sticking out</q>).</p>
        </td>
    </tr>

</table>

<pre><code class="highlighted">el1<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el1<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>el2<span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parentRelative<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// --> 110@110</span>
el1<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// --> 210@210</span></code></pre>

<pre><code class="highlighted"><span class="token keyword">const</span> restrictedArea <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">{</span> restrictedArea <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// --> makes sure x and y is within the area provided</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.prop" class="docs-item">
        <a href="#dia.Element.prototype.prop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.prop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span></code></pre>

<p>Set properties, possibly nested, on the element model. This is an equivalent of the <a href="#dia.Element.prototype.attr">attr()</a> method but this time for custom data properties.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">)</span>  <span class="token comment">// 'John'</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Nested arrays are supported too:</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'mylist/0/data/0/value'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mylist<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

<p>To overwrite attributes, enable <i>rewrite</i> mode by adding <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> as the 3rd argument. This differs from the default behaviour which is to merge our properties.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom/state/isCollapsed'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom/state'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isActive<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Output from element.toJSON();</span>
<span class="token comment">// We can see our attributes have been overwritten</span>
<span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"standard.Rectangle"</span><span class="token punctuation">,</span>
    <span class="token string">"position"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"size"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"width"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"height"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"angle"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"b1c02090-e46a-4d90-a5dc-5096f1559b9f"</span><span class="token punctuation">,</span>
    <span class="token string">"custom"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"state"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"isActive"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"attrs"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>

<p>
    When changing model attributes via <code class="highlighted"><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="highlighted"><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, some useful information is passed along with the
    change event in JointJS. <code class="highlighted">propertyPath</code>, <code class="highlighted">propertyValue</code>, and <code class="highlighted">propertyPathArray</code> are all values
    which can be accessed when updating the model. This can prove useful if for some reason you need to listen to a specific
    attribute change.
</p>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cell<span class="token punctuation">,</span> opt</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// --> {propertyPath: 'attrs/body/fill', propertyValue: 'cornflowerblue', propertyPathArray: Array(3)}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'attrs'</span> <span class="token keyword">in</span> cell<span class="token punctuation">.</span>changed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opt<span class="token punctuation">.</span>propertyPathArray<span class="token punctuation">,</span> <span class="token string">'was changed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// --> ['attrs', 'body', 'fill'] 'was changed'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'attrs/body/fill'</span><span class="token punctuation">,</span> <span class="token string">'cornflowerblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre>


<p><i>Advanced:</i> Pass <code class="highlighted"><span class="token punctuation">{</span> isolate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> if the property change does not affect the connected links. Typically, changing the element fill color has zero effect on attached links. By default, the element and all connected links are updated.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'attrs'</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'fill'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isolate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.remove" class="docs-item">
        <a href="#dia.Element.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre><p>Remove the element from the graph. All its embedded elements will get removed too and the element gets unembedded from its parent element. By default, 
            all the associated links are removed too. To suppress this behaviour, set <code class="highlighted">options<span class="token punctuation">.</span>disconnectLinks <span class="token operator">===</span> <span class="token boolean">true</span></code>. In this case, all the associated
            links get disconnected from this element rather then removed completely from the graph.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.removeAttr" class="docs-item">
        <a href="#dia.Element.prototype.removeAttr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removeAttr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Remove a previously set attribute from the element. <code class="highlighted">path</code> can either be a string that specifies
      the path to the, possibly nested, attribute to be removed or an array of more paths.
      The associated element view makes sure the element gets re-rendered properly.
      If <code class="highlighted">options</code> is passed, it can contain data that is passed over to 
      the event listeners for the <code class="highlighted">change<span class="token operator">:</span>attrs</code> event triggered on the element
      itself and also on the graph the element is in.
    </p>
        </div>
    </div>
    <div id="dia.Element.prototype.removePort" class="docs-item">
        <a href="#dia.Element.prototype.removePort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removePort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Remove a port from an element, where <code class="highlighted">port</code> is a port object, or <code class="highlighted">portId</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.removePorts" class="docs-item">
        <a href="#dia.Element.prototype.removePorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removePorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePorts</span><span class="token punctuation">(</span>ports <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Remove an array of <code class="highlighted">ports</code> from the element.</p>
<p>The ports can be specified as <a href="#dia.Element.ports.interface">Port interfaces</a> or <code class="highlighted">portIds</code>. The function skips over any ports in the array that do not exist on the element.</p>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePorts</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>If no array is provided, the function removes all ports from the element.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.resize" class="docs-item">
        <a href="#dia.Element.prototype.resize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.resize</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Resize an element in place so that the <a href="https://resources.jointjs.com/tutorial/custom-elements">&quot;scalable&quot; group</a> has width <code class="highlighted">width</code> and height <code class="highlighted">height</code>. In place in this case means
            that the top-left corner of the element stays at the same position after resizing. In other words,
          the element is streched to the bottom/right (by default). To change the direction of resizing, set
          <code class="highlighted">opt<span class="token punctuation">.</span>direction</code> to one of <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'right'</span></code>, <code class="highlighted"><span class="token string">'top'</span></code>, <code class="highlighted"><span class="token string">'bottom'</span></code>,
          <code class="highlighted"><span class="token string">'top-right'</span></code>, <code class="highlighted"><span class="token string">'top-left'</span></code>, <code class="highlighted"><span class="token string">'bottom-left'</span></code> or <code class="highlighted"><span class="token string">'bottom-right'</span></code> (the default).
        </p><p>There is a difference between a classical scale and
            <a href="#dia.Element.prototype.resize">resize</a> operations. <code class="highlighted">resize</code> doesn't actually scale the whole SVG <code class="highlighted"><span class="token operator">&lt;</span>g<span class="token operator">></span></code> element grouping
            all its subelements. It only scales subelements of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class"scalable"</span><span class="token punctuation">/></span></span></code> group. This is very
            useful and brings a lot of flexibility in defining which subelements should be scaled and which not. Imagine a simple
            rectangle element with text inside. Usually, when we resize the whole element, we expect the rectangle to
            get scaled while the text should stay the same size, only its position should be adjusted so that the text stays
            in the center of the rectangle. This can be easilly achieved by adding the <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span></code> element to the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class"scalable"</span><span class="token punctuation">/></span></span></code> group
            in the markup and positioning the text
            subelement relatively to the <code class="highlighted"><span class="token operator">&lt;</span>rect <span class="token operator">/</span><span class="token operator">></span></code> element: <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">ref-x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.5<span class="token punctuation">"</span></span> <span class="token attr-name">ref-y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.5<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rect<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code>.
            Note that neither of <code class="highlighted">ref<span class="token operator">-</span>x<span class="token punctuation">,</span> ref<span class="token operator">-</span>y and ref</code> attributes is an SVG standard attribute. These are special
            attributes introduced by JointJS. More on these in the section on <a href="#dia.attributes">Special attributes</a>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.rotate" class="docs-item">
        <a href="#dia.Element.prototype.rotate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.rotate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>deg<span class="token punctuation">,</span> <span class="token punctuation">[</span>absolute<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Rotate an element by <code class="highlighted">deg</code> degrees around its center. If the optional <code class="highlighted">absolute</code> parameter is <code class="highlighted"><span class="token boolean">true</span></code>,
        the <code class="highlighted">deg</code> will be considered an absolute angle, not an addition to the previous angle.
      If <code class="highlighted">origin</code> is passed in the form of an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties,
      then this point will be used as the origin for the rotation transformation.
    </p>

        </div>
    </div>
    <div id="dia.Element.prototype.scale" class="docs-item">
        <a href="#dia.Element.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.scale</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> origin<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scales the element's position and size relative to the given origin.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.stopTransitions" class="docs-item">
        <a href="#dia.Element.prototype.stopTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.stopTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">stopTransitions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Stops all running transitions. If parameter <code class="highlighted">path</code> is provided, it will stop only transitions specified by this path.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.toBack" class="docs-item">
        <a href="#dia.Element.prototype.toBack" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toBack</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Move the element so it is behind all other cells (elements/links). If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is
    <code class="highlighted"><span class="token boolean">true</span></code>, all the embedded cells of this element will be updated in a Breadth-first
    search (BFS) fashion.
</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>foregroundEmbeds</code> is <code class="highlighted"><span class="token boolean">true</span></code> (as by default), all the embedded
    cells will get a higher <code class="highlighted">z</code> index than that of this element. This is especially useful in hierarchical diagrams where if you want to send an element to the back, you don't want its children (embedded cells) to be hidden behind that element. If
    <code class="highlighted">opt<span class="token punctuation">.</span>foregroundEmbeds</code> is <code class="highlighted"><span class="token boolean">false</span></code>, the original order within the group is preserved, allowing children to remain behind their parents.
</p>

<p>Set <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> to <code class="highlighted"><span class="token boolean">false</span></code> to index the elements using Depth-first search (DFS).</p>

        </div>
    </div>
    <div id="dia.Element.prototype.toFront" class="docs-item">
        <a href="#dia.Element.prototype.toFront" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toFront</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Move the element so it is on top of all other cells (element/links).
    If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, all the embedded cells of this element will be updated
    in a Breadth-first search (BFS) fashion.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>foregroundEmbeds</code> is <code class="highlighted"><span class="token boolean">true</span></code> (as by default), all the embedded
    cells will get a higher <code class="highlighted">z</code> index than that of this element. This is especially useful
    in hierarchical diagrams where if you want to send an element to the front, you don't want its children (embedded cells)
    to be hidden behind that element. If <code class="highlighted">opt<span class="token punctuation">.</span>foregroundEmbeds</code> is <code class="highlighted"><span class="token boolean">false</span></code>,
    the original order within the group is preserved, allowing children to remain behind their parents.</p>

<p>Set <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> to <code class="highlighted"><span class="token boolean">false</span></code> to index the elements using Depth-first search (DFS).</p>

<p>All elements have a <code class="highlighted">z</code> property defining their z-level in the graph. This <code class="highlighted">z</code> property
can even be set directly by <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span></code>. This change will be automatically handled by the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code>
object associated with the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object this element is part of and all the SVG elements will get resorted so that
their position in the DOM reflects the <code class="highlighted">z</code> level.</p>

<pre><code class="highlighted">container<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>el1<span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>el2<span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.toJSON" class="docs-item">
        <a href="#dia.Element.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a copy of the element's attributes for JSON serialization. This can be used for persistance or serialization. Note that this method doesn't return a JSON string but rather an object that can be then serialized to JSON with <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.transition" class="docs-item">
        <a href="#dia.Element.prototype.transition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.transition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Allows to change the element's property gradually over a period of time. This method lets you specify what property to change (<code class="highlighted">path</code>), when the transition will start (<code class="highlighted">options<span class="token punctuation">.</span>delay</code>), how long the transition will last (<code class="highlighted">options<span class="token punctuation">.</span>duration</code>), how the transition will run (<code class="highlighted">options<span class="token punctuation">.</span>timingFunction</code>), and how to interpolate the property value (<code class="highlighted">options<span class="token punctuation">.</span>valueFunction</code>).</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'position/x'</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    delay<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token function-variable function">timingFunction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> t<span class="token operator">*</span>t<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">valueFunction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span> <span class="token operator">*</span> t <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the element's x-coordinate in 100ms, for period of 500ms.</span></code></pre>

<p>JointJS comes pre-built with some common timing and interpolating functions. The timing functions are defined in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing</code> namespace and the interpolating functions in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate</code> namespace. The predefined timing functions are:</p>

<ul>
    <li><code class="highlighted">linear</code></li>
    <li><code class="highlighted">quad</code></li>
    <li><code class="highlighted">cubic</code></li>
    <li><code class="highlighted">inout</code></li>
    <li><code class="highlighted">exponential</code></li>
    <li><code class="highlighted">bounce</code></li>
</ul>

<p>and the predefined interpolating functions are:</p>
<ul>
    <li><code class="highlighted">number</code></li>
    <li><code class="highlighted">object</code></li>
    <li><code class="highlighted">hexColor</code></li>
    <li><code class="highlighted">unit</code></li>
</ul><p></p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'attrs/text/font-size'</span><span class="token punctuation">,</span> <span class="token string">'1em'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
    valueFunction<span class="token operator">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate<span class="token punctuation">.</span>unit<span class="token punctuation">,</span>
    timingFunction<span class="token operator">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>bounce
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the current font size value to 1em in the bounce fashion.</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.translate" class="docs-item">
        <a href="#dia.Element.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> <span class="token punctuation">[</span>ty<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Translate an element by <code class="highlighted">tx</code> pixels in x axis and <code class="highlighted">ty</code> pixels in y axis.
            <code class="highlighted">ty</code> is optional in which case the translation in y axis will be considered zero.
            The optional options object <code class="highlighted">opt</code> can be used to pass additional parameters to the event handlers
            listening on <code class="highlighted"><span class="token string">'change:position'</span></code> events. <code class="highlighted">opt<span class="token punctuation">.</span>transition</code> can be used to initiate an animated
            transition rather than a sudden move of the element. See <a href="#dia.Element.prototype.transition">joint.dia.Element:transition</a> for more info
            on transitions. If <code class="highlighted">opt<span class="token punctuation">.</span>restrictedArea</code> is set, the translation of the element will be restricted to that area only.
            The <code class="highlighted">restrictedArea</code> is an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number<span class="token punctuation">,</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>.
            This is useful, e.g. if you want to restrict the translation of an embedded element within its parent. The only thing
            you have to do in this case is to pass the bounding box of the parent element to the <code class="highlighted">restrictedArea</code> option:</p>
            <pre><code class="highlighted">myElement<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> restrictedArea<span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myElement<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
            <p>The code above makes sure that the element <code class="highlighted">myElement</code> never crosses the bounding box of its parent element.
            note that this also works if the element <code class="highlighted">myElement</code> has other embedded elements. In other words, the
            bounding box of the <code class="highlighted">myElement</code> that is used to calculate the restriction is the total bounding box,
            including all its children (in case they are <q>sticking out</q>).</p>
        </div>
    </div>
    <div id="dia.Element.prototype.unembed" class="docs-item">
        <a href="#dia.Element.prototype.unembed" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.unembed</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">unembed</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">unembed</span><span class="token punctuation">(</span>cells<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Free up an embedded cell or an array of cells from its parent element.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.ElementView" class="docs-item">
    <div id="dia.ElementView.intro" class="docs-item">
        <a href="#dia.ElementView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ElementView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Element">joint.dia.Element</a> model. It inherits from <a href="#dia.CellView">joint.dia.CellView</a> and is responsible for:</p>
<ul>
  <li>Rendering an element inside of a paper</li>
  <li>Handling the element's pointer events</li>
  <li>Provides various methods for working with the element (visually)</li>
</ul>
<p>To find the view associated with a specific element (model), use the <a href="#dia.Paper.prototype.findViewByModel">findViewByModel</a> method of the paper.</p>
<pre><code class="highlighted"><span class="token keyword">var</span> elementView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.ElementView.prototype" class="docs-item">
    <div id="dia.ElementView.prototype.addTools" class="docs-item">
        <a href="#dia.ElementView.prototype.addTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.addTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span></code></pre>
<p>Add the provided <code class="highlighted">toolsView</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</code> <a href="#dia.ToolsView">type</a>) to the element view.</p>

<p>Adding a tools view to an element view is the last (third) step in the process of setting up element tools on an element view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating element tools</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> removeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token operator">:</span> <span class="token punctuation">[</span>boundaryTool<span class="token punctuation">,</span> removeButton<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to an element view</span>
<span class="token keyword">var</span> elementView <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
elementView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every element view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last element view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

<p>The element tools are added in the visible state. Use the <code class="highlighted">elementView<span class="token punctuation">.</span>hideTools</code> <a href="#dia.ElementView.prototype.hideTools">function</a> if this behavior is not desirable (e.g. if you want the element tools to appear in response to user interaction). Example:</p>

<pre><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span>
elementView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elementView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elementView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.ElementView.prototype.findPortNode" class="docs-item">
        <a href="#dia.ElementView.prototype.findPortNode" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.findPortNode</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">findPortNode</span><span class="token punctuation">(</span>portId<span class="token punctuation">)</span></code></pre>

<p>Return the port DOM node of this ElementView that is identified by <code class="highlighted">portId</code> (i.e. an SVGElement within <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code> which has <code class="highlighted"><span class="token string">'port'</span><span class="token operator">:</span> portId</code>, an SVGElement referenced by <code class="highlighted">portRoot</code> selector).</p>

<p>If the ElementView does not have a port identified by <code class="highlighted">portId</code>, return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">findPortNode</span><span class="token punctuation">(</span>portId<span class="token punctuation">,</span> selector<span class="token punctuation">)</span></code></pre>

<p>Return an <i>SVGElement</i> referenced by <b>selector</b> of the port identified by <b>portId</b>. If there is no port with <b>portId</b> or no <i>SVGElement|HTMLElement</i> was found by the <b>selector</b>, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

<p>The available <code class="highlighted">selectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Element.ports">attribute of the port</a> from which the port was built.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.findPortNodes" class="docs-item">
        <a href="#dia.ElementView.prototype.findPortNodes" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.findPortNodes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">findPortNodes</span><span class="token punctuation">(</span>portId<span class="token punctuation">,</span> groupSelector<span class="token punctuation">)</span></code></pre>

<p>Return an array of <i>SVGElement|HTMLElement</i> referenced by <b>groupSelector</b> of the port identified by <b>portId</b>. If there is no port with <b>portId</b> or no <i>SVGElement|HTMLElement</i> was found by the <b>groupSelector</b>, an empty array is returned.</p>

<p>The available <code class="highlighted">groupSelectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Element.ports">attribute of the port</a> from which the port was built.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.getBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a bounding box of the element view.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the resulting bounding box is calculated based on the dimensions of the element model. (This means that SVG sub elements <q>sticking out</q> of the element are excluded.) This behavior is similar to the <code class="highlighted">element<span class="token punctuation">.</span>getBBox</code> <a href="#dia.Element.prototype.getBBox">function</a>  but the <code class="highlighted">elementView</code> function transforms the bounding box to match <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> translation and scaling.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.getNodeBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getNodeBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getNodeBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (element/subelement/port of this element view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="#dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.getNodeUnrotatedBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getNodeUnrotatedBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getNodeUnrotatedBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the unrotated bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (element/subelement/port of this element view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="#dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.hasTools" class="docs-item">
        <a href="#dia.ElementView.prototype.hasTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.hasTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this element view has a tools view attached.</p>

<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this element view has a tools view of the provided <code class="highlighted">name</code> attached.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.hideTools" class="docs-item">
        <a href="#dia.ElementView.prototype.hideTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.hideTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools attached to this element view.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.removeTools" class="docs-item">
        <a href="#dia.ElementView.prototype.removeTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.removeTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">removeTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove the tools view attached to this element view.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.showTools" class="docs-item">
        <a href="#dia.ElementView.prototype.showTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.showTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools attached to this element view.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Graph" class="docs-item">
    <div id="dia.Graph.constructor" class="docs-item">
        <a href="#dia.Graph.constructor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.constructor</h4>
        </a>
        <div class="docs-item-content">
<p>
  <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> is the model holding all cells (elements and links) of the diagram.
  It inherits from <a href="#mvc.Model">mvc.Model</a>.
  The collection of all the cells is stored in the property <b><code class="highlighted">cells</code></b> as an <a href="#mvc.Collection">mvc.Collection</a>.
</p>

<p>
  The graph is a powerful data model behind all JointJS diagrams. It not only provides efficient storage for directed graphs, but also offers useful 
  algorithms for traversing the graphs.
</p>

<p>
  In order for JointJS to find the correct constructor for your cell, the <code class="highlighted">graph</code> option <code class="highlighted">cellNamespace</code> must be provided in 
  its constructor function when a graph is instantiated. Built-in shapes are usually located in the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace, so this is 
  a common namespace to use. It's possible to add custom shapes to this namespace, or alternatively, you may like to use a different namespace 
  completely.
</p>

<p>
  For example, if <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> is provided as the value of <code class="highlighted">cellNamespace</code>, and a cell is of type <code class="highlighted"><span class="token string">'custom.Element'</span></code>,
  then the graph looks up the <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>Element</code> model when deserializing a graph from JSON format. If the graph is instantiated
  as e.g. <code class="highlighted"><span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> myCustomNamespace <span class="token punctuation">}</span><span class="token punctuation">)</span></code>, then the <code class="highlighted">graph</code> will read the model
  definition from the <code class="highlighted">myCustomNamespace<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>Element</code> object instead. This option is often used in combination with the
  <code class="highlighted">cellViewNamespace</code> option on the <a href="#dia.Paper.prototype.options.cellViewNamespace">joint.dia.Paper</a> object.
</p>

        </div>
    </div>
    <div id="dia.Graph.events" class="docs-item">
        <a href="#dia.Graph.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on:</p>

<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change in the graph</li>
    <li><code class="highlighted">add</code> - triggered when a new cell is added to the graph</li>
    <li><code class="highlighted">remove</code> - triggered when a cell is removed from the graph</li>
    <li>Moreover, all the events that are triggered on elements or links are propagated to the graph as well.</li>
</ul>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cell</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'New cell with id '</span> <span class="token operator">+</span> cell<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">' added to the graph.'</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.JSON" class="docs-item">
        <a href="#dia.Graph.JSON" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.JSON</h4>
        </a>
        <div class="docs-item-content">
<p>The JointJS graph JSON representation has the following format:</p>
<pre><code data-lang="javascript" class="highlighted"><span class="token punctuation">{</span>
    cells<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">// Array of cells (ie. links and elements).</span>
        <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token string">'3d90f661-fe5f-45dc-a938-bca137691eeb'</span><span class="token punctuation">,</span><span class="token comment">// Some randomly generated UUID.</span>
            type<span class="token operator">:</span> <span class="token string">'basic.Rect'</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#000'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            position<span class="token operator">:</span> <span class="token punctuation">{</span>
                x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                y<span class="token operator">:</span> <span class="token number">50</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            angle<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
            size<span class="token operator">:</span> <span class="token punctuation">{</span>
                width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                height<span class="token operator">:</span> <span class="token number">50</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            z<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            embeds<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">'0c6bf4f1-d5db-4058-9e85-f2d6c74a7a30'</span><span class="token punctuation">,</span>
                <span class="token string">'cdbfe073-b160-4e8f-a9a0-22853f29cc06'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            parent<span class="token operator">:</span> <span class="token string">'31f348fe-f5c6-4438-964e-9fc9273c02cb'</span>
            <span class="token comment">// ... and some other, maybe custom, data properties</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype" class="docs-item">
    <div id="dia.Graph.prototype.addCell" class="docs-item">
        <a href="#dia.Graph.prototype.addCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.addCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>cell<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Add a new cell to the graph. If <code class="highlighted">cell</code> is an array, all the cells in the array will be added to the graph.
    Any additional option or custom property provided in the options object will be accessible in the callback function of
    the graph add event.
</p>

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>dry</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, the graph reference is not stored on the <code class="highlighted">cell</code> after it's added.
</p>

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>async</code> is set to <code class="highlighted"><span class="token boolean">false</span></code>, this ensures the <code class="highlighted">cell</code> is rendered synchronously.
</p>

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>sort</code> is set to <code class="highlighted"><span class="token boolean">false</span></code>, the <code class="highlighted">cell</code> will be added at the end of the collection.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'my rectangle'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rect2 <span class="token operator">=</span> rect<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span> source<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> rect2<span class="token punctuation">.</span>id <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.addCells" class="docs-item">
        <a href="#dia.Graph.prototype.addCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.addCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add new cells to the graph. This is just a convenience method that wraps the <a href="#dia.Graph.prototype.addCell">addCell</a> method.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.bfs" class="docs-item">
        <a href="#dia.Graph.prototype.bfs" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.bfs</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">bfs</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Traverse the graph using the <a target="_blank" href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth-first search algorithm</a> starting at <code class="highlighted">element</code> (note the element itself will be visited too). <code class="highlighted">iteratee</code> is a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> distance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that will be called with the currently visited element and distance of that element from the root element of the search (the <code class="highlighted">element</code> passed to <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). If <code class="highlighted">iteratee</code> explicitely returns <code class="highlighted"><span class="token boolean">false</span></code>, the search stops.</p>
<p>The following image shows the order in which elements are traversed in the graph:</p>
<p><img width="200" alt="graph BFS algorithm" title="graph BFS algorithm" src="images/joint.dia.Graph.bfs.png"></p>
<p>Note that the <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> algorithm is not only capable of traversing tree graphs but it can traverse any directed graph too.</p>
<p>It is smart enough not to traverse an element that was already visited.</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, reverse the search direction (it's like reversing all the link directions, i.e. swaping their <code class="highlighted">source</code> and <code class="highlighted">target</code>).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, search follows the link directions. Calling <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> with <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> set to <code class="highlighted"><span class="token boolean">true</span></code> is the most common case (graph is traversed following the direction of links).</p>
<p>If none of <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> and <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> are used or both options are set to <code class="highlighted"><span class="token boolean">true</span></code>, the graph is traversed in both directions (very rare use case).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the traversal takes into account embedded elements too. This option has the usual meaning as in other methods were <code class="highlighted">deep</code> option is used. For example, in a hierarchy A (top level element), A1 (embedded in A), B (top level element), where A is not directly connected to B but its embedded element is (there is a link from A1 ----&gt; B), bfs(A)would not visit B but bfs(A, function() {}, { deep: true }) would.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.clear" class="docs-item">
        <a href="#dia.Graph.prototype.clear" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.clear</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">)</span></code></pre>

<p>Remove all the cells from the graph. <code class="highlighted">options</code> object can optionally contain additional data that is passed over to the event listeners of the graph cells remove event.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.cloneCells" class="docs-item">
        <a href="#dia.Graph.prototype.cloneCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.cloneCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">)</span></code></pre><p>Clone all the cells (elements and/or links) from the <code class="highlighted">cells</code> array and return an
                  object that maps the original cell ID to the clone (i.e. an object of the form <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>original cell <span class="token constant">ID</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">[</span>clone<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>).
                  The reason why this object is returned instead of an array of clones is that it is very useful to know which object the clone
                  was created for.
                  <br>
                  The number of clones returned equals <code class="highlighted">cells<span class="token punctuation">.</span>length</code>. This function does not simply
                  clone all the cells but it also reconstructs all the source/target and parent/embed references
                  within <code class="highlighted">cells</code>. This is very useful. For example, for a graph <code class="highlighted"><span class="token constant">A</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B</span></code>, 
                  <code class="highlighted"><span class="token function">cloneCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> returns <code class="highlighted"><span class="token punctuation">{</span> <span class="token constant">A</span><span class="token punctuation">.</span>id<span class="token operator">:</span> <span class="token constant">A2</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">.</span>id<span class="token operator">:</span> <span class="token constant">L2</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>id<span class="token operator">:</span> <span class="token constant">B2</span> <span class="token punctuation">}</span></code> resulting
                  in a graph <code class="highlighted"><span class="token constant">A2</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L2</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B2</span></code>, i.e. the source and target of the link <code class="highlighted"><span class="token constant">L2</span></code>
                  is changed to point to <code class="highlighted"><span class="token constant">A2</span></code> and <code class="highlighted"><span class="token constant">B2</span></code> (in contrast to just looping over <code class="highlighted">cells</code>
                  and calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> on each item).
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.cloneSubgraph" class="docs-item">
        <a href="#dia.Graph.prototype.cloneSubgraph" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.cloneSubgraph</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneSubgraph</span><span class="token punctuation">(</span>cells <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Clone the whole subgraph, including all the connected links whose source/target is in the subgraph.
                  This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneCells</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getSubgraph</span><span class="token punctuation">(</span>cells<span class="token punctuation">)</span><span class="token punctuation">)</span></code>.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded cells of the subgraph cells.
                  <br>                  
                  Return an object of the form <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>original cell <span class="token constant">ID</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">[</span>clone<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.dfs" class="docs-item">
        <a href="#dia.Graph.prototype.dfs" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.dfs</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">dfs</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Traverse the graph using the <a target="_blank" href="https://en.wikipedia.org/wiki/Depth-first_search">Depth-first search algorithm</a> starting at <code class="highlighted">element</code> (note the element itself will be visited too). <code class="highlighted">iterate</code> is a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> distance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that will be called with the currently visited element and distance of that element from the root element of the search (the <code class="highlighted">element</code> passed to <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). If <code class="highlighted">iteratee</code> explicitely returns <code class="highlighted"><span class="token boolean">false</span></code>, the search stops.</p>
<p>The following image shows the order in which elements are traversed in the graph:</p>
<p><img width="200" alt="graph DFS algorithm" title="graph DFS algorithm" src="images/joint.dia.Graph.dfs.png"></p>
<p>Note that the <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> algorithm is not only capable of traversing tree graphs but it can traverse any directed graph too. It is smart enough not to traverse an element that was already visited.</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, reverse the search direction (it's like reversing all the link directions, i.e. swaping their <code class="highlighted">source</code> and <code class="highlighted">target</code>).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, search follows the link directions. Calling <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
with <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> set to <code class="highlighted"><span class="token boolean">true</span></code> is the most common case (graph is traversed following the direction of links).</p>
<p>If none of <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> and <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> are used or both options are set to <code class="highlighted"><span class="token boolean">true</span></code>, the graph is traversed in both directions (very rare use case).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the traversal takes into account embedded elements too. This option has the usual meaning as in other methods were <code class="highlighted">deep</code> option is used. For example, in a hierarchy A (top level element), A1 (embedded in A), B (top level element), where A is not directly connected to B but its embedded element is (there is a link from A1 ----&gt; B), dfs(A) would not visit B but dfs(A, function() {}, { deep: true }) would.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.disconnectLinks" class="docs-item">
        <a href="#dia.Graph.prototype.disconnectLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.disconnectLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">disconnectLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Disconnect all the associated links with the <code class="highlighted">element</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsFromPoint" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsFromPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsFromPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsFromPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre><p>Find elements (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) under a certain point in the graph. <code class="highlighted">point</code> is an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. Returns an
                array of elements whose bounding box contains <code class="highlighted">point</code>. Note that there can be more then one element as elements might overlap.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsInArea" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsInArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsInArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsInArea</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre><p>Find elements (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) in a certain area in the graph. <code class="highlighted">rect</code> is an object with <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">width</code> and <code class="highlighted">height</code> properties. Returns an
                array of elements whose bounding box top/left coordinate falls into the <code class="highlighted">rect</code> rectangle.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsUnderElement" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsUnderElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsUnderElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsUnderElement</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Find all the elements (instances of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) that are located below <code class="highlighted">element</code>.
                  <code class="highlighted">opt<span class="token punctuation">.</span>searchBy</code> parameter optionally determines what it means for an element to be below another element.
                  Possible values are <code class="highlighted"><span class="token string">'bbox'</span></code> (default), <code class="highlighted"><span class="token string">'center'</span></code>, <code class="highlighted"><span class="token string">'origin'</span></code>, <code class="highlighted"><span class="token string">'corner'</span></code>, <code class="highlighted"><span class="token string">'topRight'</span></code>,
                  and <code class="highlighted"><span class="token string">'bottomLeft'</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.fromJSON" class="docs-item">
        <a href="#dia.Graph.prototype.fromJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.fromJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Load a graph from a JSON object (not string). Used in conjunction with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<p>The <code class="highlighted">options</code> object may contain additional data that is passed over to graph change event listeners.</p>

<p>Note that this method does not expect a JSON string but rather an object in the JSON format. Use <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span></code> if you need to convert a JSON string into the object form:</p>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of storing stringified JSON objects:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... send jsonString to the server</span>
<span class="token comment">// store jsonString to localStorage or do whatever you want</span>
<span class="token comment">// later on ...</span>
graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of storing JSON objects directly:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonObject <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... send jsonObject to the server</span>
<span class="token comment">// store jsonObject (e.g. in a non-relational database)</span>
<span class="token comment">// later on ...</span>
graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getBBox" class="docs-item">
        <a href="#dia.Graph.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns the bounding box (<a href="geometry.html#g.Rect">g.Rect</a>) that surrounds all cells in the graph. It returns <code class="highlighted"><span class="token keyword">null</span></code> if the graph is empty.</p>
<pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCell" class="docs-item">
        <a href="#dia.Graph.prototype.getCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre><p>Get a cell from the graph by its <code class="highlighted">id</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getCells" class="docs-item">
        <a href="#dia.Graph.prototype.getCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all elements and links in the graph. The cells are sorted by their <code class="highlighted">z</code> index (the smallest <code class="highlighted">z</code> being first).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCellsBBox" class="docs-item">
        <a href="#dia.Graph.prototype.getCellsBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCellsBBox</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCellsBBox</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Returns the bounding box (<a href="geometry.html#g.Rect">g.Rect</a>) that surrounds all the given cells.</p>
<pre><code class="highlighted"><span class="token comment">// Get the bounding box of all `el1` successors and their embeds</span>
<span class="token keyword">var</span> bbox <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCellsBBox</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getSuccessors</span><span class="token punctuation">(</span>el1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCommonAncestor" class="docs-item">
        <a href="#dia.Graph.prototype.getCommonAncestor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCommonAncestor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCommonAncestor</span><span class="token punctuation">(</span><span class="token operator">...</span>cells<span class="token punctuation">)</span></code></pre>
<p>Return the common ancestor of all the cells passed as arguments. For example, if an element <code class="highlighted"><span class="token constant">B</span></code> is embedded in an element <code class="highlighted"><span class="token constant">A</span></code> and an element <code class="highlighted"><span class="token constant">C</span></code> is also embedded in the element <code class="highlighted"><span class="token constant">A</span></code>, <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCommonAncestor</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">)</span></code> returns the element <code class="highlighted"><span class="token constant">A</span></code>. This also works on an arbitrary deep hierarchy.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getConnectedLinks" class="docs-item">
        <a href="#dia.Graph.prototype.getConnectedLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getConnectedLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Get all links connected with <code class="highlighted">element</code>.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound <span class="token operator">===</span> <span class="token boolean">true</span></code>, return only inbound connected links. Conversely, if <code class="highlighted">opt<span class="token punctuation">.</span>outbound <span class="token operator">===</span> <span class="token boolean">true</span></code>, return only outbound connected links. If both of these options are left undefined, or if both of them are set to <code class="highlighted"><span class="token boolean">true</span></code>, return both inbound and outbound links.</p>

<p>By default, this function returns only immediate (<q>shallow</q>) inbound and outbound links - no recursion. (Note that connections from <code class="highlighted">element</code> to embedded child elements, and connections to <code class="highlighted">element</code> from embedding parent elements count as <q>shallow</q>, too - they too are returned.)</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code>, return all outside links that connect with <code class="highlighted">element</code> or any of its descendants (<q>descendants</q> meaning elements that are embedded or deeply embedded within <code class="highlighted">element</code>). The <code class="highlighted">inbound</code> and <code class="highlighted">outbound</code> options can still be applied on top of this option.</p>

<p>Note that the specification of <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> excludes links that connect two descendants of <code class="highlighted">element</code> (<q>enclosed</q> links). If you do need to find all links connected with and/or enclosed within <code class="highlighted">element</code>, you should use <code class="highlighted">opt<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code> alongside an additional option: <code class="highlighted">opt<span class="token punctuation">.</span>includeEnclosed <span class="token operator">===</span> <span class="token boolean">true</span></code>.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>indirect <span class="token operator">===</span> <span class="token boolean">true</span></code>, also return links that can only be considered connected to <code class="highlighted">element</code> if we go <q>against the flow</q> of directed links at link-link connections.</p>

<p>Example use:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inbound and outbound</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> outbound<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inbound and outbound</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> inbound<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> outbound<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> includeEnclosed<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> indirect<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getElements" class="docs-item">
        <a href="#dia.Graph.prototype.getElements" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getElements</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all elements in the graph. The elements are sorted by their <code class="highlighted">z</code> index (the smallest <code class="highlighted">z</code> being first).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getFirstCell" class="docs-item">
        <a href="#dia.Graph.prototype.getFirstCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getFirstCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getFirstCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the first cell (element or link) in the graph. The first cell is defined as the cell
                with the lowest <code class="highlighted">z</code> property (the cell most in the back, see the Presentation section of <a href="#dia.Element">joint.dia.Element</a>).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getLastCell" class="docs-item">
        <a href="#dia.Graph.prototype.getLastCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getLastCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getLastCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the last cell (element or link) in the graph. The last cell is defined as the cell
                with the highest <code class="highlighted">z</code> property (the cell most in the front, see the Presentation section of <a href="#dia.Element">joint.dia.Element</a>).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getLinks" class="docs-item">
        <a href="#dia.Graph.prototype.getLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all links in the graph. The links are sorted by their <code class="highlighted">z</code> index (the smallest <code class="highlighted">z</code> being first).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getNeighbors" class="docs-item">
        <a href="#dia.Graph.prototype.getNeighbors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getNeighbors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getNeighbors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Get all the neighbors of <code class="highlighted">element</code> in the graph. Neighbors are all the elements connected to <code class="highlighted">element</code> via either an inbound or an outbound link.</p>

<p>Accepts several options, which may be provided inside an <code class="highlighted">opt</code> object:</p>

<ul>
	<li><code class="highlighted">deep</code> - also return all the neighbors of all the elements embedded inside <code class="highlighted">element</code>.</li>
	<li><code class="highlighted">inbound</code> - return only inbound neighbors (neighbors connected with a link whose <code class="highlighted">target</code> is the <code class="highlighted">element</code>).</li>
	<li><code class="highlighted">outbound</code> - return only outbound neighbors (neighbors connected with a link whose <code class="highlighted">source</code> is the <code class="highlighted">element</code>).</li>
	<li><code class="highlighted">indirect</code> - in addition to standard rules (including <code class="highlighted">deep</code>/<code class="highlighted">outbound</code>/<code class="highlighted">inbound</code> modifications), also return the elements that can only be considered neighbors of <code class="highlighted">element</code> if we go <q>against the flow</q> of directed links at link-link connections.</li>
</ul>

        </div>
    </div>
    <div id="dia.Graph.prototype.getPredecessors" class="docs-item">
        <a href="#dia.Graph.prototype.getPredecessors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getPredecessors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getPredecessors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the predecessors of <code class="highlighted">element</code>. By default, <a href="#dia.Graph.prototype.dfs">Depth-first search algorithm</a> is used (important for the order of returned elements).
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, use <a href="#dia.Graph.prototype.bfs">Breadth-first search algorithm</a> instead.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded elements too (see <a href="#dia.Graph.prototype.dfs">dfs()</a> for details).
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSinks" class="docs-item">
        <a href="#dia.Graph.prototype.getSinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the leafs of the graph.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token operator">|</span><span class="token constant">V</span><span class="token operator">|</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSources" class="docs-item">
        <a href="#dia.Graph.prototype.getSources" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSources</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the roots of the graph.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token operator">|</span><span class="token constant">V</span><span class="token operator">|</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSubgraph" class="docs-item">
        <a href="#dia.Graph.prototype.getSubgraph" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSubgraph</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSubgraph</span><span class="token punctuation">(</span>cells <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of cells that result from finding elements/links that are connected to any of the cells in the <code class="highlighted">cells</code> array.
                  This function loops over <code class="highlighted">cells</code> and if the current cell is a link, it collects its source/target elements; if it is an element,
                  it collects its incoming and outgoing links if both the link ends (source/target) are in the <code class="highlighted">cells</code> array.
                  For example, for a single element, the result is that very same element.
                  For two elements connected with a link: <code class="highlighted"><span class="token constant">A</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B</span></code>, the result of <code class="highlighted"><span class="token function">getSubgraph</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code>
                  is <code class="highlighted"><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span></code> and the result of <code class="highlighted"><span class="token function">getSubgraph</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">L</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> is also <code class="highlighted"><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span></code>.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> take into account all the embedded cells too when finding neighboring links/elements.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSuccessors" class="docs-item">
        <a href="#dia.Graph.prototype.getSuccessors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSuccessors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSuccessors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>
    Return an array of all the successors of <code class="highlighted">element</code>. 
    By default, a <a href="#dia.Graph.prototype.dfs">Depth-first search algorithm</a> is used (important for the order of returned elements).
</p>

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, use a <a href="#dia.Graph.prototype.bfs">Breadth-first search algorithm</a> 
    instead.
</p>

<p>
    Generally, <code class="highlighted">getSuccessors</code> cares about the direction of the links. It follows links from their source to target only. The 
    resulting array contains the elements that you visit if you follow the directed links. The links are simply navigated, and embedding 
    is not considered.
</p>

<p>
    In the following image, the successors of <code class="highlighted"><span class="token constant">A</span></code> are <code class="highlighted"><span class="token constant">C</span></code> and <code class="highlighted"><span class="token constant">B</span></code>. Embedding is not taken into account.
</p>

<img style="width:100%;max-width:350px;height:auto" src="images/joint.dia.Graph.getSuccessors-1.png" alt="getSuccessors diagram no embedding">

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, embedded elements are taken into account too 
    (see <a href="#dia.Graph.prototype.dfs">dfs()</a> for details). That means elements connected to any of the descendants are also
    successors.
</p>

<p>
    In the following image, if <code class="highlighted"><span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>, the only successor of <code class="highlighted"><span class="token constant">A</span></code> is <code class="highlighted"><span class="token constant">D</span></code>. Embedding is not
    taken into account. If <code class="highlighted"><span class="token punctuation">{</span> deep<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code>, and <code class="highlighted"><span class="token constant">B</span></code> is embedded in <code class="highlighted"><span class="token constant">A</span></code>, that means the successors of
    <code class="highlighted"><span class="token constant">A</span></code> are <code class="highlighted"><span class="token constant">C</span></code> and <code class="highlighted"><span class="token constant">D</span></code>.
</p>

<img style="width:100%;max-width:500px;height:auto" src="images/joint.dia.Graph.getSuccessors-2.png" alt="getSuccessors diagram with embedding">

        </div>
    </div>
    <div id="dia.Graph.prototype.isNeighbor" class="docs-item">
        <a href="#dia.Graph.prototype.isNeighbor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isNeighbor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isNeighbor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a neighbor of <code class="highlighted">elementA</code>. A neighbor of an element is another element connected to it via an inbound and/or outbound link.</p>

<p>Accepts several options, which may be provided inside an <code class="highlighted">opt</code> object:</p>

<ul>
	<li><code class="highlighted">deep</code> - return <code class="highlighted"><span class="token boolean">true</span></code> also if <code class="highlighted">elementB</code> is a neighbor of an element embedded in <code class="highlighted">elementA</code>.</li>
	<li><code class="highlighted">outbound</code> - return <code class="highlighted"><span class="token boolean">true</span></code> only if <code class="highlighted">elementB</code> is a succeeding neighbor of <code class="highlighted">elementA</code>. For example, if <code class="highlighted">elementB</code> is connected to a directed link <q>behind</q> the connection of <code class="highlighted">elementA</code>.</li>
	<li><code class="highlighted">inbound</code> - return <code class="highlighted"><span class="token boolean">true</span></code> only if <code class="highlighted">elementB</code> is a preceding neighbor <code class="highlighted">elementA</code>. For example, if <code class="highlighted">elementB</code> is connected to a directed link <q>ahead of</q> the connection of <code class="highlighted">elementA</code>.</li>
	<li><code class="highlighted">indirect</code> - in addition to standard rules (including <code class="highlighted">deep</code>/<code class="highlighted">outbound</code>/<code class="highlighted">inbound</code> modifications), also return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> can only be considered a neighbor of <code class="highlighted">elementA</code> if we go <q>against the flow</q> of directed links at link-link connections.</li>
</ul>

        </div>
    </div>
    <div id="dia.Graph.prototype.isPredecessor" class="docs-item">
        <a href="#dia.Graph.prototype.isPredecessor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isPredecessor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isPredecessor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a predecessor of <code class="highlighted">elementA</code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSink" class="docs-item">
        <a href="#dia.Graph.prototype.isSink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSink</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">element</code> is a leaf, i.e. there is no link coming out of the element.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSource" class="docs-item">
        <a href="#dia.Graph.prototype.isSource" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSource</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSource</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">element</code> is a root, i.e. there is no link that targets the element.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSuccessor" class="docs-item">
        <a href="#dia.Graph.prototype.isSuccessor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSuccessor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSuccessor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a successor of <code class="highlighted">elementA</code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.maxZIndex" class="docs-item">
        <a href="#dia.Graph.prototype.maxZIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.maxZIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">maxZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the highest Z value in the graph (the value of the cell on front).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.minZIndex" class="docs-item">
        <a href="#dia.Graph.prototype.minZIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.minZIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">minZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the lowest Z value in the graph (the value of the cell on the back).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.removeCells" class="docs-item">
        <a href="#dia.Graph.prototype.removeCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.removeCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Removes the given cells from the graph.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.removeLinks" class="docs-item">
        <a href="#dia.Graph.prototype.removeLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.removeLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Remove all the associated links with the <code class="highlighted">element</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.resetCells" class="docs-item">
        <a href="#dia.Graph.prototype.resetCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.resetCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Reset cells in the graph. Update all the cells in the graph in one bulk. This is a more efficient method of adding cells to the graph if you want to replace all the cells in one go. The <code class="highlighted">options</code> object can optionally contain additional data that is passed over to the event listeners of the graph reset event.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.search" class="docs-item">
        <a href="#dia.Graph.prototype.search" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.search</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Traverse the graph starting at <code class="highlighted">element</code> following links. This function is a wrapper around
                <a href="#dia.Graph.prototype.dfs">dfs()</a> or <a href="#dia.Graph.prototype.bfs">bfs()</a>. By default, it uses <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> will be used instead.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.toJSON" class="docs-item">
        <a href="#dia.Graph.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Return an object representation of the graph, which can be used for persistence or serialization. Use the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.fromJSON">function</a> to load a previously converted graph.</p>

<p>Note that this method does not return a JSON string but rather an object that can then be serialized to JSON with <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">)</span></code>:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.translate" class="docs-item">
        <a href="#dia.Graph.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Translate all cells in the graph by <code class="highlighted">tx</code> and <code class="highlighted">ty</code> pixels. It uses the <a href="#dia.Element.prototype.translate"><code class="highlighted">dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>
                  and <a href="#dia.Link.prototype.translate"><code class="highlighted">dia<span class="token punctuation">.</span>Link<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods internally.</p>
        </div>
    </div>
    </div>
    </div>
    <div id="dia.HighlighterView" class="docs-item">
    <div id="dia.HighlighterView.intro" class="docs-item">
        <a href="#dia.HighlighterView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.HighlighterView</h4>
        </a>
        <div class="docs-item-content">
<p>The base class for <a href="#highlighters">highlighters</a>. The <i>HighlighterView</i> class does not implement any particular visual emphasis. It takes care of the management of the instances and introduce mechanisms for displaying, updating and cleaning arbitrary markings added to the <i>SVGElements</i> of <i>cellViews</i>.

</p><p>The class is not meant to be initialized with the constructor.</p>

        </div>
    </div>
    <div id="dia.HighlighterView.add" class="docs-item">
        <a href="#dia.HighlighterView.add" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.HighlighterView.add</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre>

<p>Create an instance of the highlighter and add it to the <i>cellView</i>.</p>

<p>It returns an instance of the <i>HighlighterView</i>.</p>

<p>If a highlighter with the same <i>id</i> exists on the CellView, it is removed and a new highlighter is added and returned. You can check if a highlighter already exists by calling <a href="#dia.HighlighterView.get">HighlighterView.get()</a>.</p>

<ul>
    <li><b>cellView</b> is an instance of <a href="#dia.CellView">dia.CellView</a>.</li>
    <li><b>selector</b> points to an SVGElement of the <i>cellView</i>. It must be one of the following types:
        <table>
            <tr>
                <th>Type</th>
                <th>Description</th>
                <th>Example</th>
            </tr>
            <tr>
                <td>String</td>
                <td>A selector from the cell's <a href="#dia.Cell.markup">markup</a>.</td>
                <td><pre><code class="highlighted"><span class="token string">'root'</span>
<span class="token string">'body'</span></code></pre></td>
            </tr>
            <tr>
                <td>Object</td>
                <td>An object with property <i>selector</i>, which is a selector from the (cell/label/port) <a href="#dia.Cell.markup">markup</a>.<br>
                    There is additional property <i>port</i> (id of a port) available for <a href="#dia.ElementView">dia.ElementView</a>.<br>
                    And property <i>label</i> (index of a label) is available for <a href="#dia.LinkView">dia.LinkView</a>.<br>
                    <p>If no <i>selector</i> property is provided, the <i>root</i> is used.</p>
                </td>
                <td><pre><code class="highlighted"><span class="token punctuation">{</span> selector<span class="token operator">:</span> <span class="token string">'body'</span> <span class="token punctuation">}</span> <span class="token comment">// cells</span>
<span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token string">'port1'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'portBody'</span> <span class="token punctuation">}</span> <span class="token comment">// elements</span>
<span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'labelBody'</span> <span class="token punctuation">}</span> <span class="token comment">// links</span></code></pre></td>
            </tr>
            <tr>
                <td>SVGElement</td>
                <td>An SVGElement, the descendant of <i>cellView.el</i> or the root itself.</td>
                <td><pre><code class="highlighted">cellView<span class="token punctuation">.</span>el <span class="token comment">// the root</span>
cellView<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span> <span class="token comment">// an SVGRectangle</span></code></pre></td>
            </tr>
        </table>
    </li>
    <li><b>id</b> is a unique identifier of the highlighter. Only single highlighter with given <i>id</i> can exist on the CellView at one time.</li>
    <li><b>options</b> passed to the constructor of the highlighter view.</li>
</ul>

        </div>
    </div>
    <div id="dia.HighlighterView.get" class="docs-item">
        <a href="#dia.HighlighterView.get" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.HighlighterView.get</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span></code></pre>

<p>Return an array of highlighters on the <i>cellView</i>. Only highlighters, which are instances of this class are returned.</p>

<pre><code class="highlighted"><span class="token comment">// Extend the Base Highlighter Class</span>
<span class="token keyword">const</span> ChildHighlighterView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighter<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> h1 <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'id1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c1 <span class="token operator">=</span> ChildHighlighterView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'id2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> parentHighlighters <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighters<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>parentHighlighters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>h1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>parentHighlighters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> childHighlighters <span class="token operator">=</span> ChildHighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">notOk</span><span class="token punctuation">(</span>parentHighlighters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>h1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>parentHighlighters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> id<span class="token punctuation">)</span></code></pre>

<p>Return the highlighter with given <i>id</i> on the <i>cellView</i>. The highlighter returned must be an instance of this class. If such a highlighter does not exist, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

<pre><code class="highlighted"><span class="token comment">// Extend the Base Highlighter Class</span>
<span class="token keyword">const</span> ChildHighlighterView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighter<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> h1 <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c1 <span class="token operator">=</span> ChildHighlighterView<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'c1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighters<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> 'h1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighters<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> 'c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// There is no instance of ChildHighlighterView on the CellView</span>
assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> ChildHighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> 'h1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> ChildHighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> 'c1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>


        </div>
    </div>
    <div id="dia.HighlighterView.remove" class="docs-item">
        <a href="#dia.HighlighterView.remove" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.HighlighterView.remove</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span></code></pre>

<p>Remove all the highlighters from the <i>cellView</i>. Only highlighters, which are instances of this class are removed.</p>

<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> id<span class="token punctuation">)</span></code></pre>

<p>Remove the highlighter with given <i>id</i> from the <i>cellView</i>. The highlighter which is not an instance of this class is not removed.</p>

        </div>
    </div>
    <div id="dia.HighlighterView.removeAll" class="docs-item">
        <a href="#dia.HighlighterView.removeAll" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.HighlighterView.removeAll</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span></code></pre>

<p>Remove all the highlighters on <i>paper</i>. Only highlighters, which are instances of this class are removed.</p>

<pre class="docs-method-signature"><code class="highlighted">HighlighterView<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> id<span class="token punctuation">)</span></code></pre>

<p>Remove all the highlighters with given <i>id</i> on the <i>paper</i>. Only highlighters, which are instances of this class are removed.</p>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype" class="docs-item">
    <div id="dia.HighlighterView.prototype.highlight" class="docs-item">
        <a href="#dia.HighlighterView.prototype.highlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.HighlighterView.prototype.highlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">highlighter<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">)</span></code></pre>

<p>Mark/Emphasize the <i>node</i> (<i>SVGElement</i>) of the <i>cellView</i>. e.g. render a rectangle above the <id>node</id>, add a class to the <i>node</i>.</p>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.MOUNTABLE" class="docs-item">
        <a href="#dia.HighlighterView.prototype.MOUNTABLE" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.HighlighterView.prototype.MOUNTABLE</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token class-name">HighlighterView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token constant">MOUNTABLE</span></code></pre>

<p>If the property is <i>true</i>, the highlighter view is attached to the DOM.</p>
<p>If the property is <i>false</i>, it is not attached upon highlight.</p>

<p>The default is <i>true</i>.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> ChildView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token comment">// HighlighterView `el` is not meant to be appended</span>
    <span class="token constant">MOUNTABLE</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token function">highlight</span><span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'my-attribute'</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'highlightAttribute'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'my-attribute'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.unhighlight" class="docs-item">
        <a href="#dia.HighlighterView.prototype.unhighlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.HighlighterView.prototype.unhighlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">highlighter<span class="token punctuation">.</span><span class="token function">unhighlight</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">)</span></code></pre>

<p>Remove marks made by <a href="#dia.HighlighterView.prototype.highlight">highlight()</a> from the <i>node</i> (SVGElement) of the <i>cellView</i>.</p>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.UPDATABLE" class="docs-item">
        <a href="#dia.HighlighterView.prototype.UPDATABLE" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.HighlighterView.prototype.UPDATABLE</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token class-name">HighlighterView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token constant">UPDATABLE</span></code></pre>

<p>If the property is <i>true</i>, the highlighter is updated (<i>highlight()</i> function is called) every time when the related <i>cellView</i> requires an update.</p>
<p>If the property is <i>false</i>, the <i>highlight()</i> method is called only once when the highlighter is added.</p>

<p>The default is <i>true</i>.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> ChildView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token constant">MOUNTABLE</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token constant">UPDATABLE</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token function">highlight</span><span class="token punctuation">(</span><span class="token parameter">_cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'my-class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token parameter">_cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'my-class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.UPDATE_ATTRIBUTES" class="docs-item">
        <a href="#dia.HighlighterView.prototype.UPDATE_ATTRIBUTES" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.HighlighterView.prototype.UPDATE_ATTRIBUTES</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token class-name">HighlighterView</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token constant">UPDATE_ATTRIBUTES</span></code></pre>

<p>The highlighter is updated (<i>highlight()</i> function is called) every time any of the attributes from the list change.</p>
<p>The value could be an array of strings or a function returning an array of strings.</p>
<p>The default is <i>[]</i>.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> ColorHighlighter <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token constant">UPDATE_ATTRIBUTES</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function">highlight</span><span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fill <span class="token operator">=</span> cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token parameter">_cellView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fill <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ColorHighlighter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>rectangle<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'color-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'gray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will call highlight()</span></code></pre>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.options" class="docs-item">
    <div id="dia.HighlighterView.prototype.options.layer" class="docs-item">
        <a href="#dia.HighlighterView.prototype.options.layer" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.HighlighterView.prototype.options.layer</h6>
        </a>
        <div class="docs-item-content">
<p><b>layer</b> - the stacking context of the highlighter. Applicable for <a href="#dia.HighlighterView.prototype.MOUNTABLE">mountable</a> highlighters only.</p>

<table>
    <tr>
        <td><code class="highlighted"><span class="token keyword">null</span></code></td>
        <td>Render the highlighter above the cell. It can be hidden by a cell with a higher <b>z</b> index.</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token string">"back"</span></code></td>
        <td>Render the highlighter behind all the cells.</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token string">"front"</span></code></td>
        <td>Render the highlighter in front of all the cells.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.HighlighterView.prototype.options.z" class="docs-item">
        <a href="#dia.HighlighterView.prototype.options.z" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.HighlighterView.prototype.options.z</h6>
        </a>
        <div class="docs-item-content">
<p><b>z</b> - the stacking order (z-index) of the highlighter in the given <a href="#dia.HighlighterView.prototype.options.layer">stacking context</a>. Applicable for <a href="#dia.HighlighterView.prototype.MOUNTABLE">mountable</a> highlighters only.</p>

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="dia.Link" class="docs-item">
    <div id="dia.Link.intro" class="docs-item">
        <a href="#dia.Link.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link</h4>
        </a>
        <div class="docs-item-content">
<p>The basic model for diagram links. It inherits from <a href="#dia.Cell">joint.dia.Cell</a> with a few additional properties and methods specific to links. For a quick introduction to elements, see our <a href="https://resources.jointjs.com/tutorial/elements">tutorial</a>.</p>

<p>Links' properties may be split into several groups according to their function:</p>

<h4 id="dia.Link.intro.geometry">Geometry</h4>

<p>Links have two crucial properties: <code class="highlighted">source</code> and <code class="highlighted">target</code>. They define the starting point and the end point of the link. They can be defined with a Cell id (optionally, with additional subelement/magnet/port reference) or with a Point:</p>

<pre><code data-lang="javascript" class="highlighted"><span class="token comment">// `shapes.standard.Link` inherits from `dia.Link` (`dia.Link` is an abstract class that has no SVG  markup defined)</span>
<span class="token keyword">var</span> link1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> sourceId <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> targetId<span class="token punctuation">,</span> port<span class="token operator">:</span> portId <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> sourceId <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <a href="#dia.Link.geometry.source"><code class="highlighted">source</code></a> and <a href="#dia.Link.geometry.target"><code class="highlighted">target</code></a> properties accept additional modifier properties that modify the actual position of the link end: <a href="#dia.Link.geometry.anchor"><code class="highlighted">anchor</code></a>/<a href="#dia.Link.geometry.linkAnchor"><code class="highlighted">linkAnchor</code></a>, and <a href="#dia.Link.geometry.connectionPoint"><code class="highlighted">connectionPoint</code></a>.</p>

<p>Additionally, the path of the link is determined by its <a href="#dia.Link.geometry.vertices"><code class="highlighted">vertices</code></a>, and the applied <a href="#dia.Link.geometry.router"><code class="highlighted">router</code></a> and <a href="#dia.Link.geometry.connector"><code class="highlighted">connector</code></a>. All these properties are described in more detail in <a href="#dia.Link.geometry">link geometry documentation</a>.</p>

<h4 id="dia.Link.intro.presentation">Presentation</h4>

<p>Each <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> defines its own SVG <code class="highlighted">markup</code> which is then used by <a href="#dia.LinkView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code></a> to render the link to the <a href="#dia.Paper">paper</a>.
    For instance, the <a href="#shapes.standard.Link"><code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</code></a> (which inherits from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>) defines its markup using the <a href="#dia.Cell.markup.json">JSON array notation</a> as follows:</p>

<pre><code class="highlighted">markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'wrapper'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'transparent'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke-linecap'</span><span class="token operator">:</span> <span class="token string">'round'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>

<p>As we can see, the <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</code> shape consists of two <q>subelements</q>: one SVGPathElement named <code class="highlighted"><span class="token string">'wrapper'</span></code> and one SVGPathElement named <code class="highlighted"><span class="token string">'line'</span></code>. The <a href="#dia.Link.intro.styling"><code class="highlighted">attrs</code></a> object refers to the subelements' names (<q>selectors</q>) to provide SVG attributes to these constituent SVGElements.</p>

<h4 id="dia.Link.intro.styling">Styling</h4>

<p>The keys of the <code class="highlighted">attrs</code> object are <q>selectors</q> that match subelements defined in the link's <a href="#dia.Link.intro.presentation"><code class="highlighted">markup</code></a> (see above). The values of this object are <a href="#dia.attributes">special JointJS attributes</a> or native SVG attributes that should be set on the selected subelements. (A list of native SVG attributes and their descriptions can be found online, e.g. on <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">MDN</a>.)</p>

<p>For example, in order to set a red stroke color on a subelement called <code class="highlighted"><span class="token string">'line'</span></code>, the <code class="highlighted">attrs</code> object would contain:</p>

<pre><code class="highlighted">line<span class="token operator">:</span> <span class="token punctuation">{</span> stroke<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span></code></pre>

<p>If you simply need to change a value of an attribute, it is not recommended to modify the <code class="highlighted">attrs</code> object of the link directly. You should use the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.attr">method</a> instead. For example, to set the attributes according to the above example, you would write:</p>

<pre><code data-lang="javascript" class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    line<span class="token operator">:</span> <span class="token punctuation">{</span> stroke<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>We can use the <a href="#shapes.standard.Link"><code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</code></a> type (which inherits from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>) as an example. The <code class="highlighted">attrs</code> object in its definition is provided below:</p>

<pre><code class="highlighted">attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
    line<span class="token operator">:</span> <span class="token punctuation">{</span>
        connection<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        stroke<span class="token operator">:</span> <span class="token string">'#333333'</span><span class="token punctuation">,</span>
        strokeWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        strokeLinejoin<span class="token operator">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span>
        targetMarker<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'type'</span><span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M 10 -5 0 0 10 5 z'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    wrapper<span class="token operator">:</span> <span class="token punctuation">{</span>
        connection<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        strokeWidth<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        strokeLinejoin<span class="token operator">:</span> <span class="token string">'round'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>Notice that the object makes use of special JointJS attributes (e.g. <a href="#dia.attributes.connection"><code class="highlighted">connection</code></a>, <a href="#dia.attributes.targetMarker"><code class="highlighted">targetMarker</code></a>) on top of native SVG attributes (e.g. <code class="highlighted">stroke</code>, <code class="highlighted">strokeWidth</code>). All of these <q>special attributes</q> are listed in the <a href="#dia.attributes">attributes</a> section of this documentation. You should also refer to our <a href="https://resources.jointjs.com/tutorial/special-attributes">tutorial on special attributes</a>.</p>

<p>In the context of links, the most important special attribute is <code class="highlighted">connection</code>. It specifies that the SVGPathElement(s) in question should follow the path of the Link's model, as provided by the interplay of <a href="#dia.Link.intro.geometry">link geometry methods</a>.</p>

<h4 id="dia.Link.intro.markupAttributes">Markup Attributes</h4>

<p>Attributes defined directly inside link <a href="#dia.Cell.markup.attributes"><code class="highlighted">markup</code></a> are evaluated only once at CellView creation, while attributes defined in the <a href="#dia.Link.intro.styling"><code class="highlighted">attrs</code></a> object are evaluated on every model change. JointJS special attributes usually depend on the current state of the model, which means that they should be defined in the <a href="#dia.Link.intro.styling"><code class="highlighted">attrs</code></a> object (alongside any SVG attributes that you expect to be modified during the runtime of your application).</p>

<h4 id="dia.Link.intro.z">Z</h4>

<p>The <code class="highlighted">z</code> property specifies the stack order of the element in the SVG DOM. An element with a higher <code class="highlighted">z</code> value will be rendered in front of an element with a lower <code class="highlighted">z</code> value. (<a href="#dia.Element.intro.z">This also applies to Elements.</a>)</p>

<h4 id="dia.Link.intro.labels">Labels</h4>

<p>You may provide an array of labels to the link through the <code class="highlighted">labels</code> property. Each label can have its own <code class="highlighted">markup</code>, <code class="highlighted">size</code>, <code class="highlighted">attrs</code>, and <code class="highlighted">position</code> objects specified. The values in those objects take precedence over any defaults which may apply on the label.</p>

<p>To avoid excessive repetition, you can provide a <code class="highlighted">defaultLabel</code> property to the link, to set the <code class="highlighted">markup</code>, <code class="highlighted">size</code>, <code class="highlighted">attrs</code>, and <code class="highlighted">position</code> objects which should be applied to all labels on the link. The properties from <code class="highlighted">defaultLabel</code> act as a template, which is overwritten / extended by individually-specified label properties as appropriate.</p>

<p>An example of creating a new link instance with both the <code class="highlighted">defaultLabel</code> and <code class="highlighted">labels</code> properties specified can be seen below. For more details, see the <a href="#dia.Link.labels">link labels documentation</a>. You should also refer to our <a href="https://resources.jointjs.com/tutorial/link-labels">tutorial</a> on link labels.</p>

<pre><code data-lang="javascript" class="highlighted"><span class="token keyword">const</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">400</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">400</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    defaultLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// applied to all labels on this link:</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
                selector<span class="token operator">:</span> <span class="token string">'body'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
                selector<span class="token operator">:</span> <span class="token string">'label'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        size<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// used by `calc()` expressions in `attrs`</span>
            width<span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>
            height<span class="token operator">:</span> <span class="token number">30</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            body<span class="token operator">:</span> <span class="token punctuation">{</span>
                width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span>
                height<span class="token operator">:</span> <span class="token string">'calc(h)'</span><span class="token punctuation">,</span>
                <span class="token comment">// center around label position:</span>
                x<span class="token operator">:</span> <span class="token string">'calc(w/-2)'</span><span class="token punctuation">,</span>
                y<span class="token operator">:</span> <span class="token string">'calc(h/-2)'</span><span class="token punctuation">,</span>
                stroke<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
                fill<span class="token operator">:</span> <span class="token string">'white'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                textWrap<span class="token operator">:</span> <span class="token punctuation">{</span>
                    width<span class="token operator">:</span> <span class="token string">'calc(w-5)'</span><span class="token punctuation">,</span>
                    height<span class="token operator">:</span> <span class="token string">'calc(h-5)'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// center text around label position:</span>
                <span class="token comment">// (no `x` and `y` provided = no offset)</span>
                textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                textVerticalAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                fontSize<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
                fontFamily<span class="token operator">:</span> <span class="token string">'sans-serif'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    labels<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token comment">// specification of an individual label:</span>
        size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// partially overwrites `defaultLabel.size`</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                text<span class="token operator">:</span> <span class="token string">'Hello World'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        position<span class="token operator">:</span> <span class="token punctuation">{</span> distance<span class="token operator">:</span> <span class="token number">0.25</span> <span class="token punctuation">}</span> <span class="token comment">// overwrites built-in default</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.intro.customProperties">Custom Properties</h4>

<p>It is also possible to pass custom properties to the link. These may be useful to identify an individual link model for the purposes of linkView interaction (see <code class="highlighted">LinkView</code> <a href="#dia.LinkView">documentation</a> for more information).</p>

<p>For example, if a custom contextmenu interaction should only be enabled for <code class="highlighted">link1</code> but not <code class="highlighted">link2</code>, we could add a custom property <code class="highlighted">customLinkInteractions</code> to <code class="highlighted">link1</code>:</p>

<pre><code data-lang="javascript" class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">contextmenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'customLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// only links with `customLinkInteractions: true`</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    linkView<span class="token operator">:</span> CustomLinkView<span class="token punctuation">,</span>
    <span class="token function-variable function">interactive</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cellView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'customLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// only links with `customLinkInteractions: true`</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> labelMove<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// otherwise</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    customLinkInteractions<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// right-click adds a label</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    customLinkInteractions<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// or omit completely</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.intro.events">Events</h4>

<p>Links trigger several special events, detailed in the <a href="#dia.Link.events">link events documentation</a>.

</p><h4 id="dia.Link.intro.customLink">Custom Link</h4>

<p>It is possible to extend the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> class to create a custom link. A custom link may override default Link properties to assign its own defaults. These values override built-in defaults, if necessary, and are applied to all instances of the new Link type, unless an individual instance overrides them with its own values. The following Link properties are applicable in this context:</p>

<ul>
    <li><code class="highlighted">markup</code> - provide default link markup for all instances of this Link type, specified with a <a href="#dia.Cell.markup.json">JSON array</a>.</li>
    <li><code class="highlighted">attrs</code> - provide default link attributes for all instances of this Link type. These allow you to change the style and size of SVG elements, identified by their selectors.</li>
    <li><code class="highlighted">defaultLabel</code> - provide default properties (markup, size, attrs, position) for all labels created on an instance of this Link type.</li>
</ul>

<p>The values of these defaults may be important; the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.addLabel">shortcut function</a> is only capable of adding default labels to the link.</p>

<p>Creating custom links is explained in more detail in our <a href="https://resources.jointjs.com/tutorial/custom-links">tutorial</a>.</p>

<p>Example:</p>

<pre><code data-lang="javascript" class="highlighted"><span class="token keyword">var</span> CustomLink <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.CustomLink'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    defaultLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
                selector<span class="token operator">:</span> <span class="token string">'body'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
                selector<span class="token operator">:</span> <span class="token string">'label'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        size<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// used by `calc()` expressions in `attrs`</span>
            width<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            height<span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                text<span class="token operator">:</span> <span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token comment">// default text for all labels</span>
                fill<span class="token operator">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">,</span> <span class="token comment">// default text color for all labels</span>
                fontSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                textVerticalAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                pointerEvents<span class="token operator">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            body<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// currently, calc() is responsive to `size` property</span>
                <span class="token comment">// uncomment to make calc() responsive to size of 'label':</span>
                <span class="token comment">//ref: 'label', // subelement identified by 'label' selector</span>
                fill<span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
                stroke<span class="token operator">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                r<span class="token operator">:</span> <span class="token string">'calc(d/2 + 2)'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        position<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// keep built-in default `distance` for all labels (0.5)</span>
            offset<span class="token operator">:</span> <span class="token punctuation">{</span>
                y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span> <span class="token comment">// offset by 20px upwards for all labels</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            args<span class="token operator">:</span> <span class="token punctuation">{</span>
                absoluteOffset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// absolute offset for all labels</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomLink</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.intro.builtinDefaultAttributes">Built-in Default Properties</h4>

<p>To ensure backwards compatibility, the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> class comes with a private built-in <code class="highlighted">defaultLabel</code> property. It is reproduced here for reference:</p>

<pre><code class="highlighted">defaultLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// built-in default markup:</span>
    <span class="token comment">// applied only if neither one of the following is provided:</span>
    <span class="token comment">// - individual label `markup` property</span>
    <span class="token comment">// - `defaultLabel.markup` property</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'rect'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'text'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// built-in default attributes:</span>
    <span class="token comment">// applied only if built-in default markup is used</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token punctuation">{</span>
            fill<span class="token operator">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
            fontSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
            textVerticalAnchor<span class="token operator">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
            pointerEvents<span class="token operator">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        rect<span class="token operator">:</span> <span class="token punctuation">{</span>
            ref<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            fill<span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
            rx<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            ry<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            x<span class="token operator">:</span> <span class="token string">'calc(x)'</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> <span class="token string">'calc(y)'</span><span class="token punctuation">,</span>
            width<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span>
            height<span class="token operator">:</span> <span class="token string">'calc(h)'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// built-in default position:</span>
    <span class="token comment">// merged with `defaultLabel.position` and individual label `position`</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        distance<span class="token operator">:</span> <span class="token number">0.5</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>If custom <code class="highlighted">markup</code> object is not provided (i.e. there is no <a href="#dia.Link.intro.customLink">class-specific</a> <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> object, nor any <a href="#dia.Link.intro.labels">instance-specific</a> <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code>, nor an <a href="#dia.Link.intro.labels">individual label-specific</a> <code class="highlighted">markup</code> property), then built-in default label <code class="highlighted">markup</code> is applied (as reproduced above). Alongside, the built-in default label <code class="highlighted">attrs</code> object is applied. Note that the built-in default <code class="highlighted">attrs</code> object is applied as a template in this context, which means that you may enhance it with a custom <code class="highlighted">attrs</code> object (class-specific / instance-specific / individual label-specific). However, in the interest of keeping your code maintainable and easy to understand, it is very highly recommended that you provide both your own <code class="highlighted">markup</code> object and your own <code class="highlighted">attrs</code> object, unless you want to use the built-in default precisely as-is.</p>

<p>The built-in default <code class="highlighted">position</code> object behaves slightly differently. Regardless of <code class="highlighted">markup</code>, it is always merged with custom <code class="highlighted">position</code> objects (class-specific / instance-specific / individual label-specific) -  but it has the lowest priority of the four. That is, if at least one of the custom <code class="highlighted">position</code> objects provides a <code class="highlighted">distance</code> value, that value will have precedence over the built-in default <code class="highlighted">position<span class="token punctuation">.</span>distance</code>. If no custom <code class="highlighted">position<span class="token punctuation">.</span>distance</code> is provided, then the built-in default is applied (placing labels at midpoints of links).</p>

        </div>
    </div>
    <div id="dia.Link.events" class="docs-item">
        <a href="#dia.Link.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.events</h4>
        </a>
        <div class="docs-item-content">
<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change on the link</li>
    <li><code class="highlighted">change<span class="token operator">:</span>source</code> - triggered when the link changes its source</li>
    <li><code class="highlighted">change<span class="token operator">:</span>target</code> - triggered when the link changes its target</li>
    <li><code class="highlighted">change<span class="token operator">:</span>attrs</code> - triggered when the link changes its attributes</li>
    <li><code class="highlighted">change<span class="token operator">:</span>connector</code> - triggered when the link changes its connector </li>
    <li><code class="highlighted">change<span class="token operator">:</span>router</code> - triggered when the link changes its router</li>
    <li><code class="highlighted">change<span class="token operator">:</span>vertices</code> - triggered when the link changes its vertices array </li>
    <li><code class="highlighted">change<span class="token operator">:</span>z</code> - triggered when the link is moved in the z-level (<a href="#dia.Link.prototype.toFront">toFront</a> and <a href="#dia.Link.prototype.toBack">toBack</a>)</li>
    <li><code class="highlighted">transition<span class="token operator">:</span>start</code> - triggered when a transition starts.</li>
    <li><code class="highlighted">transition<span class="token operator">:</span>end</code> - triggered when a transition ends.</li>
</ul>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:source'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'source of the link changed'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.geometry" class="docs-item">
        <a href="#dia.Link.geometry" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.geometry</h4>
        </a>
        <div class="docs-item-content">
<p>The shape of a link is determined by five properties - <b><code class="highlighted">source</code></b>, <b><code class="highlighted">target</code></b>, <b><code class="highlighted">vertices</code></b>, <b><code class="highlighted">router</code></b> and <b><code class="highlighted">connector</code></b>.</p>

<h4><span id="dia.Link.geometry.source">Source</span> and <span id="dia.Link.geometry.target">Target</span></h4>

<p>The <code class="highlighted">source</code> and <code class="highlighted">target</code> properties have to be provided when creating a Link. Either a Point can be provided (with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties) or a Cell (Element or Link, either directly or via an <code class="highlighted">id</code> property).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> link2<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the end is specified as a Cell, a specific subelement on that cell may be identified for use as the link end. The <code class="highlighted">selector</code> property allows specifying the subelement with a selector string, while the <code class="highlighted">magnet</code> property uses magnet id, and the <code class="highlighted">port</code> property (on Elements only) uses the port id.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token operator">:</span> <span class="token string">'connectorSquare'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token operator">:</span> <span class="token string">'midPointCircle'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>In any case, we need to obtain a single point from the object provided to the <a href="#dia.Link.geometry.source">source</a>/<a href="#dia.Link.geometry.target">target</a> property. That point is found according to additional properties provided to the function. The accepted modifier properties depend on the class of the provided object:</p>

<ul>
    <li><code class="highlighted">Point</code> or an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties - coordinates of the point are used as the coordinates of the link's anchor directly. No modification of any kind. (Ignores <a href="#dia.Link.geometry.anchor">anchor</a>/<a href="#dia.Link.geometry.linkAnchor">linkAnchor</a>/<a href="#dia.Link.geometry.connectionPoint">connectionPoint</a> properties, if provided.)</li>
    <li><code class="highlighted">Element</code> - the precise position of the link's end anchor depends on used <a href="#dia.Link.geometry.anchor"><code class="highlighted">anchor</code></a> function, with additional optical modifications applied by <a href="#dia.Link.geometry.connectionPoint"><code class="highlighted">connectionPoint</code></a> function. (Ignores <a href="#dia.Link.geometry.linkAnchor">linkAnchor</a> property, if provided.)</li>
    <li><code class="highlighted">Link</code> - the precise position of the link's end anchor depends on provided <a href="#dia.Link.geometry.linkAnchor"><code class="highlighted">linkAnchor</code></a> function. (Ignores <a href="#dia.Link.geometry.anchor">anchor</a>/<a href="#dia.Link.geometry.connectionPoint">connectionPoint</a> properties, if provided.)</li>
    <li><code class="highlighted">Link</code> with specified <code class="highlighted">subelement</code>/<code class="highlighted">magnet</code> property - same as <code class="highlighted">Element</code> (see above).</li>
</ul>

<p>The <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">paper option</a> is also relevant to mention in this context. It determines what happens to the link end when it is modified due to specific kinds of user interaction.</p>

<h4 id="dia.Link.geometry.anchor">Anchor</h4>

<p>If the link end (<a href="#dia.Link.geometry.source">source</a>/<a href="#dia.Link.geometry.target">target</a>) is an Element (or a subelement/magnet of a Link  but not a Link itself), the precise position of the link end's anchor may be specified by the <code class="highlighted">anchor</code> property. Every link has two anchors; one at the source end and one at the target end.</p>

<p>A link end anchor is a point inside a given (sub)element that the link path wants to connect to at that source/target end - if it were not obstructed by the body of the element itself (it is the role of <a href="#dia.Link.geometry.connectionPoint">connectionPoints</a> to then take the obstructing end element itself into account). Alongside <a href="#dia.Link.geometry.vertices">link vertices</a>, source and target anchors determine the basic link path. Then, it is the job of <a href="#dia.Link.geometry.connectionPoint">connectionPoints</a>, <a href="#dia.Link.geometry.router">routers</a>, and <a href="#dia.Link.geometry.connector">connectors</a> to modify that path to make it look good.</p>

<p>The anchor functions reference the end element to find the anchor point - e.g. the center of the end element, or its top-right corner. Notably, anchor functions also allow you to offset found anchor points by a custom distance in both dimensions from the standard position (e.g. 10 pixels to the right and 20 pixels below the center of an end element). Several pre-made <a href="#anchors">anchors</a> are provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            dx<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If an anchor function is not provided, the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>anchors<span class="token punctuation">.</span>center</code> <a href="#anchors.center">function</a> is used by default.</p>

<h4 id="dia.Link.geometry.linkAnchor">Link Anchor</h4>

<p>If the link end (<a href="#dia.Link.geometry.source">source</a>/<a href="#dia.Link.geometry.target">target</a>) is a Link (not an Element or a Link subelement/magnet), the precise position of the link end's anchor may be specified by the <code class="highlighted">linkAnchor</code> property. If a link anchor method is used, no connectionPoints are applied.</p>

<p>A link end link anchor is a point on another link that this link's path wants to connect to at that source/target end. Alongside <a href="#dia.Link.geometry.vertices">link vertices</a>, source and target anchors determine the basic link path.</p>

<p>The link anchor functions reference the end link to find the anchor point - e.g. a point at a given ratio from the start, or the closest point. Several pre-made <a href="#linkAnchors">linkAnchors</a> are provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    linkAnchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionRatio'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            ratio<span class="token operator">:</span> <span class="token number">0.25</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a link anchor function is not provided, the <code class="highlighted">defaultLinkAnchor</code> <a href="#dia.Paper.prototype.options.defaultLinkAnchor">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors<span class="token punctuation">.</span>connectionRatio</code> <a href="#linkAnchors.connectionRatio">function</a> with a value of <code class="highlighted"><span class="token number">0.5</span></code> is used by default (i.e. the anchor is placed at the midpoint of a Link by default).</p>

<h4 id="dia.Link.geometry.connectionPoint">Connection Point</h4>

<p>The link end's connection point may be specified by the <code class="highlighted">connectionPoint</code> property. Every link has two connection points; one at the source end and one at the target end.</p>

<p>A link connection point is the point at which the link path actually ends at, taking the end element into account. This point will always lie on the link path (the line connecting link <a href="#dia.Link.geometry.anchor">anchors</a> and <a href="#dia.Link.geometry.vertices">vertices</a> together, in order).</p>

<p>The connectionPoints are found by considering intersections between the link path and a desired feature of the end element (e.g. bounding box, shape boundary, anchor). Although connectionPoints are not capable of being offset off the link path (<a href="#dia.Link.geometry.anchor">anchors</a> should be used to modify the link path if this is required), they can be offset <i>along</i> the path - e.g. to form a gap between the element and the actual link. Several pre-made <a href="#connectionPoints">connectionPoints</a> are provided in the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a connection point function is not provided, the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints<span class="token punctuation">.</span>bbox</code> <a href="#connectionPoints.bbox">function</a> is used by default.</p>

<h4 id="dia.Link.geometry.connectionStrategy">Connection Strategy</h4>

<p>Related to <a href="#dia.Link.geometry.anchor">anchors</a> and <a href="#dia.Link.geometry.connectionPoint">connectionPoints</a> is the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">paper option</a>. It allows you to specify which <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> properties should be assigned to end elements in response to user interaction (e.g. in response to dragging a link arrowhead onto a new element). This setting is necessary because assigned <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> are not preserved when the end element is reassigned by the user - and the paper's <code class="highlighted">defaultAnchor</code> and <code class="highlighted">defaultConnectionPoint</code> are used instead.

</p><p>Several pre-made <a href="#connectionStrategies">connectionStrategies</a> are provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace, but you may find it necessary to create your own <a href="#connectionStrategies.custom">custom connection strategies</a>. This is a <a href="#dia.Paper.prototype.options.connectionStrategy">paper-level setting</a>; connectionStrategies not assigned on a link-by-link basis.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

<p>If a connection strategy is not provided, the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults</code> <a href="#connectionStrategies.useDefaults">function</a> is used by default.</p>

<h4 id="dia.Link.geometry.vertices">Vertices</h4>

<p>The <code class="highlighted">vertices</code> array is an array of user-defined points for the link to pass through. Alongside the source and target <a href="#dia.Link.geometry.anchor">anchors</a>, the link vertices determine the basic link path. This skeleton path is then used for determining the <a href="#dia.Link.geometry.router">link route</a>. The vertices can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.geometry.vertices">function</a> and related functions.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.geometry.router">Router</h4>

<p>Routers take an array of <a href="#dia.Link.geometry.vertices">link vertices</a> and transform them into an array of route points that the link should go through. This route is then used for generating the <a href="#dia.Link.geometry.connector">connection SVG path commands</a>. The <code class="highlighted">router</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.geometry.router">function</a>.</p>

<p>A collection of pre-made <a href="#routers">routers</a> is provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace. This includes <q>smart routers</q> that are able to automatically avoid obstacles (elements) in their way.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a router is not provided, the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span>normal</code> <a href="#routers.normal">function</a> is used by default.</p>

<h4 id="dia.Link.geometry.connector">Connector</h4>

<p>Connectors take an array of <a href="#dia.Link.geometry.router">link route points</a> and generate SVG path commands so that the link can be rendered. The <code class="highlighted">connector</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.geometry.connector">function</a>.</p>

<p>A collection of pre-made <a href="#connectors">connectors</a> is provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'rounded'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    raw<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    radius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a connector is not provided, the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span>normal</code> <a href="#connectors.normal">function</a> is used by default.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching connectors with routers as desired; for example, a link may be specified to use the <code class="highlighted">jumpover</code> connector on top of the <code class="highlighted">manhattan</code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.labels" class="docs-item">
        <a href="#dia.Link.labels" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.labels</h4>
        </a>
        <div class="docs-item-content">
<p>JointJS supports adding labels on links. One link can have multiple labels, and each label can have different properties. For a quick introduction to link labels, see our <a href="https://resources.jointjs.com/tutorial/link-labels">tutorial</a></p>

<p>Properties recognized by JointJS are summarized in the following TypeScript-like schema:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    markup<span class="token operator">?</span><span class="token operator">:</span> string <span class="token operator">|</span> Array<span class="token operator">&lt;</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> SVGElement<span class="token punctuation">,</span>
        selector<span class="token operator">?</span><span class="token operator">:</span> string
    <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">,</span>
    size<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        width<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span>
        height<span class="token operator">?</span><span class="token operator">:</span> number
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>key<span class="token operator">:</span> selector<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token constant">SVG</span> attribute <span class="token operator">|</span> JointJS attribute<span class="token punctuation">]</span><span class="token operator">:</span> any
        <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token operator">?</span><span class="token operator">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span>
        distance<span class="token operator">:</span> number<span class="token punctuation">,</span>
        offset<span class="token operator">?</span><span class="token operator">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token punctuation">,</span>
        angle<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span>
        args<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            absoluteDistance<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
            reverseDistance<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
            absoluteOffset<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
            keepGradient<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
            ensureLegibility<span class="token operator">?</span><span class="token operator">:</span> boolean
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<h4 id="dia.Link.labels.defaultLabel">Default Label</h4>

<p>The <code class="highlighted">markup</code>, <code class="highlighted">size</code>, <code class="highlighted">attrs</code> and <code class="highlighted">position</code> objects defined on individual labels may be supplemented by properties from one of a hierarchy of <code class="highlighted">defaultLabel</code> objects, each of them following the same schema as above.</p>

<ul>
    <li>The highest precedence is held by the <code class="highlighted">defaultLabel</code> object provided when <a href="#dia.Link.intro.labels">creating a new link instance</a>.</li>
    <li>The second-highest precedence is held by the <code class="highlighted">defaultLabel</code> object provided when <a href="#dia.Link.intro.customLink">defining a custom Link type</a>.</li>
    <li>Lower tiers of precedence are followed through the ancestors of the Link type (due to the way type extensions work in JointJS). Effectively, this identifies the closest ancestor's <code class="highlighted">defaultLabel</code> object, if any.</li>
</ul>

<p>If a <code class="highlighted">defaultLabel</code> object is found in one of the above sources, its <code class="highlighted">markup</code>, <code class="highlighted">size</code>, <code class="highlighted">attrs</code> and <code class="highlighted">position</code> properties act as a template into which the individually-specified label properties are deep-merged as appropriate. In addition, the properties of the highest-precedence <code class="highlighted">defaultLabel</code> object may prove to be important on their own; for example, the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.addLabel">shortcut function</a> is only capable of adding a default label to links.</p>

<h4 id="dia.Link.labels.markup">Markup</h4>

<p>The <code class="highlighted">markup</code> property specifies the markup of the label. It can be provided in three ways:</p>

<ul>
    <li>As a parsable SVG (e.g. <code class="highlighted"><span class="token string">'&lt;rect />&lt;text />'</span></code>).</li>
    <li>As a JSON array (e.g.<code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'body'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'label'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></code>).</li>
    <li>Or as a <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>svg</code> <a href="#util.svg">ES6 tag template</a>:</li>
</ul>

<pre><code data-lang="javascript" class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>svg<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;rect @selector="body"/>
    &lt;text @selector="label"/>
</span><span class="token template-punctuation string">`</span></span></code></pre>

<p>Note that the latter two options allow the user to specify custom selectors for the individual SVGElements; these can then be used for targeting elements within the <code class="highlighted">attrs</code> <a href="#dia.Link.labels.styling">property</a>.</p>

<p>If no <code class="highlighted">markup</code> property is provided on the individual label, but a <code class="highlighted">defaultLabel</code> is found on the link according to the <code class="highlighted">defaultLabel</code> <a href="#dia.Link.labels.defaultLabel">hierarchy</a>, then the label markup is taken from the <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> property.</p>

<p>However, if no <code class="highlighted">markup</code> property is provided on the individual label, and no <code class="highlighted">defaultLabel</code> is found on the link according to the <code class="highlighted">defaultLabel</code> <a href="#dia.Link.labels.defaultLabel">hierarchy</a> (as may be the case when extending from out-of-the-box Link types like <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> or <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</code> without providing one's own <code class="highlighted">defaultLabel</code> object), then <a href="#dia.Link.intro.builtinDefaultAttributes">built-in default Link markup</a> is used to maintain backwards compatibility. That object defines <code class="highlighted">markup</code> as a JSON array with a <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">></span></code> SVGElement (<code class="highlighted"><span class="token string">'rect'</span></code>selector) under a <code class="highlighted"><span class="token operator">&lt;</span>text<span class="token operator">></span></code> SVGElement (<code class="highlighted"><span class="token string">'text'</span></code> selector).</p>

<h4 id="dia.Link.labels.size">Size</h4>

<p>The <code class="highlighted">size</code> property specifies the dimensions of the label. It may be defined as an object with a <code class="highlighted">width</code> and/or <code class="highlighted">height</code> properties. These values are then used as the reference size for all <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.attributes">attribute expressions</a> within the link's <code class="highlighted">attrs</code> object (this may be overwritten for an individual subelement with the <code class="highlighted">ref</code> property to choose a different subelement as a reference).</p>

<p>If a <code class="highlighted">defaultLabel</code> object was found on the link (according to the <code class="highlighted">defaultLabel</code> <a href="#dia.Link.labels.defaultLabel">hierarchy</a>), then the label's own <code class="highlighted">size</code> properties are deep-merged into it as appropriate.</p>

<p>There is no built-in <code class="highlighted">defaultLabel<span class="token punctuation">.</span>size</code> object; if no <code class="highlighted">defaultLabel</code> is found, and no <code class="highlighted">size</code> is provided on the individual label, then no <code class="highlighted">size</code> is assigned to that label. (That causes <code class="highlighted"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.attributes.calc">attribute expressions</a> to assign <code class="highlighted"><span class="token number">0</span></code> as the value of all their variables - which may be unexpected - unless the expression is used alongside a <code class="highlighted">ref</code> <a href="#dia.attributes.ref">property</a>.)</p>

<table>
    <tr>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <th>width</th>
                    <td>
                        Optional. The width of the label.
                    </td>
                </tr>
                <tr>
                    <th>height</th>
                    <td>
                        Optional. The height of the label.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<h4 id="dia.Link.labels.styling">Styling</h4>

<p>The <code class="highlighted">attrs</code> property is an object where the keys are CSS selectors (referring to custom selectors or SVGElements specified in <code class="highlighted">markup</code> - e.g. the <code class="highlighted">body</code> selector in the <a href="#dia.Link.labels.markup">above markup example</a>). They are expected to contain objects that specify native SVG attributes and/or JointJS <a href="#dia.attributes">special attributes</a> (e.g. <code class="highlighted">fill</code>), alongside the value to be assigned (e.g. <code class="highlighted"><span class="token string">'white'</span></code>).</p>

<p>If a <code class="highlighted">defaultLabel</code> object was found on the link (according to the <code class="highlighted">defaultLabel</code> <a href="#dia.Link.labels.defaultLabel">hierarchy</a>), then the label's own <code class="highlighted">attrs</code> properties are deep-merged into it as appropriate. For example, this may prove useful when you just need to change a handful of attributes for one specific label (e.g. <code class="highlighted">attrs<span class="token operator">:</span> <span class="token punctuation">{</span> body<span class="token operator">:</span> <span class="token punctuation">{</span> stroke<span class="token operator">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code>). (Note that selectors defined in <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> can also be referenced from within a specific label's <code class="highlighted">attrs</code>.)</p>

<p>If the built-in default markup is <a href="#dia.Link.labels.markup">applied on an individual label</a> (i.e. no <code class="highlighted">markup</code> property was provided, and no <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> was found), then <a href="#dia.Link.intro.builtinDefaultAttributes">several additional built-in default attributes</a> need to be automatically applied for reasons of backwards compatibility. The individual label's <code class="highlighted">attrs</code> (if any) are deep-merged with <code class="highlighted">defaultLabel<span class="token punctuation">.</span>attrs</code> (if found) as appropriate, and the resulting object is then deep-merged with the built-in default <code class="highlighted">attrs</code> as appropriate. (Note that this is the only case in which the absence of one property - <code class="highlighted">markup</code>/<code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> - influences another property - <code class="highlighted">attrs</code>/<code class="highlighted">defaultLabel<span class="token punctuation">.</span>attrs</code>.)</p>

<h4 id="dia.Link.labels.position">Position</h4>

<p>Finally, the <code class="highlighted">position</code> property specifies the position of the label relative to the SVG path of the link. It may be defined as a number or as an object with <code class="highlighted">distance</code> and optionally <code class="highlighted">offset</code> and <code class="highlighted">args</code> properties.</p>

<p>The <a href="#dia.Link.intro.builtinDefaultAttributes">built-in default position</a> (<code class="highlighted"><span class="token punctuation">{</span> distance<span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span></code>) is used to maintain backwards compatibility. The individual label's <code class="highlighted">position</code> (if any) is deep-merged with <code class="highlighted">defaultLabel<span class="token punctuation">.</span>position</code> (if found in the <code class="highlighted">defaultLabel</code> <a href="#dia.Link.labels.defaultLabel">hierarchy</a>) as appropriate, and the resulting object is then deep-merged with the built-in default <code class="highlighted">position</code> as appropriate. (Note that the built-in default object is always merged in with the other objects, which is a difference from how the built-in defaults of <code class="highlighted">markup</code> and <code class="highlighted">attrs</code> properties are treated.)</p>

<table>
    <tr>
        <td><i>number</i></td>
        <td>
            <table>
                <tr>
                    <td>
                        If the distance is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range (inclusive), then the position of the label is defined as a percentage of the total length of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path (the normalized length). For example, passing the number <code class="highlighted"><span class="token number">0.5</span></code> positions the label to the middle of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
                <tr>
                    <td>
                        If the distance is larger than <code class="highlighted"><span class="token number">1</span></code> (exclusive), the label will be positioned <code class="highlighted">distance</code> pixels away from the beginning of the path along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
                <tr>
                    <td>
                        If the distance is a negative number, the label will be positioned <code class="highlighted">distance</code> pixels away from the end of the path along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td><i>object</i></td>
        <td>
            <p>If <code class="highlighted">position</code> is specified as an object, it may have three properties:</p>
            <table>
                <tr>
                    <th>distance</th>
                    <td>
                        A number specifying the distance of the label along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path. Same as above.
                    </td>
                </tr>
                <tr>
                    <th>offset</th>
                    <td>
                        <p>Optional. Either a number or an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties.</p>
                        <table>
                            <tr>
                                <td><i>number</i></td>
                                <td>
                                    <table>
                                        <tr>
                                            <td>
                                                If the offset is a positive number, displace the label perpendicularly to the right (in the direction of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path) in the paper local coordinate system. (An offset of <code class="highlighted"><span class="token number">0</span></code> is the default; it means no offset in either direction.)
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                If the offset is a negative number, displace the label perpendicularly to the left (in the direction of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path) in the paper local coordinate system.
                                        </td></tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td><i>object</i></td>
                                <td>
                                    <table>
                                        <tr>
                                            <th>x</th>
                                            <td>
                                                Offset the label by <code class="highlighted">x</code> in the paper local coordinate system.
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>y</th>
                                            <td>
                                                Offset the label by <code class="highlighted">y</code> in the paper local coordinate system.
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <th>angle</th>
                    <td>
                        Optional. A number specifying the rotation of the label along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path, in degrees. Angles 0-180 cause the label to rotate clockwise, angles 360-180 cause the label to rotate couterclockwise. This rotation is added on top of any rotation due to the <code class="highlighted">args<span class="token punctuation">.</span>keepGradient</code> option. (Note that the <code class="highlighted">args<span class="token punctuation">.</span>ensureLegibility</code> option is evaluated only after all these calculations are finished.)
                    </td>
                </tr>
                <tr>
                    <th>args</th>
                    <td>
                        <p>Optional. An object with boolean options for the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getLabelPosition">function</a>.</p>
                        <table>
                            <tr>
                                <th>absoluteDistance</th>
                                <td>
                                    If user moves the label, record <code class="highlighted">distance</code> as an absolute number. (Relative distances are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>reverseDistance</th>
                                <td>
                                    If <code class="highlighted">absoluteDistance</code> is set and user moves the label, record <code class="highlighted">distance</code> as a negative absolute number. (Positive distances are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>absoluteOffset</th>
                                <td>
                                    If user moves the label, record <code class="highlighted">offset</code> as an object with absolute <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates. (Relative offsets are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>keepGradient</th>
                                <td>
                                    Adjust the base rotation angle of the label (i.e. the <q>zero angle</q> before rotation due to the <code class="highlighted">angle</code> setting is applied) to match the angle of incline of the path at given <code class="highlighted">distance</code>.
                                </td>
                            </tr>
                            <tr>
                                <th>ensureLegibility</th>
                                <td>
                                    If <code class="highlighted">keepGradient</code> is set and the label ends up rotated so that its text is upside-down, rotate the label by additional 180 degrees so it becomes legible for the users.
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Link.prototype" class="docs-item">
    <div id="dia.Link.prototype.addTo" class="docs-item">
        <a href="#dia.Link.prototype.addTo" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.addTo</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span></code></pre>
<p>Add the link to the <code class="highlighted">graph</code> (an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code>). This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.appendLabel" class="docs-item">
        <a href="#dia.Link.prototype.appendLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.appendLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span>label <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">label</code> at the end of the <code class="highlighted">labels</code> array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.attr" class="docs-item">
        <a href="#dia.Link.prototype.attr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.attr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Set presentation attributes (<a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">SVG</a> and <a href="joint.html#dia.attributes">JointJS </a> attributes) on subelements. This is a method analogous to <a href="#dia.Element.prototype.attr">attr</a> method of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.  The keys of the <code class="highlighted">attrs</code> object are selectors (<a href="joint.html#dia.Cell.markup.json">JSON Markup Selector</a> or CSS Selector) matching the SVG element the link consists of. The values are objects containing SVG attributes and their values. <code class="highlighted">attrs</code> object will be mixed with <code class="highlighted">attrs</code> property of the <code class="highlighted">link</code> model. This is a convenient way of rewriting only some of the attributes of the SVG elements. For overwriting all attributes of all SVG elements, use <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'attrs'</span><span class="token punctuation">,</span> attrs<span class="token punctuation">)</span></code>.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// selector as defined in JSON markup</span>
    line<span class="token operator">:</span> <span class="token punctuation">{</span>
        stroke<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
        targetMarker<span class="token operator">:</span> <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            r<span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>An alternative call using a string path and a value:</p>
<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token string">'targetMarker'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Get attribute value defined by a path. If no path provided the whole <code class="highlighted">attrs</code> object is returned.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> color <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> targetMarkerType <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token string">'targetMarker'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.clone" class="docs-item">
        <a href="#dia.Link.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns a new instance of the link with identical attributes.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.connector" class="docs-item">
        <a href="#dia.Link.prototype.connector" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.connector</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">connector</code> property of the link.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span>connector <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">connector</code> of the link.</p>

<p>If the <code class="highlighted">connector</code> argument is an object, it is expected to have the form <code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> connectorName<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token operator">:</span> connectorArgs <span class="token punctuation">}</span></code>. Here <code class="highlighted">connectorName</code> is expected to match either the name of a <a href="#connectors">built-in connector</a> or the name of a <a href="#connectors.custom">custom connector</a>.</p>

<p>If the <code class="highlighted">connector</code> argument is a function, it is expected to define a <a href="#connectors.custom">custom connector</a> with the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> connectorArgs<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span></code> that returns a string representing the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d">SVG path data</a> that will be used to render the link.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span>connectorName <span class="token punctuation">[</span><span class="token punctuation">,</span> connectorArgs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">connector</code> of the link to have the value <code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> connectorName<span class="token punctuation">,</span> args<span class="token operator">:</span> connectorArgs <span class="token punctuation">}</span></code>.</p>

<p>The <code class="highlighted">connectorName</code> string is expected to match either the name of a <a href="#connectors">built-in connector</a> or the name of a <a href="#connectors.custom">custom connector</a>. The <code class="highlighted">connectorArgs</code> parameter is optional.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.disconnect" class="docs-item">
        <a href="#dia.Link.prototype.disconnect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.disconnect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Disconnect the link from its <code class="highlighted">source</code> and <code class="highlighted">target</code> elements. The <code class="highlighted">source</code> and <code class="highlighted">target</code> then become a point at <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.findView" class="docs-item">
        <a href="#dia.Link.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span></code></pre>
<p>Find view (<a href="#dia.LinkView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code></a>) for the link model in the <code class="highlighted">paper</code>. This is a shortcut to the equivalent call <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getAncestors" class="docs-item">
        <a href="#dia.Link.prototype.getAncestors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getAncestors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all the ancestors of this link starting from the immediate parent all the way up to the most distant ancestor.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getBBox" class="docs-item">
        <a href="#dia.Link.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the link model, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Rect</code>.</p>

<p>This method creates the bounding box from the link polyline (see the <code class="highlighted">link<span class="token punctuation">.</span>getPolyline</code> <a href="#dia.Link.prototype.getPolyline">function</a>). This simplified heuristic may cause portions of curved links to protrude out of the reported bounding box. See the documentation of the <code class="highlighted">linkView<span class="token punctuation">.</span>getBBox</code> <a href="#dia.LinkView.prototype.getBBox">function</a> for details about the differences.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getPolyline" class="docs-item">
        <a href="#dia.Link.prototype.getPolyline" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getPolyline</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getPolyline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a polyline that approximates the shape of the link. The polyline is created from the two link endpoints, with link vertices in between.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourceCell" class="docs-item">
        <a href="#dia.Link.prototype.getSourceCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourceCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourceCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source cell (element or link) of the link, or <code class="highlighted"><span class="token keyword">null</span></code> if the element's source is a point.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourceElement" class="docs-item">
        <a href="#dia.Link.prototype.getSourceElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourceElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourceElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source element of the link or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourcePoint" class="docs-item">
        <a href="#dia.Link.prototype.getSourcePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourcePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourcePoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source point of the link.</p>

<ul>
	<li>If the link endpoint is pinned to a specific point on the paper, return that point.</li>
	<li>If the link is connected to another link, return the midpoint of <a href="#dia.Link.prototype.getPolyline">that link's polyline</a>.</li>
	<li>If the link is connected to a port on an element, return the center of that port.</li>
	<li>If the link is connected to an element, return the center of that element.</li>
</ul>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetCell" class="docs-item">
        <a href="#dia.Link.prototype.getTargetCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target cell (element or link) of the link, or <code class="highlighted"><span class="token keyword">null</span></code> if the element's target is a point.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetElement" class="docs-item">
        <a href="#dia.Link.prototype.getTargetElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target element of the link or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetPoint" class="docs-item">
        <a href="#dia.Link.prototype.getTargetPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target point of the link.</p>

<ul>
	<li>If the link endpoint is pinned to a specific point on the paper, return that point.</li>
	<li>If the link is connected to another link, return the midpoint of <a href="#dia.Link.prototype.getPolyline">that link's polyline</a>.</li>
	<li>If the link is connected to a port on an element, return the center of that port.</li>
	<li>If the link is connected to an element, return the center of that element.</li>
</ul>

        </div>
    </div>
    <div id="dia.Link.prototype.getTransitions" class="docs-item">
        <a href="#dia.Link.prototype.getTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTransitions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all active transitions (their paths).</p>

        </div>
    </div>
    <div id="dia.Link.prototype.hasLabels" class="docs-item">
        <a href="#dia.Link.prototype.hasLabels" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.hasLabels</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">hasLabels</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the link has at least one label. Return <code class="highlighted"><span class="token boolean">false</span></code> otherwise.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.hasLoop" class="docs-item">
        <a href="#dia.Link.prototype.hasLoop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.hasLoop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">hasLoop</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link is a <q>loop link</q>. In a <q>loop link</q> <code class="highlighted">source</code> and <code class="highlighted">target</code> are equal.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the notion of a <q>loop link</q> is extended to a deep hierarchy. For example, if the link connects a parent element with one of its embedded elements, the link is considered a <q>loop link</q>, as well.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.insertLabel" class="docs-item">
        <a href="#dia.Link.prototype.insertLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.insertLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">insertLabel</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> label <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">label</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to add the label at the end of the labels array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.insertVertex" class="docs-item">
        <a href="#dia.Link.prototype.insertVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.insertVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">insertVertex</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> vertex <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">vertex</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to add the vertex at the end of the vertices array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.isElement" class="docs-item">
        <a href="#dia.Link.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.isEmbeddedIn" class="docs-item">
        <a href="#dia.Link.prototype.isEmbeddedIn" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isEmbeddedIn</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isEmbeddedIn</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the link is embedded in an element <code class="highlighted">element</code>.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">false</span></code>, only direct parentage will be checked. <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> by default.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.isLink" class="docs-item">
        <a href="#dia.Link.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">true</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.label" class="docs-item">
        <a href="#dia.Link.prototype.label" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.label</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>
<p>Return the label at <code class="highlighted">index</code>.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> properties <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Update <code class="highlighted">properties</code> of the label at <code class="highlighted">index</code>. By default, the new properties are merged into the old ones; pass the <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> option along to disregard old properties.</p>

<p>Example usage:

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'body'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'label'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        body<span class="token operator">:</span> <span class="token punctuation">{</span>
            fill<span class="token operator">:</span> <span class="token string">'white'</span> <span class="token comment">// white background</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            text<span class="token operator">:</span> <span class="token string">'my label'</span><span class="token punctuation">,</span> <span class="token comment">// text to show</span>
            fill<span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token comment">// blue text</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        distance<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// midway on the connection path</span>
        offset<span class="token operator">:</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 10 local x units to the right</span>
            y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token comment">// 5 local y units above</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        angle<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token comment">// rotate by 45 degrees clockwise</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            keepGradient<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// auto-rotate by path slope at distance</span>
            ensureLegibility<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// auto-rotate label if upside-down</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</p><p>Note that all labels are stored in an array on the link model under the attribute <code class="highlighted">labels</code>. Use the <code class="highlighted">link<span class="token punctuation">.</span>labels</code> <a href="#dia.Link.prototype.labels">function</a> to access the array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.labels" class="docs-item">
        <a href="#dia.Link.prototype.labels" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.labels</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">labels</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of labels array.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">labels</span><span class="token punctuation">(</span>labelsArray <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set array of labels on the link.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.prop" class="docs-item">
        <a href="#dia.Link.prototype.prop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.prop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span></code></pre>
<p>Set properties, possibly nested, on the element model. This is equivalent to the <a href="#dia.Link.prototype.attr">attr()</a> method but this time for custom data properties.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">)</span>  <span class="token comment">// 'John'</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Nested arrays are supported too:</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'mylist/0/data/0/value'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mylist<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

<p>As you can see, this is the exact same method as the <a href="#dia.Element.prototype.prop">joint.dia.Element.prop()</a> method.</p>

To overwrite attributes, enable rewrite mode by adding <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> as the 3rd argument. This differs from the default behaviour which is to merge our properties.

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom/state/isVisible'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom/state'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isActive<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Output from link.toJSON();</span>
<span class="token comment">// We can see our attributes have been overwritten</span>
<span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"link"</span><span class="token punctuation">,</span>
    <span class="token string">"source"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"target"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"4ddf9c16-649b-40b3-96b3-7150711da955"</span><span class="token punctuation">,</span>
    <span class="token string">"custom"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"state"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"isActive"</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"attrs"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>

<p>
    When changing model attributes via <code class="highlighted"><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="highlighted"><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, some useful information is passed along with the
    change event in JointJS. <code class="highlighted">propertyPath</code>, <code class="highlighted">propertyValue</code>, and <code class="highlighted">propertyPathArray</code> are all values
    which can be accessed when updating the model. This can prove useful if for some reason you need to listen to a specific
    attribute change.
</p>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cell<span class="token punctuation">,</span> opt</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// --> {propertyPath: 'attrs/line/targetMarker/fill', propertyValue: 'cornflowerblue', propertyPathArray: Array(4)}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'attrs'</span> <span class="token keyword">in</span> cell<span class="token punctuation">.</span>changed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opt<span class="token punctuation">.</span>propertyPathArray<span class="token punctuation">,</span> <span class="token string">'was changed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// --> ['attrs', 'line', 'targetMarker', 'fill'] 'was changed'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'attrs/line/targetMarker/fill'</span><span class="token punctuation">,</span> <span class="token string">'cornflowerblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre>



<p><i>Advanced:</i> Pass <code class="highlighted"><span class="token punctuation">{</span> isolate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> if the property change does not affect the connected links. Typically, changing the link color has zero effect on attached links. By default, the link and all connected links are updated.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token string">'stroke'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> isolate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.remove" class="docs-item">
        <a href="#dia.Link.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove the link from the graph.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeAttr" class="docs-item">
        <a href="#dia.Link.prototype.removeAttr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeAttr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span>path <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove a previously set attribute from the link. <code class="highlighted">path</code> can either be a string that specifies the path to the (possibly nested) attribute to be removed, or an array of more paths. The associated link view makes sure the link gets re-rendered properly.</p>

<p>If <code class="highlighted">opt</code> is passed, it can contain data that is passed over to the event listeners for the <code class="highlighted">change<span class="token operator">:</span>attrs</code> event triggered on the link itself and also on the graph the link is in.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeLabel" class="docs-item">
        <a href="#dia.Link.prototype.removeLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeLabel</span><span class="token punctuation">(</span>index <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove <code class="highlighted">label</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to remove the last label of the labels array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeVertex" class="docs-item">
        <a href="#dia.Link.prototype.removeVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeVertex</span><span class="token punctuation">(</span>index <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove <code class="highlighted">vertex</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to remove the last vertex of the vertices array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.reparent" class="docs-item">
        <a href="#dia.Link.prototype.reparent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.reparent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">reparent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Automatically find and set the best parent element for the link so that when the parent element is moved, the link and all its vertices are moved too. The best parent is determined as the <a href="#dia.Graph.prototype.getCommonAncestor">common ancestor</a> of the source and target elements of the link. Useful for hierarchical diagrams. See the <a href="#shapes.devs.hierarchical_diagrams">DEVS demo</a> on how this can be used.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.router" class="docs-item">
        <a href="#dia.Link.prototype.router" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.router</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">router</code> property of the link.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span>router <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">router</code> of the link.</p>

<p>If the <code class="highlighted">router</code> argument is an object, it is expected to have the form <code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> routerName<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token operator">:</span> routerArgs <span class="token punctuation">}</span></code>. Here <code class="highlighted">routerName</code> is expected to match either the name of a <a href="#routers">built-in router</a> or the name of a <a href="#routers.custom">custom router</a>.</p>

<p>If the <code class="highlighted">router</code> argument is a function, it is expected to define a <a href="#routers.custom">custom router</a> with the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">vertices<span class="token punctuation">,</span> routerArgs<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span></code> that returns an array of route points.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span>routerName <span class="token punctuation">[</span><span class="token punctuation">,</span> routerArgs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">router</code> of the link to have the value <code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> routerName<span class="token punctuation">,</span> args<span class="token operator">:</span> routerArgs <span class="token punctuation">}</span></code>.</p>

<p>The <code class="highlighted">routerName</code> string is expected to match either the name of a <a href="#routers">built-in router</a> or the name of a <a href="#routers.custom">custom router</a>. The <code class="highlighted">routerArgs</code> parameter is optional.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.scale" class="docs-item">
        <a href="#dia.Link.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.scale</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> origin <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scales the link's points (vertices) relative to the given origin.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.source" class="docs-item">
        <a href="#dia.Link.prototype.source" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.source</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">source</code> property of the link.</p>

<p>If the beginning of the link is connected to an element, an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token operator">:</span> elementID <span class="token punctuation">}</span></code> is returned. If the beginning of the link is specified as a point instead (the link is <q>pinned</q> to the paper at that point), an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> sourceX<span class="token punctuation">,</span> y<span class="token operator">:</span> sourceY <span class="token punctuation">}</span></code> is returned. Furthermore, any additional arguments of the source are returned alongside those properties.</p>

<p>If you need to be sure that a Cell is returned (and not a Point), use the <code class="highlighted">link<span class="token punctuation">.</span>getSourceCell</code> <a href="#dia.Link.prototype.getSourceCell">function</a> instead. If you need an Element, use the <code class="highlighted">link<span class="token punctuation">.</span>getSourceElement</code> <a href="#dia.Link.prototype.getSourceElement">function</a>.</p>


<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">source</code> of the link.</p>

<p>If the link is to be connected to an element, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token operator">:</span> element<span class="token punctuation">.</span>id <span class="token punctuation">}</span></code> (or a <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> object). If the link is to be pinned to the paper, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> sourceX<span class="token punctuation">,</span> y<span class="token operator">:</span> sourceY <span class="token punctuation">}</span></code> (or a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> object).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Additional options may by provided to further specify the behavior of link at the source:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            dx<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>More information can be found in <a href="#dia.Link.geometry.source">link source documentation</a>.

        </p></div>
    </div>
    <div id="dia.Link.prototype.stopTransitions" class="docs-item">
        <a href="#dia.Link.prototype.stopTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.stopTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">stopTransitions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Stops all running transitions. If parameter <code class="highlighted">path</code> is provided, it will stop only transitions specified by this path.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.target" class="docs-item">
        <a href="#dia.Link.prototype.target" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.target</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">target</code> property of the link.</p>

<p>If the ending of the link is connected to an element, an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token operator">:</span> elementID <span class="token punctuation">}</span></code> is returned. If the ending of the link is specified as a point instead (the link is <q>pinned</q> to the paper at that point), an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> targetX<span class="token punctuation">,</span> y<span class="token operator">:</span> targetY <span class="token punctuation">}</span></code> is returned. Furthermore, any additional arguments of the target are returned alongside those properties.</p>

<p>If you need to be sure that a Cell is returned (and not a Point), use the <code class="highlighted">link<span class="token punctuation">.</span>getTargetCell</code> <a href="#dia.Link.prototype.getTargetCell">function</a> instead. If you need an Element, use the <code class="highlighted">link<span class="token punctuation">.</span>getTargetElement</code> <a href="#dia.Link.prototype.getTargetElement">function</a>.</p>


<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">target</code> of the link.</p>

<p>If the link is to be connected to an element, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token operator">:</span> element<span class="token punctuation">.</span>id <span class="token punctuation">}</span></code> (or a <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> object). If the link is to be pinned to the paper, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> targetX<span class="token punctuation">,</span> y<span class="token operator">:</span> targetY <span class="token punctuation">}</span></code> (or a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> object).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Additional options may by provided to further specify the behavior of link at the target:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            dx<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>More information can be found in <a href="#dia.Link.geometry.target">link target documentation</a>.

        </p></div>
    </div>
    <div id="dia.Link.prototype.toBack" class="docs-item">
        <a href="#dia.Link.prototype.toBack" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toBack</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Move the link so it is behind all other cells (elements/links). This is a method analogous to <a href="#dia.Element.prototype.toBack">toBack</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.toFront" class="docs-item">
        <a href="#dia.Link.prototype.toFront" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toFront</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Move the element so it is on top of all other cells (elements/links). This is a method analogous to <a href="#dia.Element.prototype.toFront">toFront</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.toJSON" class="docs-item">
        <a href="#dia.Link.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a copy of the link's attributes for JSON serialization. This is a method analogous to <a href="#dia.Element.prototype.toJSON">toJSON</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.transition" class="docs-item">
        <a href="#dia.Link.prototype.transition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.transition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Allows changing of the link properties gradually over a period of time. This is method is analogous to the <a href="#dia.Element.prototype.transition">transition</a> method of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">250</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    delay<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    timingFunction<span class="token operator">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>bounce<span class="token punctuation">,</span>
    valueFunction<span class="token operator">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate<span class="token punctuation">.</span>object
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the link target coordinates in 100ms, for period of 500ms and performing a bounce effect.</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.translate" class="docs-item">
        <a href="#dia.Link.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Translate the link vertices (and source and target if they are points) by <code class="highlighted">tx</code> pixels in the x-axis and <code class="highlighted">ty</code> pixels in the y-axis.</p>

<p>If <code class="highlighted">opt</code> object is passed, it can contain data that is passed over the the event listeners for the change event on the link or graph.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.vertex" class="docs-item">
        <a href="#dia.Link.prototype.vertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.vertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>
<p>Return the vertex at <code class="highlighted">index</code>.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> vertex <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Update the vertex at <code class="highlighted">index</code> with value of <code class="highlighted">vertex</code>. By default the new value is merged into the old value. Pass the <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> option along to disregard the old value.</p>

<p>A vertex has only two properties, <code class="highlighted">x</code> and <code class="highlighted">y</code>. It may be defined as a g.Point object.</p>

<p>Example vertex:

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</p><p>Note that all vertices are stored in an array on the link model under the attribute <code class="highlighted">vertices</code>. Use the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a> to access the array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.vertices" class="docs-item">
        <a href="#dia.Link.prototype.vertices" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.vertices</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of vertices array.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span>verticesArray <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set array of vertices on the link.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.LinkView" class="docs-item">
    <div id="dia.LinkView.intro" class="docs-item">
        <a href="#dia.LinkView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.LinkView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Link">joint.dia.Link</a> model. It inherits from <a href="#dia.CellView">joint.dia.CellView</a> and is responsible for:</p>

<ul>
  <li>Rendering a link inside a paper</li>
  <li>Handling the link's pointer events</li>
  <li>Providing various methods for working with the link (visually)</li>
</ul>

<p>To find the view associated with a specific link model, use the <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Paper.prototype.findViewByModel">method</a>:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> linkView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// const linkView = link.findView(paper); // alternatively</span></code></pre>


<h4>Custom LinkView</h4>

<p>It is possible to use a custom default link view for all your links in a paper. This can be set up via the <code class="highlighted">linkView</code> option on the <a href="#dia.Paper.prototype.options">paper object</a>.</p>

<p>A custom LinkView type may also override default LinkView event handlers, or provide new ones. It may be necessary to modify the <code class="highlighted">interactive</code> <a href="#dia.Paper.prototype.options.interactive">paper option</a> to prevent interference from builtin event handlers.</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> CustomLinkView <span class="token operator">=</span> dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// custom interactions:</span>
    <span class="token function-variable function">pointerdblclick</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">contextmenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    linkView<span class="token operator">:</span> CustomLinkView<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype" class="docs-item">
    <div id="dia.LinkView.prototype.addLabel" class="docs-item">
        <a href="#dia.LinkView.prototype.addLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <a href="#dia.Link.prototype.label">default label</a> to the link at the (x,y) coordinates provided. See also the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.appendLabel">function</a>.</p>

<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>point <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add a new <a href="#dia.Link.prototype.label">default label</a> to the link at the coordinates specified by <code class="highlighted">point</code>. See also the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.appendLabel">function</a>.</p>

<p>In either case, this method uses the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getLabelPosition">function</a> to determine the new label's <code class="highlighted">position</code>. By default, <code class="highlighted">position<span class="token punctuation">.</span>distance</code> is recorded relative to connection length (as a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range), and <code class="highlighted">position<span class="token punctuation">.</span>offset</code> is set relative to the connection (as a number). This behavior may be changed by providing an <code class="highlighted">opt</code> object with some of the accepted boolean flags:</p>

<ul>
    <li><code class="highlighted">absoluteDistance<span class="token operator">:</span> <span class="token boolean">true</span></code> records <code class="highlighted">distance</code> absolutely (as distance from beginning of link)</li>
    <li><code class="highlighted">reverseDistance<span class="token operator">:</span> <span class="token boolean">true</span></code> switches <code class="highlighted">distance</code> to be calculated from end of link, if <code class="highlighted">absoluteDistance</code></li>
    <li><code class="highlighted">absoluteOffset<span class="token operator">:</span> <span class="token boolean">true</span></code> records <code class="highlighted">offset</code> absolutely (as <code class="highlighted">x</code> and <code class="highlighted">y</code> from connection)</li>
</ul>

<p>The <code class="highlighted">angle</code> parameter, if provided, is saved as <code class="highlighted">position<span class="token punctuation">.</span>angle</code> attribute inside the returned object. Two additional flags, which may be passed in the <code class="highlighted">opt</code> object, provide more control over label rotation:</p>

<ul>
    <li><code class="highlighted">keepGradient<span class="token operator">:</span> <span class="token boolean">true</span></code> - adjust the rotation of the label to match the angle of incline of the path at <code class="highlighted">position<span class="token punctuation">.</span>distance</code></li>
    <li><code class="highlighted">ensureLegible<span class="token operator">:</span> <span class="token boolean">true</span></code> - if the label text ends up being upside-down, rotate the label by additional 180 degrees to ensure that the text stays legible, if <code class="highlighted">keepGradient</code></li>
</ul>

<p>The <code class="highlighted">opt</code> object passed to the label is recorded as <code class="highlighted">label<span class="token punctuation">.</span>position<span class="token punctuation">.</span>args</code>. The label uses these options during subsequent labelMove interactions.</p>

<p>This function is useful within custom <code class="highlighted">linkView</code> event listener definitions:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">contextmenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            absoluteDistance<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            reverseDistance<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// applied only when absoluteDistance is set</span>
            absoluteOffset<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            keepGradient<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            ensureLegibility<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// applied only when keepGradient is set</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token operator">:</span> CustomLinkView
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.addTools" class="docs-item">
        <a href="#dia.LinkView.prototype.addTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span></code></pre>
<p>Add the provided <code class="highlighted">toolsView</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</code> <a href="#dia.ToolsView">type</a>) to the link view.</p>

<p>Adding a tools view to a link view is the last (third) step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token operator">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

<p>The link tools are added in the visible state. Use the <code class="highlighted">linkView<span class="token punctuation">.</span>hideTools</code> <a href="#dia.LinkView.prototype.hideTools">function</a> if this behavior is not desirable (e.g. if you want the link tools to appear in response to user interaction). Example:</p>

<pre><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    linkView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Note that the above example may not work as expected if <code class="highlighted">toolsView</code> includes the <code class="highlighted">SourceArrowhead</code> <a href="#linkTools.SourceArrowhead">tool</a> and/or the <code class="highlighted">TargetArrowhead</code> <a href="#linkTools.TargetArrowhead">tool</a> - the link tools view might not be hidden when the link is reconnected to a topic. See our <a href="https://resources.jointjs.com/tutorial/link-tools.html">link tools tutorial</a> for more information.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.addVertex" class="docs-item">
        <a href="#dia.LinkView.prototype.addVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<p>Add a new <a href="#dia.Link.prototype.vertex">default vertex</a> to the link at the coordinates provided, and let the linkView automatically determine the index of the new vertex in the vertices array. If you need to add the vertex at a custom index, use the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.addVertex">function</a> instead.</p>

<p>This method uses the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getVertexIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getVertexIndex">function</a> to determine the index of the new vertex in the <code class="highlighted">vertices</code> array. The linkView checks the distance of vertices in the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> array from the beginning of path and compares it to the distance of the added vertex. The new vertex is inserted before the first farther vertex in the <code class="highlighted">vertices</code> array.

</p><p>This function is useful within custom <code class="highlighted">linkView</code> event listener definitions. The following example adds a new vertex on a double click event, instead of a pointerdown event (which is the default behavior):</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">pointerdblclick</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token operator">:</span> CustomLinkView
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.findLabelNode" class="docs-item">
        <a href="#dia.LinkView.prototype.findLabelNode" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.findLabelNode</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">findLabelNode</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>

<p>Return the root <i>SVGElement</i> of the label at given <b>index</b>. If label at <b>index</b> doesn't exist, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">findLabelNode</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> selector<span class="token punctuation">)</span></code></pre>

<p>Return an <i>SVGElement|HTMLElement</i> referenced by <b>selector</b> of the label at given <b>index</b>. If there is no label at <b>index</b> or no DOM node was found by the <b>selector</b>, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

<p>The available <code class="highlighted">selectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Link.labels">attribute of the label</a> from which the label was built.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.findLabelNodes" class="docs-item">
        <a href="#dia.LinkView.prototype.findLabelNodes" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.findLabelNodes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">findLabelNodes</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> groupSelector<span class="token punctuation">)</span></code></pre>

<p>Return an array of <i>SVGElement|HTMLElement</i> referenced by <b>groupSelector</b> of the label at given <b>index</b>. If there is no label at <b>index</b> or no DOM node was found by the <b>groupSelector</b>, an empty array is returned.</p>

<p>The available <code class="highlighted">groupSelectors</code> are defined by the <code class="highlighted">markup</code> <a href="#dia.Link.labels">attribute of the label</a> from which the label was built.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a bounding box of the link view.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the resulting bounding box is calculated based on the dimensions of the link model. (This means that a simplified polyline is used and portions of curved links may be <q>sticking out</q> of the reported bounding box.) This behavior is similar to the <code class="highlighted">link<span class="token punctuation">.</span>getBBox</code> <a href="#dia.Link.prototype.getBBox">function</a>  but the <code class="highlighted">linkView</code> function transforms the bounding box to match <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPoint" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the point on the connection that lies closest to <code class="highlighted">point</code>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPointLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPointLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPointLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPointLength</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the length of the connection up to the point that lies closest to <code class="highlighted">point</code>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPointRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPointRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPointRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPointRatio</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the ratio (normalized length) of the connection up to the point that lies closest to <code class="highlighted">point</code>. The returned value lies in the interval <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> (inclusive).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnection" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnection" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnection</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a geometric representation of the connection (instance of <a target="_blank" href="geometry.html#g.Path">g.Path</a>).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnectionLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnectionLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnectionLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnectionLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached total length of the connection in pixels.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnectionSubdivisions" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnectionSubdivisions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnectionSubdivisions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnectionSubdivisions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached array of segment subdivision arrays of the connection. (See <code class="highlighted">g<span class="token punctuation">.</span><span class="token class-name">Path</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">getSegmentSubdivisons</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a target="_blank" href="geometry.html#g.Path.prototype.getSegmentSubdivisions">documentation</a> for more information.)</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getLabelCoordinates" class="docs-item">
        <a href="#dia.LinkView.prototype.getLabelCoordinates" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getLabelCoordinates</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelCoordinates</span><span class="token punctuation">(</span>labelPosition<span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates based on the provided <code class="highlighted">labelPosition</code> object.</p>

<p>See <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.label">documentation</a> for more information about the <code class="highlighted">position</code> object.</p>

<p>An object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number <span class="token punctuation">}</span></code> is returned.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getLabelPosition" class="docs-item">
        <a href="#dia.LinkView.prototype.getLabelPosition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getLabelPosition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a label <code class="highlighted">position</code> object based on the <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates provided.</p>

<p>The function translates the provided coordinates and <code class="highlighted">angle</code> into an object with three fields:</p>

<ul>
    <li><code class="highlighted">distance</code> - the distance (following the line) of the point on the line that is closest to point <code class="highlighted">x<span class="token punctuation">,</span>y</code>.</li>
    <li><code class="highlighted">offset</code> - the distance between the closest point and the point <code class="highlighted">x<span class="token punctuation">,</span>y</code>.</li>
    <li><code class="highlighted">angle</code> - the angle of the label relative to the connection line, as determined by the <code class="highlighted">angle</code> parameter, or <code class="highlighted"><span class="token number">0</span></code> if <code class="highlighted">angle</code> was not specified.
</li></ul>

<p>By default, <code class="highlighted">position<span class="token punctuation">.</span>distance</code> is calculated as relative to <a href="#dia.LinkView.prototype.getConnectionLength">connection length</a> (as a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range that records the <a href="#dia.LinkView.prototype.getClosestPointRatio">length ratio</a>), and <code class="highlighted">position<span class="token punctuation">.</span>offset</code> is calculated as relative to the connection (as a number recording the <a href="geometry.html#g.Line.prototype.pointOffset">perpendicular distance</a>). The user may change this behavior by providing an <code class="highlighted">opt</code> object with some of the following accepted boolean flags:</p>

<ul>
    <li><code class="highlighted">absoluteDistance<span class="token operator">:</span> <span class="token boolean">true</span></code> - record <code class="highlighted">distance</code> absolutely (as <a href="#dia.LinkView.prototype.getClosestPointLength">absolute distance</a> from beginning of link, a positive number)</li>
    <li><code class="highlighted">reverseDistance<span class="token operator">:</span> <span class="token boolean">true</span></code> - if <code class="highlighted">absoluteDistance<span class="token operator">:</span> <span class="token boolean">true</span></code>, record <code class="highlighted">distance</code> absolutely from end of link (as a negative number)</li>
    <li><code class="highlighted">absoluteOffset<span class="token operator">:</span> <span class="token boolean">true</span></code> - record <code class="highlighted">offset</code> absolutely (as <code class="highlighted">x</code> and <code class="highlighted">y</code> distance from closest point)</li>
</ul>

<p>Please note that if the <code class="highlighted">absoluteOffset</code> flag is not set, label can only be placed/moved in the area that is reachable by lines perpendicular to the link (that is, the label can never be moved beyond link endpoints).</p>

<p>Two additional flags, which may be passed in the <code class="highlighted">opt</code> object, provide control over label rotation:</p>

<ul>
    <li><code class="highlighted">keepGradient<span class="token operator">:</span> <span class="token boolean">true</span></code> - adjust the rotation of the label to match the angle of incline of the path at <code class="highlighted">position<span class="token punctuation">.</span>distance</code></li>
    <li><code class="highlighted">ensureLegible<span class="token operator">:</span> <span class="token boolean">true</span></code> - if the label text ends up being upside-down, rotate the label by additional 180 degrees to ensure that the text stays legible, if <code class="highlighted">keepGradient</code></li>
</ul>

<p>The <code class="highlighted">opt</code> object passed to the label is recorded as <code class="highlighted">label<span class="token punctuation">.</span>position<span class="token punctuation">.</span>args</code>. The label uses these options during subsequent labelMove interactions.</p>

<p>An object in the following format is returned:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    distance<span class="token operator">:</span> number<span class="token punctuation">,</span>
    offset<span class="token operator">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token punctuation">,</span>
    angle<span class="token operator">:</span> number<span class="token punctuation">,</span>
    args<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        absoluteDistance<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
        reverseDistance<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// applied only when absoluteDistance is set</span>
        absoluteOffset<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
        keepGradient<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
        ensureLegible<span class="token operator">?</span><span class="token operator">:</span> boolean <span class="token comment">// applied only when keepGradient is set</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>See <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.label">documentation</a> for more information about the <code class="highlighted">position</code> object.</p>

<p>This function can be used to add a custom label to the <code class="highlighted">link<span class="token punctuation">.</span>labels</code> <a href="#dia.Link.prototype.labels">array</a>, in situations when the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.addLabel">function</a> is not sufficient. For example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">contextmenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> idx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// add at end of `labels`</span>
        <span class="token keyword">var</span> label <span class="token operator">=</span> <span class="token punctuation">{</span>
            markup<span class="token operator">:</span> <span class="token string">'&lt;g class="label">&lt;circle />&lt;path />&lt;/g>'</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
                circle<span class="token operator">:</span> <span class="token punctuation">{</span>
                    r<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                    fill<span class="token operator">:</span> <span class="token string">'lightgray'</span><span class="token punctuation">,</span>
                    stroke<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token operator">:</span> <span class="token number">2</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                path<span class="token operator">:</span> <span class="token punctuation">{</span>
                    d<span class="token operator">:</span> <span class="token string">'M 0 -15 0 -35 20 -35'</span><span class="token punctuation">,</span>
                    stroke<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    fill<span class="token operator">:</span> <span class="token string">'none'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            position<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                absoluteOffset<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                keepGradient<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                ensureLegible<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> label<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token operator">:</span> CustomLinkView
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getNodeBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getNodeBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getNodeBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (model of this link view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="#dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getNodeUnrotatedBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getNodeUnrotatedBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getNodeUnrotatedBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the unrotated bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (model of this link view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="#dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getPointAtLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getPointAtLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getPointAtLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getPointAtLength</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span></code></pre>
<p>Return the point on the path that lies <code class="highlighted">length</code> away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getPointAtRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getPointAtRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getPointAtRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getPointAtRatio</span><span class="token punctuation">(</span>ratio<span class="token punctuation">)</span></code></pre>
<p>Return the point on the path that lies <code class="highlighted">ratio</code> (normalized length) away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getSerializedConnection" class="docs-item">
        <a href="#dia.LinkView.prototype.getSerializedConnection" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getSerializedConnection</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getSerializedConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached path data of the connection (the value of the <code class="highlighted"><span class="token string">'d'</span></code> SVGPathElement attribute).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getTangentAtLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getTangentAtLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getTangentAtLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getTangentAtLength</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span></code></pre>
<p>Return a line tangent to the path at point that lies <code class="highlighted">length</code> away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getTangentAtRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getTangentAtRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getTangentAtRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getTangentAtRatio</span><span class="token punctuation">(</span>ratio<span class="token punctuation">)</span></code></pre>
<p>Return a line tangent to the path at point that lies <code class="highlighted">ratio</code> (normalized length) away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getVertexIndex" class="docs-item">
        <a href="#dia.LinkView.prototype.getVertexIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getVertexIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getVertexIndex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">vertices</code> array index at which to insert a new vertex with the provided <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates.</p>

<p>The linkView finds the point on the connection that lies closest to the point <code class="highlighted">x<span class="token punctuation">,</span>y</code>. Then, the linkView iterates over the vertices in the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">array</a> until one is found that lies farther than the identified closest point. The index of the farther point is returned.</p>

<p>The returned index can be used as the first argument of the <code class="highlighted">link<span class="token punctuation">.</span>addVertex</code> <a href="#dia.Link.prototype.addVertex">function</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.hasTools" class="docs-item">
        <a href="#dia.LinkView.prototype.hasTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.hasTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link view has a tools view attached.</p>

<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link view has a tools view of the provided <code class="highlighted">name</code> attached.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.hideTools" class="docs-item">
        <a href="#dia.LinkView.prototype.hideTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.hideTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.removeRedundantLinearVertices" class="docs-item">
        <a href="#dia.LinkView.prototype.removeRedundantLinearVertices" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.removeRedundantLinearVertices</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">removeRedundantLinearVertices</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove any redundant vertices from the model's <code class="highlighted">vertices</code> array. Return the number of removed vertices.</p>

<p>A vertex is considered <q>redundant</q> if it lies on the straight line formed by the vertex that immediately precedes it and the vertex that immediately follows it. (Intuitively speaking, a vertex is considered <q>redundant</q> if its removal from the link does not change the shape of the link.)</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.removeTools" class="docs-item">
        <a href="#dia.LinkView.prototype.removeTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.removeTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">removeTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove the tools view attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.requestConnectionUpdate" class="docs-item">
        <a href="#dia.LinkView.prototype.requestConnectionUpdate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.requestConnectionUpdate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">requestConnectionUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Schedule an update of the connection (anchors, connection points, route and connector) of this link view in the next animation frame (for paper <code class="highlighted"><span class="token keyword">async</span></code> mode) or run immediately (for paper <code class="highlighted">sync</code> mode). Useful for links with an automatic router (such as <code class="highlighted">manhattan</code>) if the route has to be recalculated due to another element in the graph changing its position.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sendToken" class="docs-item">
        <a href="#dia.LinkView.prototype.sendToken" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sendToken</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">sendToken</span><span class="token punctuation">(</span>token <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Send a token along the link. <code class="highlighted">token</code> is an SVG element (or Vectorizer element) that will be animated along the link path for <code class="highlighted">opt<span class="token punctuation">.</span>duration</code> milliseconds (default is 1000ms). The <code class="highlighted">callback</code> function will be called once the token reaches the end of the link path.</p>

<p><code class="highlighted">opt<span class="token punctuation">.</span>direction</code> specifies whether the animation should be played forwards (<code class="highlighted"><span class="token string">'normal'</span></code> - from the link source to target, the default) or backwards (<code class="highlighted"><span class="token string">'reverse'</span></code>).</p>

<p>Use <code class="highlighted">opt<span class="token punctuation">.</span>connection</code> to specify the SVGPathElement for the token to follow. It expects a string selector, e.g. <code class="highlighted"><span class="token string">'.connection'</span></code>.</p>

<pre><code class="highlighted"><span class="token comment">// Send an SVG circle token along the link.</span>
<span class="token keyword">var</span> vCircle <span class="token operator">=</span> <span class="token constant">V</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> r<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> fill<span class="token operator">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sendToken</span><span class="token punctuation">(</span>vCircle<span class="token punctuation">,</span> <span class="token punctuation">{</span> duration<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> direction<span class="token operator">:</span> <span class="token string">'reverse'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animation end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Note that in the code above, we use the <a href="vectorizer.html">Vectorizer</a> mini-library to create the SVG <code class="highlighted">circle</code> element.</p>

<p>See the <a href="https://www.jointjs.com/demos/petri-nets">Petri Net simulator demo</a> for a full working example.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.showTools" class="docs-item">
        <a href="#dia.LinkView.prototype.showTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.showTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourceAnchor" class="docs-item">
        <a href="#dia.LinkView.prototype.sourceAnchor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourceAnchor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourceAnchor</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the source anchor of the link, as determined by the <a href="#dia.Link.geometry.anchor">anchor function</a> specified on the link's <a href="#dia.Link.geometry.source">source</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourceBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.sourceBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourceBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourceBBox</code></pre>
<p>A prototype variable. Contains a g.Rect that records the position and dimensions of the bounding box of the source magnet (element/subelement/port), as determined by the link's <a href="#dia.Link.geometry.source">source definition</a>.</p>

<p>If the source is defined as a point, a g.Rect is returned that records the position of the point and has the dimensions (1,1).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourcePoint" class="docs-item">
        <a href="#dia.LinkView.prototype.sourcePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourcePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourcePoint</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the source connection point of the link, as determined by the <a href="#dia.Link.geometry.connectionPoint">connection point function</a> specified on the link's <a href="#dia.Link.geometry.source">source</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetAnchor" class="docs-item">
        <a href="#dia.LinkView.prototype.targetAnchor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetAnchor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetAnchor</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the target anchor of the link, as determined by the <a href="#dia.Link.geometry.anchor">anchor function</a> specified on the link's <a href="#dia.Link.geometry.target">target</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.targetBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetBBox</code></pre>
<p>A prototype variable. Contains a g.Rect that records the position and dimensions of the bounding box of the target magnet (element/subelement/port), as determined by the link's <a href="#dia.Link.geometry.target">target definition</a>.</p>

<p>If the target is defined as a point, a g.Rect is returned that records the position of the point and has the dimensions (1,1).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetPoint" class="docs-item">
        <a href="#dia.LinkView.prototype.targetPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetPoint</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the target connection point of the link, as determined by the <a href="#dia.Link.geometry.conenctionPoint">connection point function</a> specified on the link's <a href="#dia.Link.geometry.target">target</a>.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Paper" class="docs-item">
    <div id="dia.Paper.constructor" class="docs-item">
        <a href="#dia.Paper.constructor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Paper.constructor</h4>
        </a>
        <div class="docs-item-content">
<p>
    <b>joint.dia.Paper</b> is the view for the <a href="#dia.Graph"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code></a> model.
    It inherits from <a href="#mvc.View">mvc.View</a>.
    Accepts an <code class="highlighted">options</code> object in its constructor with <a href="#dia.Paper.prototype.options">numerous settings</a>.
</p>

<p>When a paper is associated with a graph, the paper makes sure that all the cells added to the graph are automatically rendered.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#paper'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
    gridSize<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    model<span class="token operator">:</span> graph
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">40</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Paper automatically handles this change and renders the rectangle to the SVG document that it internally holds.</p>

        </div>
    </div>
    <div id="dia.Paper.events" class="docs-item">
        <a href="#dia.Paper.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Paper.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on in a paper:</p>
<table>
  <tr>
    <th>pointerdblclick</th>
    <td>
      <p>Triggered when pointer is double-clicked on a target (a <code class="highlighted">dblclick</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on a link.</td>
        </tr>
        <tr>
          <th>element:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerdblclick</th>
          <td>
            <p>Triggered when pointer is double-clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerclick</th>
    <td>
      <p>Triggered when pointer is left-clicked on a target without pointer movement (a <code class="highlighted">click</code> or <code class="highlighted">touchend</code> event is detected). Occurs alongside <code class="highlighted">pointerdown</code> and <code class="highlighted">pointerup</code> events.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerclick</th>
          <td>Triggered when pointer is clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerclick</th>
          <td>Triggered when pointer is clicked on a link. </td>
        </tr>
        <tr>
          <th>element:pointerclick</th>
          <td>Triggered when pointer is clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerclick</th>
          <td>
            <p>Triggered when pointer is clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>contextmenu</th>
    <td>
      <p>Triggered when pointer is right-clicked on a target. This trigger is fired on a <code class="highlighted">mousedown</code> event and it does not depend on different implementations of the <code class="highlighted">contextmenu</code> event.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:contextmenu</th>
          <td>Triggered when pointer is right-clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:contextmenu</th>
          <td>Triggered when pointer is right-clicked on a link.</td>
        </tr>
        <tr>
          <th>element:contextmenu</th>
          <td>Triggered when pointer is right-clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:contextmenu</th>
          <td>
            <p>Triggered when pointer is right-clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerdown</th>
    <td>
      <p>Triggered when pointer is pressed down on a target (a <code class="highlighted">mousedown</code> or <code class="highlighted">touchstart</code> event is detected). The paper also starts delegating respective <code class="highlighted">pointermove</code> and <code class="highlighted">pointerup</code> events (including their touch counterparts; see below).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerdown</th>
          <td>Triggered when pointer is pressed down on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerdown</th>
          <td>Triggered when pointer is pressed down on a link.</td>
        </tr>
        <tr>
          <th>element:pointerdown</th>
          <td>Triggered when pointer is pressed down on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerdown</th>
          <td>
            <p>Triggered when pointer is pressed down on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointermove</th>
    <td>
      <p>Triggered when pointer is moved over a target while pressed down (a <code class="highlighted">mousemove</code> or <code class="highlighted">touchmove</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointermove</th>
          <td>Triggered when pointer is moved over a cell.</td>
        </tr>
        <tr>
          <th>link:pointermove</th>
          <td>Triggered when pointer is moved over a link.</td>
        </tr>
        <tr>
          <th>element:pointermove</th>
          <td>Triggered when pointer is moved over an element.</td>
        </tr>
        <tr>
          <th>blank:pointermove</th>
          <td>
            <p>Triggered when pointer is moved over the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerup</th>
    <td>
      <p>Triggered when pointer is released on a target after being pressed down (a <code class="highlighted">mouseup</code> or <code class="highlighted">touchend</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerup</th>
          <td>Triggered when pointer is released on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerup</th>
          <td>Triggered when pointer is relased on a link.</td>
        </tr>
        <tr>
          <th>element:pointerup</th>
          <td>Triggered when pointer is released on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerup</th>
          <td>
            <p>Triggered when pointer is released on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
      <p>Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering a subsequent <code class="highlighted">pointerclick</code> event.</p>
    </td>
  </tr>
  <tr>
    <th>mouseover</th>
    <td>
      <p>Triggered when pointer begins to hover directly over a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseover</th>
          <td>Triggered when pointer begins to hover directly over a cell.</td>
        </tr>
        <tr>
          <th>link:mouseover</th>
          <td>Triggered when pointer begins to hover directly over a link.</td>
        </tr>
        <tr>
          <th>element:mouseover</th>
          <td>Triggered when pointer begins to hover directly over an element.</td>
        </tr>
        <tr>
          <th>blank:mouseover</th>
          <td>
            <p>Triggered when pointer begins to hover over the <code class="highlighted">svg</code> element of the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseout</th>
    <td>
      <p>Triggered when pointer ceases to hover directly over a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over a cell.</td>
        </tr>
        <tr>
          <th>link:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over a link.</td>
        </tr>
        <tr>
          <th>element:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over an element.</td>
        </tr>
        <tr>
          <th>blank:mouseout</th>
          <td>
            <p>Triggered when pointer ceases to hover over the <code class="highlighted">svg</code> element of the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseenter</th>
    <td>
      <p>Triggered when pointer enters the area above a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseenter</th>
          <td>Triggered when pointer enters the area above a cell.</td>
        </tr>
        <tr>
          <th>link:mouseenter</th>
          <td>Triggered when pointer enters the area above a link.</td>
        </tr>
        <tr>
          <th>element:mouseenter</th>
          <td>Triggered when pointer enters the area above an element.</td>
        </tr>
        <tr>
          <th>paper:mouseenter</th>
          <td>
            <p>Triggered when pointer enters the area of the paper (including paper border, if present).</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseleave</th>
    <td>
      <p>Triggered when pointer leaves the area above a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseleave</th>
          <td>Triggered when pointer leaves the area above a cell.</td>
        </tr>
        <tr>
          <th>link:mouseleave</th>
          <td>Triggered when pointer leaves the area above a link.</td>
        </tr>
        <tr>
          <th>element:mouseleave</th>
          <td>Triggered when pointer leaves the area above an element.</td>
        </tr>
        <tr>
          <th>paper:mouseleave</th>
          <td>
            <p>Triggered when pointer leaves the area of the paper (including paper border, if present).</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mousewheel</th>
    <td>
      <p>Triggered when mouse wheel is rotated while pointer is on a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and <code class="highlighted">delta</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on a cell.</td>
        </tr>
        <tr>
          <th>link:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on a link.</td>
        </tr>
        <tr>
          <th>element:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on an element.</td>
        </tr>
        <tr>
          <th>blank:mousewheel</th>
          <td>
            <p>Triggered when mouse wheel is rotated while the pointer is on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and <code class="highlighted">delta</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pan</th>
    <td>
      <p>Triggered when a pan event is emitted while the pointer is on top of the target. Pan events are similar to mousewheel events, but while mousewheel events cover only the Y axis, pan events cover both X and Y axis. This is usually possible with touchpads / trackpad devices.</p>
      <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">deltaX</code> and <code class="highlighted">deltaY</code> as arguments.</p>
      <table>
        <tr>
          <th>paper:pan</th>
          <td>
            <p>Triggered when a pan event is emitted while the pointer is on the paper or any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">deltaX</code> and <code class="highlighted">deltaY</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pinch</th>
    <td>
      <p>Triggered when a pinch event is emitted while the pointer is on top of the target. This is usually possible with touchpads / trackpad devices.</p>
      <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and <code class="highlighted">scale</code> as arguments.</p>
      <table>
        <tr>
          <th>paper:pinch</th>
          <td>
            <p>Triggered when a pinch event is emitted while the pointer is on the paper or any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> <code class="highlighted">y</code> and <code class="highlighted">scale</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>magnet</th>
      <td>
        <p>Triggered when interacting with a magnet target.</p>
        <p>The callback function is passed <code class="highlighted">elementView</code>, <code class="highlighted">evt</code>, <code class="highlighted">magnetSVGElement</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> as arguments.</p>
        <table>

          <tr>
            <th>element:magnet:pointerdown</th>
            <td>Triggered when pointer is pressed down on a magnet element.</td>
          </tr>
          <tr>
            <th>element:magnet:pointermove</th>
            <td>Triggered when pointer is moved after pointerdown on the magnet element.</td>
          </tr>
          <tr>
            <th>element:magnet:pointerup</th>
            <td>Triggered when pointer is released after pointerdown on the magnet element.</td>
          </tr>
          <tr>
            <th>element:magnet:pointerclick</th>
            <td>Triggered when pointer is clicked on an element magnet and no link was created yet from this magnet (controlled by <a href="#dia.Paper.prototype.options.magnetThreshold">magnetThreshold</a> option). Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token operator">:</span>pointerclick</code> and <code class="highlighted">element<span class="token operator">:</span>pointerclick</code> events.</td>
          </tr>
          <tr>
            <th>element:magnet:pointerdblclick</th>
            <td>Triggered when pointer is double-clicked on an element magnet. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token operator">:</span>pointerdblclick</code> and <code class="highlighted">element<span class="token operator">:</span>pointerdblclick</code> events.</td>
          </tr>
          <tr>
            <th>element:magnet:contextmenu</th>
            <td>Triggered when pointer is right-clicked on an element magnet. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token operator">:</span>contextmenu</code> and <code class="highlighted">element<span class="token operator">:</span>contextmenu</code> events.</td><td>
          </td></tr>
        </table>
      </td>
    </tr>
  <tr>
    <th>cell:highlight</th>
    <td>
      <p>Triggered when the <code class="highlighted">cellView<span class="token punctuation">.</span>highlight</code> <a href="#dia.CellView.prototype.highlight">method</a> is called on a link or element view.</p>
      <p>The callback function is invoked with the following arguments:</p>
      <ul>
        <li><b>cellView</b> - highlighted CellView</li>
        <li><b>node</b> - highlighted node (SVGElement) of the CellView</li>
        <li><b>options</b> - options used when <code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> was called. The <code class="highlighted">type</code> property is added to the option object and specifies what type of <a href="#dia.Paper.prototype.options.highlighting">highlighting interactions</a> caused the highlight.</li>
      </ul>
      <pre><code class="highlighted"><span class="token comment">// Disable built-in highlighting</span>
paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>highlighting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// Handle each type of the highlight manually</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span><span class="token operator">:</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">CONNECTING</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token string">'id1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> attrs<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span><span class="token operator">:</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token string">'id2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> attrs<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token string">'id3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </td>
  </tr>
  <tr>
    <th>cell:unhighlight</th>
    <td>
      <p>Triggered when the <code class="highlighted">cellView<span class="token punctuation">.</span>unhighlight</code> <a href="#dia.CellView.prototype.unhighlight">method</a> is called on a link or element view.</p>
      <p>The callback function is invoked with the following arguments:</p>
      <ul>
        <li><b>cellView</b> - highlighted CellView</li>
        <li><b>node</b> - highlighted node (SVGElement) of the CellView</li>
        <li><b>options</b> - options used when <code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">unhighlight</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> was called. The <code class="highlighted">type</code> property is added to the option object and specifies what type of <a href="#dia.Paper.prototype.options.highlighting">highlighting interactions</a> caused the unhighlight.</li>
      </ul>
      <pre><code class="highlighted"><span class="token comment">// Disable built-in highlighting</span>
paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>highlighting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// Handle each type of the highlight manually</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:unhighlight'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> _node<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span><span class="token operator">:</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">CONNECTING</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighter<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'id1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span><span class="token operator">:</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighter<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'id2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Highlighter<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'id3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </td>
  </tr>
  <tr>
    <th>cell:highlight:invalid</th>
    <td>
      <p>Triggered when a highlighter makes an attempt to highlight a node, that doesn't exist on the CellView (e.g. a port was highlighted and now it is removed).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">highlighterId</code> and <code class="highlighted">highlighter</code> as arguments.</p>
      <pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight:invalid'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Remove the invalid highlighter</span>
  joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element1<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'port1'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> elementView1 <span class="token operator">=</span> element1<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> highlighter1 <span class="token operator">=</span> joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView1<span class="token punctuation">,</span> <span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token string">'port1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'highlighter-id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The following line will trigger the event with (elementView1, 'highlighter-id', highlighter1) arguments.</span>
element1<span class="token punctuation">.</span><span class="token function">removePorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </td>
  </tr>
  <tr>
    <th>link:connect</th>
    <td>
      <p>Triggered when a link is connected to a cell. The event is triggered after the user reconnects a link.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewConnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>link:disconnect</th>
    <td>
      <p>Triggered when a link is disconnected from a cell. The event is triggered after the user reconnects a link.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewDisconnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>link:snap:connect</th>
    <td>
      <p>Triggered when a link is connected to a cell. The event (or multiple events) can be triggered while the user is reconnecting a link and <a href="#dia.Paper.prototype.options.snapLinks">snapLinks</a> option is enabled.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewConnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>link:snap:disconnect</th>
    <td>
      <p>Triggered when a link is disconnected from a cell. The event (or multiple events) can be triggered while the user is reconnecting a link and <a href="#dia.Paper.prototype.options.snapLinks">snapLinks</a> option is enabled.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewDisconnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>render:done</th>
    <td>
      <p>Triggered when all scheduled updates are done (i.e. all scheduled batches have finished).</p>
    </td>
  </tr>
  <tr>
    <th>[custom]</th>
    <td>
      <p>Custom cell event can be triggered on pointerdown with <a href="#dia.attributes.event">Event</a> attribute. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering all subsequent events.</p>
    </td>
  </tr>
</table>

<p>An example of a simple <code class="highlighted">blank<span class="token operator">:</span>pointerdown</code> event listener:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerdown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'pointerdown on a blank area in the paper.'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

<p>Consecutive <code class="highlighted">pointerdown</code>, <code class="highlighted">pointermove</code> and <code class="highlighted">pointerup</code> events can share information through the <code class="highlighted">evt<span class="token punctuation">.</span>data</code> object:</p>

<pre><code class="highlighted"><span class="token comment">// Create a new link by dragging</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'blank:pointerdown'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    evt<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span> link<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'blank:pointermove'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'blank:pointerup'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>x <span class="token operator">===</span> target<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>y <span class="token operator">===</span> target<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// remove zero-length links</span>
        evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype" class="docs-item">
    <div id="dia.Paper.prototype.checkViewport" class="docs-item">
        <a href="#dia.Paper.prototype.checkViewport" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.checkViewport</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">checkViewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>For every view in the paper, determine if it fits into the viewport specified by <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a> function. Views that fit (views for which that function returns <code class="highlighted"><span class="token boolean">true</span></code>) are attached to the DOM; views that do not are detached.</p>

<p>While <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers do this automatically, synchronous papers require an explicit call to this method for this functionality to be applied. To show all views again, use <a href="#dia.Paper.prototype.dumpViews"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">dumpViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>.</p>

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">checkViewport</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code></pre>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>viewport</code> is provided, it is used as the callback function instead of <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a>. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.viewport">option's documentation</a>, as are examples of usage.</p>

<p>In <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers, providing <code class="highlighted">opt<span class="token punctuation">.</span>viewport</code> causes viewport to be temporarily recalculated according to the provided callback function. This may be useful in situations where you need to show different views depending on context (e.g. viewing a section of the diagram vs. printing all of it).</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientOffset" class="docs-item">
        <a href="#dia.Paper.prototype.clientOffset" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientOffset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns coordinates of the paper viewport, relative to the application's client area.
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.clientToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform client coordinates represented by point <code class="highlighted">p</code> to the paper local coordinates.
    This is especially useful when you have a mouse event object and want coordinates
    inside the paper that correspond to event <code class="highlighted">clientX</code> and <code class="highlighted">clientY</code> point.
    <pre><code class="highlighted"><span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> evt<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> y<span class="token operator">:</span> evt<span class="token punctuation">.</span>clientY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.clientToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the client coordinate system to the local coordinate system.
<pre><code class="highlighted"><span class="token keyword">var</span> bcr <span class="token operator">=</span> paper<span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span> y<span class="token operator">:</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span> width<span class="token operator">:</span> bcr<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token operator">:</span> bcr<span class="token punctuation">.</span>height <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span>bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move the element to the center of the paper viewport.</span>
<span class="token keyword">var</span> localCenter <span class="token operator">=</span> localRect1<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> elSize <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localCenter<span class="token punctuation">.</span>x <span class="token operator">-</span> elSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localCenter<span class="token punctuation">.</span>y <span class="token operator">-</span> elSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineFilter" class="docs-item">
        <a href="#dia.Paper.prototype.defineFilter" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineFilter</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineFilter</span><span class="token punctuation">(</span>filterDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG filter for later reuse within the paper. The method returns the filter id and the <code class="highlighted">filterDefinition</code> must have the following form:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token operator">&lt;</span>name <span class="token keyword">of</span> the filter<span class="token operator">></span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token operator">&lt;</span>filter arguments<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre>

<p>Where <code class="highlighted">name</code> is the name of the filter. See below for the list of built-in filters. <code class="highlighted">args</code> is an object containing filter parameters. These parameters are dependent on the filter used and are described in the list below as well. Example usage:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> filterId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineFilter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dropShadow'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        dx<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        blur<span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

svgNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'filter'</span><span class="token punctuation">,</span> <span class="token string">'url(#'</span> <span class="token operator">+</span> filterId <span class="token operator">+</span> '<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>The following is the list of built-in filters. All these filters are defined in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>filter</code> namespace. This namespace can be extended simply by adding a new method to it with one argument, an object with filter parameters, returning a string representing the SVG filter definition.</p>
<ul>
    <li><code class="highlighted">blur</code>
        <ul>
            <li><code class="highlighted">x</code> - horizontal blur</li>
            <li><code class="highlighted">y</code> - vertical blur [optional, if not defined <code class="highlighted">y</code> is the same as <code class="highlighted">x</code>]</li>
        </ul>
    </li>
    <li><code class="highlighted">dropShadow</code>
        <ul>
            <li><code class="highlighted">dx</code> - horizontal shift</li>
            <li><code class="highlighted">dy</code> - vertical shift</li>
            <li><code class="highlighted">blur</code> - blur</li>
            <li><code class="highlighted">color</code> - color</li>
            <li><code class="highlighted">opacity</code> - opacity</li>
        </ul>
    </li>
    <li><code class="highlighted">grayscale</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely grayscale. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">sepia</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely sepia. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">saturate</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> is completely un-saturated. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">hueRotate</code>
        <ul>
            <li><code class="highlighted">angle</code> - the number of degrees around the color circle the input samples will be adjusted</li>
        </ul>
    </li>
    <li><code class="highlighted">invert</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely inverted. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">brightness</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> makes the element completely black. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">contrast</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> makes the element completely black. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
</ul>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineGradient" class="docs-item">
        <a href="#dia.Paper.prototype.defineGradient" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineGradient</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineGradient</span><span class="token punctuation">(</span>gradientDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG gradient for later reuse within the paper. The method returns the gradient id and the <code class="highlighted">gradientDefinition</code> must be an object with the following properties:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>type</td>
        <td><code class="highlighted"><span class="token string">'linearGradient'</span></code> | <code class="highlighted"><span class="token string">'radialGradient'</span></code></td>
        <td>The <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/linearGradient">linearGradient</a> or <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/radialGradient">radialGradient</a> type of the gradient.</td>
    </tr>
    <tr>
        <td>id</td>
        <td>string</td>
        <td><i>(optional)</i> - A unique identifier of the gradient. The <i>id</i> is generated if none provided.</td>
    </tr>
    <tr>
        <td>attrs</td>
        <td>object</td>
        <td><i>(optional)</i> - Additional SVG attributes for the <i>SVGGradientElement</i>.</td>
    </tr>
    <tr>
        <td>stops</td>
        <td>array</td>
        <td>An array of <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/stop">stops</a>.</td>
    </tr>
</table>

<p>Where a <code class="highlighted">stop</code> is an object with the following properties:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>color</td>
        <td>string</td>
        <td>Indicates what color to use at that gradient stop.</td>
    </tr>
    <tr>
        <td>offset</td>
        <td>number | string</td>
        <td>The offset of the gradient stop.</td>
    </tr>
    <tr>
        <td>opacity</td>
        <td>number</td>
        <td><i>(optional)</i> - A number in the <i>[0..1]</i> range representing the transparency of the stop color.</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">const</span> gradientId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineGradient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'linearGradient'</span><span class="token punctuation">,</span>
    stops<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#E67E22'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#D35400'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'40%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#E74C3C'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'60%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#C0392B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token string">'80%'</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#F39C12'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

svgNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>gradientId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>For an introduction to gradients, please refer to the tutorial on <a href="https://resources.jointjs.com/tutorial/filters-gradients">Filters and Gradients</a>.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineMarker" class="docs-item">
        <a href="#dia.Paper.prototype.defineMarker" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineMarker</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span>markerDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG marker for later reuse within the paper. The method returns the marker id. The <code class="highlighted">markerDefinition</code> parameter can be an object with the following properties:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>id</td>
        <td>string</td>
        <td><i>(optional)</i> - A unique identifier of the marker. The <i>id</i> is generated if none provided.</td>
    </tr>
    <tr>
        <td>attrs</td>
        <td>object</td>
        <td><i>(optional)</i> - Additional SVG attributes for the <i>SVGMarkerElement</i>.</td>
    </tr>
    <tr>
        <td>markup</td>
        <td>string&nbsp;|&nbsp;array</td>
        <td>JSON or string <a href="#dia.Cell.markup">markup</a> of the marker content.</td>
    </tr>
</table>

<p>The coordinate system for defining path data within <code class="highlighted">marker</code> is as follows:</p>

<table>
  <tr>
    <th>Point (<code class="highlighted">x<span class="token punctuation">,</span>y</code>)</th>
    <th>Relative position</th>
  </tr>
  <tr>
    <td><code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code></td>
    <td>At <code class="highlighted">marker<span class="token operator">-</span>start</code>, <code class="highlighted">marker<span class="token operator">-</span>end</code> or <code class="highlighted">marker<span class="token operator">-</span>mid</code> point, as appropriate.</td>
  </tr>
  <tr>
    <td rowspan="2"><code class="highlighted">n<span class="token punctuation">,</span><span class="token number">0</span></code></td>
    <td>If <code class="highlighted">n <span class="token operator">></span> <span class="token number">0</span></code>, position along path direction (i.e. start -&gt; end).</td>
  </tr>
  <tr>
    <!--n,0-->
    <td>If <code class="highlighted">n <span class="token operator">&lt;</span> <span class="token number">0</span></code>, position opposite to path direction (i.e. start &lt;- end).</td>
  </tr>
  <tr>
    <td rowspan="2"><code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span>m</code></td>
    <td>If <code class="highlighted">m <span class="token operator">></span> <span class="token number">0</span></code>, position to the right of path direction.</td>
  </tr>
  <tr>
    <!--0,m-->
    <td>If <code class="highlighted">m <span class="token operator">&lt;</span> <span class="token number">0</span></code>, position to the left of path direction.</td>
  </tr>
</table>

<p>An example of JSON markup with <code class="highlighted">id</code> specified:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-marker'</span><span class="token punctuation">,</span>
  markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'cx'</span><span class="token operator">:</span> <span class="token string">'6'</span><span class="token punctuation">,</span>
      <span class="token string">'cy'</span><span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
      <span class="token string">'r'</span><span class="token operator">:</span> <span class="token string">'12'</span><span class="token punctuation">,</span>
      <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#7b5cce'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'polygon'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'points'</span><span class="token operator">:</span> <span class="token string">'0,0 6,6 12,0 6,-6'</span><span class="token punctuation">,</span>
      <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#d63865'</span><span class="token punctuation">,</span>
      <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#fff'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Draw the shape at the start of a path</span>
svgPathNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-start'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#my-marker)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The same example in string markup:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'my-marker'</span><span class="token punctuation">,</span>
  markup<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;circle cx="6" cy="0" r="12" fill="#7b5cce" />
    &lt;polygon points="0,0 6,6 12,0 6,-6" fill="#d63865" stroke="#fff" />
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Draw the shape at the end of a path</span>
svgPathNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-start'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#my-marker)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Alternatively, defining a marker is possible via a flat object with the following properties:</p>

<table>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  <tr>
      <td>id</td>
      <td>string</td>
      <td><i>(optional)</i> - A unique identifier of the marker. The <i>id</i> is generated if none provided.</td>
  </tr>
  <tr>
      <td>type</td>
      <td>string</td>
      <td><i>(optional)</i> - The type of the SVGElement to generate to represent the marker (<code class="highlighted"><span class="token string">'path'</span></code>, <code class="highlighted"><span class="token string">'circle'</span></code>, <code class="highlighted"><span class="token string">'ellipse'</span></code>, <code class="highlighted"><span class="token string">'rect'</span></code>, <code class="highlighted"><span class="token string">'polyline'</span></code> and <code class="highlighted"><span class="token string">'polygon'</span></code>). Default is <code class="highlighted"><span class="token string">'path'</span></code>.</td>
  </tr>
  <tr>
      <td>[SVGAttribute]</td>
      <td>any</td>
      <td><i>(optional)</i> - A presentation SVG attribute (e.g <code class="highlighted">fill<span class="token operator">:</span> <span class="token string">'red'</span></code>) to be applied on the generated SVGElement (see <code class="highlighted">type</code>).</td>
  </tr>
</table>

<p>The coordinate system for defining path data is the same as above.</p>

<p>An example of specifying marker content via a flat object and referring to it in code via its automatically-generated <code class="highlighted">id</code>:

<pre><code class="highlighted"><span class="token keyword">const</span> markerId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span> <span class="token comment">// SVG Path</span>
  fill<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
  stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
  d<span class="token operator">:</span> <span class="token string">'M 10 -10 0 0 10 10 Z'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Draw an arrow at the start and the end of a path</span>
svgPathNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-start'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
svgPathNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-end'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </p></div>
    </div>
    <div id="dia.Paper.prototype.definePattern" class="docs-item">
        <a href="#dia.Paper.prototype.definePattern" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.definePattern</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">definePattern</span><span class="token punctuation">(</span>patternDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG pattern for later reuse within the paper. The method returns the pattern id and the <code class="highlighted">patternDefinition</code> must be an object with the following properties:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>id</td>
        <td>string</td>
        <td><i>(optional)</i> - A unique identifier of the pattern. The <i>id</i> is generated if none provided.</td>
    </tr>
    <tr>
        <td>attrs</td>
        <td>object</td>
        <td><i>(optional)</i> - Additional SVG attributes for the <i>SVGGradientElement</i>.</td>
    </tr>
    <tr>
        <td>markup</td>
        <td>string | array</td>
        <td>String or JSON <a href="#dia.Cell.markup">Markup</a> of the pattern content.</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">const</span> patternId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">definePattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'polygon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            points<span class="token operator">:</span> <span class="token string">'0,0 2,5 0,10 5,8 10,10 8,5 10,0 5,2'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

svgNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>patternId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.drawBackground" class="docs-item">
        <a href="#dia.Paper.prototype.drawBackground" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.drawBackground</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">drawBackground</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Sets the paper background defined by the <code class="highlighted">opt</code> object. Please see the <a href="#dia.Paper.prototype.options.background">background</a> paper option for available configuration.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.dumpViews" class="docs-item">
        <a href="#dia.Paper.prototype.dumpViews" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.dumpViews</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">dumpViews</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add all paper views into the DOM and update them to make sure that the views reflect the cells' models.</p>

<p>Several extra arguments may be provided in the <code class="highlighted">opt</code> object:</p>

<table>
    <tr>
        <td>batchSize</td>
        <td><i>number</i></td>
        <td>For <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers, how many views should there be per one asynchronous process? Default is <code class="highlighted"><span class="token number">1000</span></code>.</td>
    </tr>
    <tr>
        <td>progress</td>
        <td><i>function</i></td>
        <td>Callback function that is called whenever a batch is finished processing. The callback function is provided with three arguments:
            <table>
                <tr>
                    <td>done</td>
                    <td><i>boolean</i></td>
                    <td>Are we done? Was this the last batch?</td>
                </tr>
                <tr>
                    <td>processed</td>
                    <td><i>number</i></td>
                    <td>How far along are we? How many elements have been processed as part of a batch so far?</td>
                </tr>
                <tr>
                    <td>total</td>
                    <td><i>number</i></td>
                    <td>How many views are there? How many elements in will have been processed as part of a batch when we are done?</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>viewport</td>
        <td><i>function</i></td>
        <td>Callback function to determine whether a given view should be added to the DOM. By default, <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a> is used, but you may provide a different callback function. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.viewport">option's documentation</a>, as are examples of usage.
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.findView" class="docs-item">
        <a href="#dia.Paper.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Find a view (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>) associated with a DOM element in the paper. <code class="highlighted">element</code> can either be a DOM element, or a CSS selector.
                    Sometimes, it is useful to find a view object for an element in the DOM. This method finds the closest view for any subelement of a view element.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.findViewByModel" class="docs-item">
        <a href="#dia.Paper.prototype.findViewByModel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewByModel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span></code></pre><p>Find a view (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>) associated with a model. <code class="highlighted">model</code> can either be an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>.</p>
        </div>
    </div>
    <div id="dia.Paper.prototype.findViewsFromPoint" class="docs-item">
        <a href="#dia.Paper.prototype.findViewsFromPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewsFromPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewsFromPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre><p>Find views (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>) under a certain point in the paper. <code class="highlighted">point</code> is an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. Returns an
                array of views whose bounding box contains <code class="highlighted">point</code>. Note that there can be more then one views as views might overlap. Note there is a difference between
                this method and the <a href="#dia.Graph.prototype.findModelsFromPoint">joint.dia.Graph:findModelsFromPoint</a>. A bounding box of a view can be different than the area computed by an element model <code class="highlighted">position</code> and <code class="highlighted">size</code>.
                For example, if a <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> SVG element in the shape is positioned relatively and shifted down below the normal shape area (e.g. using the <a href="#dia.attributes">JointJS special attributes</a>), the bounding box
                of the view will be bigger than that of the model.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.findViewsInArea" class="docs-item">
        <a href="#dia.Paper.prototype.findViewsInArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewsInArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewsInArea</span><span class="token punctuation">(</span>rect <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Find views (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>) in a certain area in the paper.
                  <code class="highlighted">rect</code> is an object with <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">width</code> and <code class="highlighted">height</code> properties.
                  Return an array of views whose bounding box intersects the <code class="highlighted">rect</code> rectangle.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>strict</code> is <code class="highlighted"><span class="token boolean">true</span></code>, return an array of views whose bounding box is contained within the <code class="highlighted">rect</code> rectangle (i.e. not only intersects it).
                </p>
        </div>
    </div>
    <div id="dia.Paper.prototype.fitToContent" class="docs-item">
        <a href="#dia.Paper.prototype.fitToContent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.fitToContent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Expand or shrink the paper to fit the content inside it. The method returns the area (<code class="highlighted">g<span class="token punctuation">.</span>Rect</code>) of the paper after fitting in local coordinates.</p>

<p>The list of all available options can be found in the documentation of the <code class="highlighted">paper<span class="token punctuation">.</span>getFitToContentArea</code> <a href="#dia.Paper.prototype.getFitToContentArea">function</a>. You can try many of these options interactively in the <a href="https://www.jointjs.com/demos/paper-attributes">paper demo</a>.</p>

<p>This method might internally trigger the <code class="highlighted"><span class="token string">"resize"</span></code> and <code class="highlighted"><span class="token string">"translate"</span></code> events. These can be handled by listening on the paper object (<code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> myHandler<span class="token punctuation">)</span></code>).</p>

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>gridWidth<span class="token punctuation">,</span> gridHeight<span class="token punctuation">,</span> padding<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p><i>Deprecated usage. All parameters are expected to be passed inside the <code class="highlighted">opt</code> object.</i></p>

        </div>
    </div>
    <div id="dia.Paper.prototype.freeze" class="docs-item">
        <a href="#dia.Paper.prototype.freeze" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.freeze</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Freeze an <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> paper. In this state, the paper does not automatically re-render upon changes in the graph. This is useful when adding large numbers of cells.</p>

<p>Use <a href="#dia.Paper.prototype.unfreeze"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">unfreeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to take the paper back out of the frozen state and to reflect the changes made in the graph in the meantime (if any).</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getArea" class="docs-item">
        <a href="#dia.Paper.prototype.getArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a rectangle representing the area of the paper, in local units (without transformations).</p>

<p>Creates a rectangle object with <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></code> and with <code class="highlighted">width</code> and <code class="highlighted">height</code> values according to the <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getComputedSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Paper.prototype.getComputedSize">function</a>. Then uses the <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Paper.prototype.paperToLocalRect">function</a> to transform that rectangle into local units.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getComputedSize" class="docs-item">
        <a href="#dia.Paper.prototype.getComputedSize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getComputedSize</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getComputedSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an object containing <code class="highlighted">width</code> and <code class="highlighted">height</code> properties. It resolves any computation these property values may contain (e.g resolves <code class="highlighted"><span class="token string">"100%"</span></code> to the actual client width).</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getContentArea" class="docs-item">
        <a href="#dia.Paper.prototype.getContentArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getContentArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a rectangle representing the area occupied by paper content, in local units (without transformations).</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> is set (default is <code class="highlighted"><span class="token boolean">false</span></code>), occupied area is calculated from the dimensions of component cells' models (not views). This option is useful whenever one or more of the paper cells are not in the DOM (e.g. during asynchronous calls). However, the method uses a simplified heuristic that is different from the one used by the browser; the mapping between dimensions of cell views and dimensions of cells models is not necessarily one-to-one. (Most notably, ports are not included in model-reported occupied areas. In addition, the area occupied by links is constructed from link vertices, which may exclude portions of protruding Curveto and Arcto segments.)</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getContentBBox" class="docs-item">
        <a href="#dia.Paper.prototype.getContentBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getContentBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentBBox</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the content inside the paper, in client units (as it appears on the screen).</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> is set (default is <code class="highlighted"><span class="token boolean">false</span></code>), the bounding box is calculated from the dimensions of component cells' models (not views). This option is useful whenever one or more of the paper cells are not in the DOM (e.g. during asynchronous calls). However, the method uses a simplified heuristic that is different from the one used by the browser; the mapping between dimensions of cell views and dimensions of cells models is not necessarily one-to-one. (Most notably, ports are not included in model-reported bounding boxes. In addition, the bounding boxes of links are constructed from link vertices, which may exclude portions of protruding Curveto and Arcto segments.)</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getFitToContentArea" class="docs-item">
        <a href="#dia.Paper.prototype.getFitToContentArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getFitToContentArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getFitToContentArea</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return the bounding box in the local coordinate system based on the position and size of the current content and options provided.</p>

<p>The function accepts an object with the following options:</p>

<ul>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>gridWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>gridHeight</code>  snap the resulting width and height of the paper to a grid defined by these dimensions.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>padding</code>  additional padding around the resulting paper. It may be specified as a number, in which case it represents the padding width on all sides of the paper. It may be an object of the form <code class="highlighted"><span class="token punctuation">{</span> top<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> bottom<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> vertical<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> horizontal<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>allowNewOrigin</code>  should the origin of the resulting paper be adjusted to match the origin of the paper content? In addition to a falsy value being set, three values are recognized by this option: <code class="highlighted"><span class="token string">'positive'</span></code>,&nbsp;<code class="highlighted"><span class="token string">'negative'</span></code>,&nbsp;<code class="highlighted"><span class="token string">'any'</span></code>.
      <ul>
        <li><code class="highlighted"><span class="token boolean">false</span></code> - by default, the method only recognizes the content at positive coordinates and puts the origin of resulting paper at the original point (0,0).</li>
        <li><code class="highlighted"><span class="token string">'positive'</span></code>  the method only recognizes the content at positive coordinates and puts the origin of resulting paper at the origin of the content. (Still, if the content starts at negative coordinates in an axis, the resulting paper's origin will be assigned <code class="highlighted"><span class="token number">0</span></code> in that axis.)</li>
        <li><code class="highlighted"><span class="token string">'negative'</span></code>  the method only recognizes the content at negative coordinates and puts the origin of resulting paper at the origin of the content. (However, if the content starts at positive coordinates in an axis, the resulting paper's origin will be assigned <code class="highlighted"><span class="token number">0</span></code> in that axis.)</li>
        <li><code class="highlighted"><span class="token string">'any'</span></code>  the method recognizes all of the paper content. The origin of the resulting paper will be at the origin of the content.</li>
      </ul>
    </li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>allowNegativeBottomRight</code> - can the bottom-right corner of the resulting paper have negative coordinates? By default, the paper area always contains point (0,0). i.e. <code class="highlighted"><span class="token boolean">false</span></code>.
  <pre><code class="highlighted"><span class="token comment">// Resize the paper to match the tight bounding box of the content regardless of its position.</span>
  paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    allowNewOrigin<span class="token operator">:</span> <span class="token string">'any'</span><span class="token punctuation">,</span>
    allowNegativeBottomRight<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>minWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>minHeight</code>  define the minimum width and height of the resulting paper after fitting it to content.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>maxWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>maxHeight</code>  define the maximum width and height of the resulting paper after fitting it to content.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code>  should paper content area be calculated from cell models instead of views? The default is <code class="highlighted"><span class="token boolean">false</span></code>. See the documentation of the <code class="highlighted">paper<span class="token punctuation">.</span>getContentArea</code> <a href="#dia.Paper.prototype.getContentArea">function</a> for more details.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code>  an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area representing the content bounding box in the local coordinate system that paper should be fitted to. By default <code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> is <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code>.</li>
  </ul>


        </div>
    </div>
    <div id="dia.Paper.prototype.hasScheduledUpdates" class="docs-item">
        <a href="#dia.Paper.prototype.hasScheduledUpdates" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.hasScheduledUpdates</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">hasScheduledUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if any changes were made to the graph which are not yet reflected in the paper. (Call the <code class="highlighted">updateViews</code> <a href="#dia.Paper.prototype.updateViews">function</a> to update these views.) Return <code class="highlighted"><span class="token boolean">false</span></code> otherwise.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.hideTools" class="docs-item">
        <a href="#dia.Paper.prototype.hideTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.hideTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools attached to all element and link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.isDefined" class="docs-item">
        <a href="#dia.Paper.prototype.isDefined" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.isDefined</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">isDefined</span><span class="token punctuation">(</span>graphicalObjectId<span class="token punctuation">)</span></code></pre>

<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if there is a graphical object (gradient, filter, marker) with <code class="highlighted">graphicalObjectId</code> already defined within the paper. Return <code class="highlighted"><span class="token boolean">false</span></code> otherwise.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.isFrozen" class="docs-item">
        <a href="#dia.Paper.prototype.isFrozen" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.isFrozen</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the paper is currently <a href="#dia.Paper.prototype.options.frozen"><code class="highlighted">frozen</code></a>. Return <code class="highlighted"><span class="token boolean">false</span></code> otherwise.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToClientPoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToClientPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToClientPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the client coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> clientPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> clientPoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> clientPoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToClientRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToClientRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToClientRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in local coordinate system to the client coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> clientRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPagePoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToPagePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPagePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the page coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pagePoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> pagePoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> pagePoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> pagePoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPageRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToPageRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPageRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in local coordinate system to the page coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pageRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> pageRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPaperPoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToPaperPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPaperPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the paper coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paperPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> paperPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> paperPoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> paperPoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPaperRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToPaperRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPaperRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the local coordinate system to the paper coordinate system.
<pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paperRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> paperRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.matrix" class="docs-item">
        <a href="#dia.Paper.prototype.matrix" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.matrix</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>When called with no parameter, the method returns the current transformation matrix (instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix" target="_blank">SVGMatrix</a>) of the paper.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> sx<span class="token punctuation">,</span> b<span class="token operator">:</span> sy<span class="token punctuation">,</span> e<span class="token operator">:</span> tx<span class="token punctuation">,</span> f<span class="token operator">:</span> ty <span class="token punctuation">}</span> <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span>SVGMatrix<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>It sets the new viewport transformation based on the <code class="highlighted">SVGMatrix</code> otherwise.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> e<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> f<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// scale the paper twice</span>
paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token constant">V</span><span class="token punctuation">.</span><span class="token function">createSVGMatrix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// translate the paper by 100, 100</span></code></pre>


<p>When a new transformation is set the following events (in this order) are triggered.</p>

<ul>
    <li><code class="highlighted"><span class="token string">"scale"</span></code> event with the new scale and the <code class="highlighted">data</code> object if it was specified when the method was called.</li>
    <li><code class="highlighted"><span class="token string">"translate"</span></code> event with the new translation and the <code class="highlighted">data</code> object if it was specified when the method was called.</li>
    <li><code class="highlighted"><span class="token string">"transform"</span></code> event with the new transformation matrix and the <code class="highlighted">data</code> object if it was specified when the method was called.</li>
</ul>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scale'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'translate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">matrix<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> e<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> f<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will trigger all events</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageOffset" class="docs-item">
        <a href="#dia.Paper.prototype.pageOffset" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageOffset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns coordinates of the paper viewport, relative to the document.
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.pageToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the page coordinate system to the local coordinate system.
    <pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pagePoint <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>pagePoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// alternative method signature</span>
  <span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Move the element to the point, where the user just clicks.</span>
  element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localPoint1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> localPoint1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.pageToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the page coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerdown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> evt<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
  y <span class="token operator">=</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pageRect <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageX <span class="token operator">-</span> x<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> localRect1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>pageRect<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// alternative method signature</span>
  <span class="token keyword">var</span> localRect2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageX <span class="token operator">-</span> x<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Move and resize the element to cover the area, that the user just selected.</span>
  element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  element<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.paperToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.paperToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.paperToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the paper coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> paperCenter <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>paperCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move the element to the center of the paper viewport.</span>
<span class="token keyword">var</span> elSize <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localPoint1<span class="token punctuation">.</span>x <span class="token operator">-</span> elSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localPoint1<span class="token punctuation">.</span>y <span class="token operator">-</span> elSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.paperToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.paperToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.paperToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the paper coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> paperRect <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span>paperRect<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move and resize the element to cover the entire paper viewport.</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>x <span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.properties" class="docs-item">
        <a href="#dia.Paper.prototype.properties" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.properties</h5>
        </a>
        <div class="docs-item-content">
<p>The following list contains properties exposed by the paper object:</p>

<ul>
    <li><code class="highlighted">svg</code> - a reference to the SVG document object the paper uses to render all the graphics.</li>
    <li><code class="highlighted">layers</code> - a reference to the SVG group  <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span><span class="token punctuation">></span></span></code> element that contains all the layers of the paper. Paper transformations such as scale is performed on this element and it affects all the layers inside.</li>
    <li><code class="highlighted">cells</code> (cells layer) - a reference to the SVG group <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span><span class="token punctuation">></span></span></code> element the paper wraps all the rendered elements and links into.</li>
    <li><code class="highlighted">tools</code> (tools layer) - a reference to the SVG group  <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span><span class="token punctuation">></span></span></code> element the paper wraps all the rendered tools into.</li>
    <li><code class="highlighted">defs</code> - a reference to the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs">SVG &lt;defs&gt; element</a> used to define SVG elements for later reuse. This is also a good place to put SVG masks, patterns, filters and gradients.</li>
</ul>

<p>Normally, you do not need to access these properties directly but in some (advanced) situations, it is handy to have access to them.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.removeTools" class="docs-item">
        <a href="#dia.Paper.prototype.removeTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.removeTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">removeTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove all tools view objects attached to all element and link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.requireView" class="docs-item">
        <a href="#dia.Paper.prototype.requireView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.requireView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">requireView</span><span class="token punctuation">(</span>cell<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Ensure that the view associated with the <code class="highlighted">cell</code> model is attached to the DOM and that it is updated.</p>

<p>This function <a href="#dia.Paper.prototype.findViewByModel">finds the view by the cell model</a>. If the view is not part of the paper's DOM (e.g. because it was outside the <a href="#dia.Paper.prototype.options.viewport">paper viewport</a>), this function attaches it. Additionally, the view is updated to reflect any changes that may have been done on the cell model in the meantime.</p>

<p>Certain CellView methods require the view to be updated and present in the DOM to function properly (e.g. <a href="#dia.ElementView.prototype.getBBox">elementView.getBBox</a>/<a href="#dia.LinkView.prototype.getBBox">linkView.getBBox</a>). In <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers, you should precede calls to these methods with this function to guard against inconsistencies.</p>

<p>
    If <code class="highlighted">opt<span class="token punctuation">.</span>silent</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, the paper <a href="#dia.Paper.prototype.options.beforeRender">beforeRender</a> and <a href="#dia.Paper.prototype.options.afterRender">afterRender</a> callbacks are not fired (and <code class="highlighted"><span class="token string">'render:done'</span></code> event is not triggered).
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.scale" class="docs-item">
        <a href="#dia.Paper.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.scale</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>If the method is called with no parameter the current paper <code class="highlighted">scale</code> transformation is returned.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns e.g. { sx: 2, sy: 2 }</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> <span class="token punctuation">[</span>sy<span class="token punctuation">,</span> data<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Lets you modify the scale of a paper.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// scale 2x (uniformly)</span>
paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// scale 2x in `x` axis 3x in `y` axis (non-uniformly)</span></code></pre>

<p>If the method is called the <code class="highlighted"><span class="token string">"scale"</span></code> and <code class="highlighted"><span class="token string">"transform"</span></code> events are triggered on the paper (only if the new scale differs from the previous).</p>
The event handlers receive the current scale / matrix and the <code class="highlighted">data</code> object if it was specified when the method was called.

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scale'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">matrix<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will trigger both events</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.scaleContentToFit" class="docs-item">
        <a href="#dia.Paper.prototype.scaleContentToFit" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.scaleContentToFit</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scaleContentToFit</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scale the paper content so that it fits the paper dimensions.</p>

<p><i>Deprecated</i> alias of the <a href="#dia.Paper.prototype.transformToFitContent">transformToFitContent</a>.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.scaleUniformAtPoint" class="docs-item">
        <a href="#dia.Paper.prototype.scaleUniformAtPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.scaleUniformAtPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scaleUniformAtPoint</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> point<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Lets you modify the transformation of a paper, so that the paper is scaled uniformly around the given point.</p>

<pre><code class="highlighted"><span class="token comment">// scale 2x around the point (100, 100)</span>
paper<span class="token punctuation">.</span><span class="token function">scaleUniformAtPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>When the method is called, a couple of transformation events (e.g. <code class="highlighted"><span class="token string">"transform"</span></code> event) might be triggered. For more details, please see the <a href="#dia.Paper.prototype.matrix">matrix()</a> method.</p>

<p>The method is ideal for zooming in/out around the mouse pointer.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'paper:pinch'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> sx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    evt<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> sx<span class="token operator">:</span> sx0 <span class="token punctuation">}</span> <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paper<span class="token punctuation">.</span><span class="token function">scaleUniformAtPoint</span><span class="token punctuation">(</span>sx0 <span class="token operator">*</span> sx<span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'paper:pan'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> tx<span class="token punctuation">,</span> ty</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    evt<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> tx<span class="token operator">:</span> tx0<span class="token punctuation">,</span> ty<span class="token operator">:</span> ty0 <span class="token punctuation">}</span> <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx0 <span class="token operator">-</span> tx<span class="token punctuation">,</span> ty0 <span class="token operator">-</span> ty<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.setDimensions" class="docs-item">
        <a href="#dia.Paper.prototype.setDimensions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setDimensions</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setDimensions</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Change dimensions of a paper. Dimensions should always be passed to the options object of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> constructor. Use <code class="highlighted"><span class="token function">setDimensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to change dimensions of the paper later on if needed.</p>
<table>
    <tr>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
       <td>Number</td>
       <td>Dimension in pixels (e.g <code class="highlighted"><span class="token number">800</span></code>).</td>
    </tr>
    <tr>
        <td>String</td>
        <td>
            Dimension as CSS property value (e.g <code class="highlighted"><span class="token string">"100%"</span></code>). <br><i>Make sure the paper container element has size defined.</i>
            <pre><code class="highlighted"><span class="token comment">// Responsive Paper</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">'100%'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  paper<span class="token punctuation">.</span><span class="token function">scaleContentToFit</span><span class="token punctuation">(</span><span class="token punctuation">{</span> padding<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>null</td>
        <td>No dimension set. Useful when size of the paper controlled in CSS.</td>
    </tr>
</table>

<p>If new dimensions are set, the <code class="highlighted"><span class="token string">"resize"</span></code> event is triggered (only if the size has changed). The event handler receives the current size and the <code class="highlighted">data</code> object if it was specified when the method was called.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">setDimensions</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will trigger the event</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.setGrid" class="docs-item">
        <a href="#dia.Paper.prototype.setGrid" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setGrid</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setGrid</span><span class="token punctuation">(</span>gridOption<span class="token punctuation">)</span></code></pre>
<p>Set the type of visual grid on the paper. If a falsy value is provided, the grid is removed.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setGrid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// removes the grid visual</span>
paper<span class="token punctuation">.</span><span class="token function">setGrid</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// default pattern (dot) with default settings</span>

paper<span class="token punctuation">.</span><span class="token function">setGrid</span><span class="token punctuation">(</span><span class="token string">'mesh'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pre-defined pattern with default settings</span>

paper<span class="token punctuation">.</span><span class="token function">setGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'dot'</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'hsla(212, 7%, 75%, 0.5)'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.setGridSize" class="docs-item">
        <a href="#dia.Paper.prototype.setGridSize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setGridSize</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setGridSize</span><span class="token punctuation">(</span>gridSize<span class="token punctuation">)</span></code></pre>
<p>Set the grid size of the paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.setInteractivity" class="docs-item">
        <a href="#dia.Paper.prototype.setInteractivity" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setInteractivity</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setInteractivity</span><span class="token punctuation">(</span>interactive<span class="token punctuation">)</span></code></pre>
<p>Set the interactivity of the paper. For example, to disable interactivity:</p>
<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setInteractivity</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.showTools" class="docs-item">
        <a href="#dia.Paper.prototype.showTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.showTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools attached to all element and link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.transformToFitContent" class="docs-item">
        <a href="#dia.Paper.prototype.transformToFitContent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.transformToFitContent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">transformToFitContent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Transforms the paper so that it fits the content.</p>

<p>The function accepts an object with additional settings (all optional):</p>

<ul>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>padding</code>  a number or an object of the form <code class="highlighted"><span class="token punctuation">{</span> top<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> bottom<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> vertical<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> horizontal<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> that specifies the width of additional padding that should be added around the resulting (scaled) paper content. Default is <code class="highlighted"><span class="token number">0</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>preserveAspectRatio</code>  should the original aspect ratio of the paper content be preserved in the scaled version? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>minScaleX</code>, <code class="highlighted">opt<span class="token punctuation">.</span>minScaleY</code>, <code class="highlighted">opt<span class="token punctuation">.</span>maxScaleX</code>, <code class="highlighted">opt<span class="token punctuation">.</span>maxScaleY</code>  the minimum and maximum allowed scale factors for both axes.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>scaleGrid</code>  a number to be used as a rounding factor for the resulting scale. For example, if you pass <code class="highlighted"><span class="token number">0.2</span></code> to this option and the scale factor is calculated as <code class="highlighted"><span class="token number">1.15</span></code>, then the resulting scale factor will be rounded to <code class="highlighted"><span class="token number">1.2</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code>  should paper content bounding box be calculated from cell models instead of views? Default is <code class="highlighted"><span class="token boolean">false</span></code>. See the documentation of the <code class="highlighted">paper<span class="token punctuation">.</span>getContentBBox</code> <a href="#dia.Paper.prototype.getContentBBox">function</a> for more details.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code>  an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area of the paper that the content should be scaled to. By default <code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code> is <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">:</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token operator">:</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token punctuation">}</span></code>, i.e. the bounding box of the paper in the paper coordinate system.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code>  an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area representing the content in local coordinate system that should be scaled to fit the <code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code>. By default <code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> is <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>verticalAlign</code>  a string which specifies how the content shold be vertically aligned in the transformed paper. The options are <code class="highlighted"><span class="token string">'top'</span></code>, <code class="highlighted"><span class="token string">'middle'</span></code> and <code class="highlighted"><span class="token string">'bottom'</span></code>. By default the <code class="highlighted">opt<span class="token punctuation">.</span>verticalAlign</code> is <code class="highlighted"><span class="token string">'top'</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>horizontalAlign</code>  a string which specifies how the content shold be horizontally aligned in the transformed paper. The options are <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'middle'</span></code> and <code class="highlighted"><span class="token string">'right'</span></code>. By default the <code class="highlighted">opt<span class="token punctuation">.</span>horizontalAlign</code> is <code class="highlighted"><span class="token string">'left'</span></code>.</li>
</ul>

<p>The function is illustrated in our <a href="https://www.jointjs.com/demos/paper-attributes">paper demo</a>.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.translate" class="docs-item">
        <a href="#dia.Paper.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>If the method is called with no parameter the current paper <code class="highlighted">translate</code> transformation is returned.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns e.g. { tx: 100, ty: 100 }</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Lets you modify the origin (zero coordinates) of a paper.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// set the origin to `x=100` and `y=200`</span>
paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// same as calling `translate(100,0)`</span></code></pre>

<p>If the method is called the <code class="highlighted"><span class="token string">"translate"</span></code> and <code class="highlighted"><span class="token string">"transform"</span></code> events are triggered on the paper (only if the origin has changed).
The event handlers receive the current translation / matrix and the <code class="highlighted">data</code> object if it was specified when the method was called.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'translate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">matrix<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> data<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will trigger both events</span></code></pre>




        </div>
    </div>
    <div id="dia.Paper.prototype.unfreeze" class="docs-item">
        <a href="#dia.Paper.prototype.unfreeze" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.unfreeze</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">unfreeze</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p><a href="#dia.Paper.prototype.updateViews">Update the views</a> of an <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> paper to make sure that the views reflect the cells' models; unfreeze the paper afterward.</p>

<p>Several extra arguments may be provided in the <code class="highlighted">opt</code> object:</p>

<table>
    <tr>
        <td>batchSize</td>
        <td><i>number</i></td>
        <td>For <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers, how many views should there be per one asynchronous process? Default is <code class="highlighted"><span class="token number">1000</span></code>.</td>
    </tr>
    <tr>
        <td>progress</td>
        <td><i>function</i></td>
        <td>Callback function that is called whenever a batch is finished processing. The callback function is provided with three arguments:
            <table>
                <tr>
                    <td>done</td>
                    <td><i>boolean</i></td>
                    <td>Are we done? Was this the last batch?</td>
                </tr>
                <tr>
                    <td>processed</td>
                    <td><i>number</i></td>
                    <td>How far along are we? How many elements have been processed as part of a batch so far?</td>
                </tr>
                <tr>
                    <td>total</td>
                    <td><i>number</i></td>
                    <td>How many views are there? How many elements in will have been processed as part of a batch when we are done?</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>viewport</td>
        <td><i>function</i></td>
        <td>Callback function to determine whether a given view should be added to the DOM. By default, <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a> is used, but you may provide a different callback function. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.viewport">option's documentation</a>, as are examples of usage.
        </td>
    </tr>
    <tr>
        <td>beforeRender</td>
        <td><i>function</i></td>
        <td>Callback function executed before processing scheduled updates. By default, <a href="#dia.Paper.prototype.options.beforeRender"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>beforeRender</code></a> is used, but you may provide a different callback function. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.beforeRender">option's documentation</a>.
    </td></tr>
    <tr>
        <td>afterRender</td>
        <td><i>function</i></td>
        <td>Callback function executed after all scheduled updates had been processed. By default, <a href="#dia.Paper.prototype.options.afterRender"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>afterRender</code></a> is used, but you may provide a different callback function. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.afterRender">option's documentation</a>.
    </td></tr>
</table>

<p>Use <a href="#dia.Paper.prototype.freeze"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to freeze the paper again.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.updateViews" class="docs-item">
        <a href="#dia.Paper.prototype.updateViews" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.updateViews</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">updateViews</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Update views in a <a href="#dia.Paper.prototype.options.frozen">frozen</a> <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> paper to make sure that the views reflect the cells' models; keep the paper frozen afterwards.</p>

<p>Several extra arguments may be provided in the <code class="highlighted">opt</code> object:</p>

<table>
    <tr>
        <td>batchSize</td>
        <td><i>number</i></td>
        <td>For <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> papers, how many views should there be per one asynchronous process? Default is <code class="highlighted"><span class="token number">1000</span></code>.</td>
    </tr>
    <tr>
        <td>progress</td>
        <td><i>function</i></td>
        <td>Callback function that is called whenever a batch is finished processing. The callback function is provided with three arguments:
            <table>
                <tr>
                    <td>done</td>
                    <td><i>boolean</i></td>
                    <td>Are we done? Was this the last batch?</td>
                </tr>
                <tr>
                    <td>processed</td>
                    <td><i>number</i></td>
                    <td>How far along are we? How many elements have been processed as part of a batch so far?</td>
                </tr>
                <tr>
                    <td>total</td>
                    <td><i>number</i></td>
                    <td>How many views are there? How many elements in will have been processed as part of a batch when we are done?</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td>viewport</td>
        <td><i>function</i></td>
        <td>Callback function to determine whether a given view should be added to the DOM. By default, <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a> is used, but you may provide a different callback function. The format of the callback method is described in the <a href="#dia.Paper.prototype.options.viewport">option's documentation</a>, as are examples of usage.
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options" class="docs-item">
    <div id="dia.Paper.prototype.options.afterRender" class="docs-item">
        <a href="#dia.Paper.prototype.options.afterRender" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.afterRender</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">afterRender</code> - Callback function executed after all scheduled updates had been processed (both asynchronous and synchronous rendering). The callback function is provided with the following arguments:
<table>
    <tr>
        <td>stats</td>
        <td><i>object</i></td>
        <td>Statistics about the current update.</td>
    </tr>
    <tr>
        <td>options</td>
        <td><i>object</i></td>
        <td>Parameters the current updates were scheduled with.</td>
    </tr>
    <tr>
        <td>paper</td>
        <td><i>joint.dia.Paper</i></td>
        <td>This paper instance</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.allowLink" class="docs-item">
        <a href="#dia.Paper.prototype.options.allowLink" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.allowLink</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">allowLink</code> - expects a function returning a boolean. The function is run when the user stops interacting with a linkView's arrowhead (source or target).
If the function returns <code class="highlighted"><span class="token boolean">false</span></code>, the link is either removed (for links which are created during the interaction) or reverted to the state before the interaction.

<pre><code class="highlighted"><span class="token comment">// Return `false` if a graph cycle is detected (`graphlib` refers to a dependency of the DirectedGraph plugin).</span>
paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function-variable function">allowLink</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">linkView<span class="token punctuation">,</span> paper</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> graph <span class="token operator">=</span> paper<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
  <span class="token keyword">return</span> graphlib<span class="token punctuation">.</span>alg<span class="token punctuation">.</span><span class="token function">findCycles</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toGraphLib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.anchorNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.anchorNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.anchorNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">anchorNamespace</code> - built-in <a href="#anchors">anchors</a> are defined by default on the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace. 
                                It is also possible to define custom anchors on this namespace. If you would like JointJS to look for anchor
                                definitions under a different namespace, you can set the <code class="highlighted">anchorNamespace</code> option to your desired 
                                namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.async" class="docs-item">
        <a href="#dia.Paper.prototype.options.async" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.async</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted"><span class="token keyword">async</span></code> - when <code class="highlighted"><span class="token boolean">true</span></code>, the paper uses asynchronous rendering to display graph cells (i.e. cells added either with <a href="#dia.Graph.prototype.resetCells"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> or <a href="#dia.Graph.prototype.addCells"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods).</p>

<p>This is very useful for adding a large number of cells into the graph. The rendering performance boost is significant and it doesn't block the UI. However, asynchronous rendering brings about some caveats  at the time when you call another function...</p>

<ul>
	<li>...the views of freshly added cell models may not have yet been added to this paper's DOM.</li>
	<li>...some views may have been removed from the DOM by the <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>viewport</code></a> function.</li>
	<li>...views already present in the DOM may not have been updated to reflect changes made in this paper's graph since the last render.</li>
	<li>...re-rendering may have been manually disabled with <a href="#dia.Paper.prototype.options.frozen"><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>frozen</code></a> or <a href="#dia.Paper.prototype.freeze"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>.</li>
</ul>

<p>This is an issue because certain CellView/Paper methods require the view to be updated and present in the DOM to function properly (e.g. <a href="#dia.Paper.prototype.findViewByModel"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> or <a href="#dia.Element.prototype.findView"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>/<a href="#dia.Link.prototype.findView"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, as well as <a href="#dia.Paper.prototype.getContentBBox"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> and <a href="#dia.ElementView.prototype.getBBox"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>/<a href="#dia.LinkView.prototype.getBBox"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>).</p>

<p>The problem may be circumvented in several Paper methods via the <code class="highlighted">useModelGeometry</code> option to force using model calculations instead of view measurements (e.g. <a href="#dia.Paper.prototype.getContentBBox"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, <a href="#dia.Paper.prototype.getContentArea"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, <a href="#dia.Paper.prototype.scaleContentToFit"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scaleContentToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, <a href="#dia.Paper.prototype.fitToContent"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>). In this case, the methods refer to the (always up-to-date) model data.</p>

<p>For the methods that truly need a to refer to a CellView, one way to prevent inconsistencies is to rely on the <code class="highlighted"><span class="token string">'render:done'</span></code> <a href="#dia.Paper.events">paper event</a>. This event signals that all scheduled updates are done and that the state of cell views is consistent with the state of the cell models.</p>

<p>Alternatively, you may trigger a manual update immediately before a sensitive function call. JointJS offers several suitable methods:</p>

<ul>
	<li><a href="#dia.Paper.prototype.requireView"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">requireView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> - bring a single view into the DOM and update it.</li>
	
	<li><a href="#dia.Paper.prototype.dumpViews"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">dumpViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> - bring all views into the DOM and update them.</li>
	<li><a href="#dia.Paper.prototype.updateViews"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">updateViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> - update all views.</li>
	
</ul>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.autoFreeze" class="docs-item">
        <a href="#dia.Paper.prototype.options.autoFreeze" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.autoFreeze</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">autoFreeze</code> - By default, the paper periodically checks the viewport calling <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">viewport</code></a> callback for every view.
The options <code class="highlighted">autoFreeze</code> can be used to suppress this behavior. When the option is enabled, it freezes the paper as soon as there are no more updates and unfreezes it when there is an update scheduled.
(paper has no updates to perform when <a href="#dia.Paper.prototype.hasScheduledUpdates">hasScheduledUpdates()</a> returns <code class="highlighted"><span class="token boolean">false</span></code>).
In that case, the user needs to <a href="#dia.Paper.prototype.checkViewport"><code class="highlighted">checkViewport</code></a> manually when he wants to reinvoke <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">viewport</code></a>
when external changes occurred, e. g. during scrolling and zooming. The freeze state will be set on the next frame cycle after processing all updates. On this cycle paper will call <a href="#dia.Paper.prototype.options.viewport"><code class="highlighted">viewport</code></a> callback
and freeze itself.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.background" class="docs-item">
        <a href="#dia.Paper.prototype.options.background" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.background</h6>
        </a>
        <div class="docs-item-content">
<p>An object defining the paper background color and image. It defaults to <code class="highlighted"><span class="token boolean">false</span></code> meaning there is no background set. The configuration object can have the following properties.</p>
<ul>
<li><strong>color</strong>
property sets the paper background color. It accepts all the values accepted by the CSS <code class="highlighted">background<span class="token operator">-</span>color</code> property.
e.g <code class="highlighted"><span class="token string">'red'</span></code>, <code class="highlighted"><span class="token string">'rgba(255, 255, 0, 0.5)'</span></code>, <code class="highlighted"><span class="token string">'radial-gradient(ellipse at center, red, green);'</span></code></li>
<li><strong>image</strong>
property defines the path to the background image file. e.g. <code class="highlighted"><span class="token string">'/my-background.png'</span></code>.</li>
<li><strong>position</strong>
is an object <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number <span class="token punctuation">}</span></code> defining the background image position. It also allows to use all the CSS <code class="highlighted">background<span class="token operator">-</span>position</code> property values.
In that case all the paper transformations have no impact on the background image position. It defaults to <code class="highlighted">center</code>.</li>
<li><strong>size</strong>
is an object <code class="highlighted"><span class="token punctuation">{</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code> defining the background image size. It also allows to use all the CSS <code class="highlighted">background<span class="token operator">-</span>size</code> property values. In that case all the paper transformations have no impact on the background size. It defaults to <code class="highlighted">auto auto</code>.</li>
<li><strong>repeat</strong>
property defines how the background image is repeated. The value could be any value accepted by the CSS <code class="highlighted">background<span class="token operator">-</span>repeat</code> property and few more defined by JointJS. Those are <code class="highlighted">flip<span class="token operator">-</span>x</code>, <code class="highlighted">flip<span class="token operator">-</span>y</code>, <code class="highlighted">flip<span class="token operator">-</span>xy</code> and <code class="highlighted">watermark</code>. It defaults to <code class="highlighted">no<span class="token operator">-</span>repeat</code>.</li>
<li><strong>quality</strong>
is a coefficient specifying the quality of the image (e.g <code class="highlighted"><span class="token number">0.5</span></code> uses only 50% the image size for creating a pattern). Applicable only for the JointJS <code class="highlighted">repeat</code> option values. It defaults to <code class="highlighted"><span class="token number">1</span></code>.</li>
<li><strong>opacity</strong>
is a number in the range <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> specifying the transparency of the background image (<code class="highlighted"><span class="token number">0</span></code> is fully transparent and <code class="highlighted"><span class="token number">1</span></code> is fully opaque). It defaults to <code class="highlighted"><span class="token number">1</span></code>.</li>
<li><strong>watermarkAngle</strong>
is an angle in degrees speficying the slope of the watermark image. Applicable only for the <code class="highlighted"><span class="token string">'watermark'</span></code> <code class="highlighted">repeat</code> option. It defaults to <code class="highlighted"><span class="token number">20</span></code> deg.</li>
</ul>
<pre><code class="language-javascript highlighted">background<span class="token operator">:</span> <span class="token punctuation">{</span>
   color<span class="token operator">:</span> <span class="token string">'#6764A7'</span><span class="token punctuation">,</span>
   image<span class="token operator">:</span> <span class="token string">'jointjs-logo.png'</span><span class="token punctuation">,</span>
   repeat<span class="token operator">:</span> <span class="token string">'watermark'</span><span class="token punctuation">,</span>
   opacity<span class="token operator">:</span> <span class="token number">0.3</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.beforeRender" class="docs-item">
        <a href="#dia.Paper.prototype.options.beforeRender" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.beforeRender</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">beforeRender</code> - Callback function executed before processing scheduled updates (both asynchronous and synchronous rendering). The callback function is provided with the following arguments:
<table>
    <tr>
        <td>options</td>
        <td><i>object</i></td>
        <td>Parameters the current updates were scheduled with.</td>
    </tr>
    <tr>
        <td>paper</td>
        <td><i>joint.dia.Paper</i></td>
        <td>This paper instance.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.cellViewNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.cellViewNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.cellViewNamespace</h6>
        </a>
        <div class="docs-item-content">
<p>
    <code class="highlighted">cellViewNamespace</code> - In order for the JointJS <code class="highlighted">paper</code> to read cell view definitions from the correct location, 
    the <code class="highlighted">paper</code> option <code class="highlighted">cellViewNamespace</code> must be provided. Built-in cell view definitions are usually located in the 
    <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace, so this is a common namespace to use. It's possible to a add custom cell view to this namespace, or 
    alternatively, you may like to use a different namespace completely.
</p>

<p>
    For example, if <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> is provided as the value of <code class="highlighted">cellViewNamespace</code>, and a cell is of type 
    <code class="highlighted"><span class="token string">'custom.Element'</span></code>, then the <code class="highlighted">paper</code> looks up the <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>ElementView</code> object type when rendering the 
    cell onto the screen. If <code class="highlighted">cellViewNamespace</code> is set with a value of <code class="highlighted">myCustomNamespace</code>, the paper will read view 
    definitions from the <code class="highlighted">myCustomNamespace<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>ElementView</code> object instead. This option is often used in combination with the
    <code class="highlighted">cellNamespace</code> option on the <a href="#dia.Graph.constructor"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code></a> object.
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.clickThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.clickThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.clickThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">clickThreshold</code> - When number of mousemove events exceeds the <code class="highlighted">clickThreshold</code> there is no <code class="highlighted">pointerclick</code> event triggered after mouseup. It defaults to <code class="highlighted"><span class="token number">0</span></code>.


        </div>
    </div>
    <div id="dia.Paper.prototype.options.connectionPointNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.connectionPointNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.connectionPointNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">connectionPointNamespace</code> - built-in <a href="#connectionPoints">connectionPoints</a> are defined by default on the 
                                        <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace. It is also possible to define custom connectionPoints
                                        on this namespace. If you would like JointJS to look for connectionPoint definitions under a different 
                                        namespace, you can set the <code class="highlighted">connectionPointNamespace</code> option to your desired 
                                        namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.connectionStrategy" class="docs-item">
        <a href="#dia.Paper.prototype.options.connectionStrategy" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.connectionStrategy</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">connectionStrategy</code> - the connection strategy to use on this paper. It can either be a function or <code class="highlighted"><span class="token keyword">null</span></code>. JointJS provides a collection of <a href="#connectionStrategies">built-in connection strategies</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace; alternatively, a <a href="#connectionStrategies.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.connectionStrategy">link geometry connectionStrategy documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.connectorNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.connectorNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.connectorNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">connectorNamespace</code> - built-in <a href="#connectors">connectors</a> are defined by default on the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace. 
                                It is also possible to define custom connectors on this namespace. If you would like JointJS to look for connector
                                definitions under a different namespace, you can set the <code class="highlighted">connectorNamespace</code> option to your desired 
                                namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultAnchor" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultAnchor" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultAnchor</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultAnchor</code> - an anchor function that is used by links if no <code class="highlighted">anchor</code> property is defined for a link end. It can either be an object (with a <code class="highlighted">name</code> and optional <code class="highlighted">args</code>) or a function. JointJS provides a collection of <a href="#anchors">built-in anchor functions</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace; alternatively, a <a href="#anchors.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.anchor">link geometry anchor documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultConnectionPoint" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultConnectionPoint" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultConnectionPoint</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultConnectionPoint</code> - a connection point function that is used by links if no <code class="highlighted">connectionPoint</code> property is defined for a link end. It can either be an object or a function. JointJS provides a collection of <a href="#connectionPoints">built-in connection point functions</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace; alternatively, a <a href="#connectionPoints.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.connectionPoint">link geometry connectionPoint documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultConnector" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultConnector" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultConnector</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultConnector</code> - a connector that is used by links if no <code class="highlighted">connector</code> property is defined on them. It can either be an object or a function. JointJS provides a collection of <a href="#connectors">built-in connectors</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace; alternatively, a <a href="#connectors.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.connector">link geometry connector documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultLink" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultLink" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultLink</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultLink</code> - link that should be created when the user clicks and drags an active magnet (when creating a link from a port via the UI). Defaults to <code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. It can also be a function with signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> magnet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that must return an object of type <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultLinkAnchor" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultLinkAnchor" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultLinkAnchor</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultLinkAnchor</code> - a link anchor function that is used by links if no <code class="highlighted">linkAnchor</code> property is defined for a link end. It can either be an object (with a <code class="highlighted">name</code> and optional <code class="highlighted">args</code>) or a function. JointJS provides a collection of <a href="#linkAnchors">built-in link anchor functions</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors</code> namespace; alternatively, a <a href="#linkAnchors.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.linkAnchor">link geometry linkAnchor documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultRouter" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultRouter" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultRouter</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultRouter</code> - a router that is used by links if no <code class="highlighted">router</code> property is defined on them. It can either be an object or a function. JointJS provides a collection of <a href="#routers">built-in routers</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace; alternatively, a <a href="#routers.custom">custom function</a> may be provided. See the <a href="#dia.Link.geometry.router">link geometry router documentation</a> for more information.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.drawGrid" class="docs-item">
        <a href="#dia.Paper.prototype.options.drawGrid" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.drawGrid</h6>
        </a>
        <div class="docs-item-content">
    <p>
<code class="highlighted">drawGrid</code> - option whether the paper grid should be drawn or not. It could be a <code class="highlighted">boolean</code> or an <code class="highlighted">object</code>. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>.
        <br>
    Define <code class="highlighted">color</code> and <code class="highlighted">thickness</code> to adjust the default grid pattern:
</p>
<table>
    <tr>
        <th>color</th>
        <td><i>string</i></td>
        <td>color of the default grid pattern.</td>
    </tr>
    <tr>
        <th>thickness</th>
        <td><i>number</i></td>
        <td>thickness of the default grid pattern.</td>
    </tr>
</table>


<p>There are also some pre-defined grid patterns: <code class="highlighted">dot</code>, <code class="highlighted">fixedDot</code>, <code class="highlighted">mesh</code>, <code class="highlighted">doubleMesh</code>. If you'd like to use these patterns, define <code class="highlighted">drawGrid</code> options as follows:</p>
<table>
    <tr>
        <th>name</th>
        <td><i>string</i></td>
        <td>name of the pre-defined pattern. Can be either <code class="highlighted">dot</code>, <code class="highlighted">fixedDot</code>, <code class="highlighted">mesh</code>, <code class="highlighted">doubleMesh</code> </td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object | array</i></td>
        <td>an extra argument for the pre-defined grid patterns. It can be either an <code class="highlighted">object</code> (e.g. <code class="highlighted">dot</code>, <code class="highlighted">mesh</code>) or an <code class="highlighted">array</code> (e.g. <code class="highlighted">doubleMesh</code>)</td>
    </tr>
</table>

    <p>
        <b>Pre-defined grids with default settings:</b>
    </p>
    <p>The paper from the images below has been scaled 2 times and has gridSize set to 10.</p>
    <div class="caption-image h150">
        <img alt="drawGrid grid pattern option" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTI0MiIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMjQxIj48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxyZWN0IGlkPSJ2LTI0MyIgd2lkdGg9IjIiIGhlaWdodD0iMiIgZmlsbD0iIzAwMDAwMCIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgaWQ9InYtMjQ1IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm5fMCkiLz48L3N2Zz4=">
        <div class="caption">dot</div>
    </div>

    <div class="caption-image h150">
        <img alt="drawGrid grid pattern option" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTIxMiIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMjExIj48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxyZWN0IGlkPSJ2LTIxMyIgd2lkdGg9IjEuMDAiIGhlaWdodD0iMS4wMCIgZmlsbD0iIzAwMDAwMCIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgaWQ9InYtMjE1IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm5fMCkiLz48L3N2Zz4=">
        <div class="caption">fixedDot</div>
    </div>

    <div class="caption-image h150">
        <img alt="drawGrid grid pattern option" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTM5OCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMzk3Ij48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxwYXRoIGlkPSJ2LTM5OSIgZD0iTSAyMCAwIEgwIE0wIDAgVjAgMjAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjAwIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCBpZD0idi00MDEiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybl8wKSIvPjwvc3ZnPg==">
        <div class="caption">mesh</div>
    </div>

    <div class="caption-image h150">
        <img alt="drawGrid grid pattern option" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTM2NSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMzY0Ij48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxwYXRoIGlkPSJ2LTM2NiIgZD0iTSAyMCAwIEgwIE0wIDAgVjAgMjAiIHN0cm9rZT0iI2FhYWFhYSIgc3Ryb2tlLXdpZHRoPSIxLjAwIi8+PC9wYXR0ZXJuPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuXzEiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cGF0aCBpZD0idi0zNjkiIGQ9Ik0gMTAwIDAgSDAgTTAgMCBWMCAxMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIzLjAwIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCBpZD0idi0zNjgiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybl8wKSIvPjxyZWN0IGlkPSJ2LTM3MSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuXzEpIi8+PC9zdmc+">
        <div class="caption">doubleMesh</div>
    </div>


<pre><code class="highlighted">drawGrid<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// default pattern (dot) with default settings</span>

drawGrid<span class="token operator">:</span> <span class="token string">'mesh'</span> <span class="token comment">// pre-defined pattern with default settings</span>
drawGrid<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'mesh'</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

drawGrid<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'doubleMesh'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> thickness<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// settings for the primary mesh</span>
        <span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span> scaleFactor<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> thickness<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token comment">//settings for the secondary mesh</span>
<span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre>


        </div>
    </div>
    <div id="dia.Paper.prototype.options.drawGridSize" class="docs-item">
        <a href="#dia.Paper.prototype.options.drawGridSize" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.drawGridSize</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">drawGridSize</code> - the size of the visual grid drawn using the <a href="#dia.Paper.prototype.options.drawGrid">drawGrid</a> option.
If this option is set to <code class="highlighted"><span class="token keyword">null</span></code> <i>(default)</i>, the <a href="#dia.Paper.prototype.options.gridSize">gridSize</a> option is used instead.

If the option is changed after the paper has been initialized, call <a href="#dia.Paper.prototype.drawGrid">drawGrid</a> to update the grid.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.el" class="docs-item">
        <a href="#dia.Paper.prototype.options.el" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.el</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">el</code> - CSS selector, or a DOM element holding the container for the paper

        </div>
    </div>
    <div id="dia.Paper.prototype.options.elementView" class="docs-item">
        <a href="#dia.Paper.prototype.options.elementView" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.elementView</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">elementView</code> - object that is responsible for rendering an element model into the paper. Defaults to <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>. It can also be a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span></code> that takes an element model and should return an object responsible for rendering that model onto the screen (in most cases a subtype of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>)
        </div>
    </div>
    <div id="dia.Paper.prototype.options.embeddingMode" class="docs-item">
        <a href="#dia.Paper.prototype.options.embeddingMode" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.embeddingMode</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">embeddingMode</code> - when set to <code class="highlighted"><span class="token boolean">true</span></code>, the paper is set to embedding mode. In this mode,
                              when you drag an element and drop into another element, the element below becomes a parent
                              of the dropped element (the dropped element gets automatically embedded into the parent element). Similarly, when you drag an
                              element out of its parent, the element gets automatically unembedded from its parent. The embedding mode
                              also makes sure all the connected links and child elements have proper <code class="highlighted">z</code> index set so that they stay visible.
                              To control what elements can be embedded into what other elements, use the <code class="highlighted"><span class="token function">validateEmbedding</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function
                              on the paper (see below).
                              This is useful for hierarchical diagrams. See the <a href="#shapes.devs.hierarchical_diagrams">DEVS demo</a> on how this can be used.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.findParentBy" class="docs-item">
        <a href="#dia.Paper.prototype.options.findParentBy" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.findParentBy</h6>
        </a>
        <div class="docs-item-content">
<p>
    <code class="highlighted">findParentBy</code> - determines the way how a cell finds a suitable parent when it's dragged over the paper. The cell with the highest z-index (visually on the top) will be chosen.
    <code class="highlighted">findParentBy</code> option comes to play when the paper is in <a href="#dia.Paper.prototype.options.embeddingMode">embedding mode</a>. All possible values are
</p>

<table>
    <tr>
        <th>Value</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token string">'bbox'</span></code> <i>(default)</i></td>
        <td>Choose the parent from the elements under the element rectangle.</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token string">'pointer'</span></code></td>
        <td>Choose the parent from the elements under the cursor (pointer).</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token string">'center'</span></code> | <code class="highlighted"><span class="token string">'origin'</span></code> | <code class="highlighted"><span class="token string">'corner'</span></code> | <code class="highlighted"><span class="token string">'topRight'</span></code> | <code class="highlighted"><span class="token string">'bottomLeft'</span></code></td>
        <td>Choose the parent from the elements under a specific point of the element rectangle.</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token keyword">function</span></code></td>
        <td>
            The function accepts an <code class="highlighted">elementView</code>. <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and it returns array of possible candidates.
            <pre><code class="highlighted"><span class="token function-variable function">findParentBy</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> graph <span class="token operator">=</span> elementView<span class="token punctuation">.</span>paper<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
    <span class="token keyword">return</span> graph<span class="token punctuation">.</span><span class="token function">findModelsFromPoint</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
        </td>
    </tr>
</table>


        </div>
    </div>
    <div id="dia.Paper.prototype.options.frontParentOnly" class="docs-item">
        <a href="#dia.Paper.prototype.options.frontParentOnly" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.frontParentOnly</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">frontParentOnly</code> - when set to the default <code class="highlighted"><span class="token boolean">true</span></code>, only the element at the very front is taken into account for 
embedding. If disabled, the elements under the dragged view are tested one by one (from front to back) until a valid parent is found.

<pre><code class="highlighted">
    <span class="token comment">// If a child element is embedded and covers the area of 'app.Container', a third element is unable to be embedded</span>
    <span class="token function-variable function">validateEmbedding</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">childView<span class="token punctuation">,</span> parentView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> model <span class="token operator">=</span> parentView<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'app.Container'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    frontParentOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.frozen" class="docs-item">
        <a href="#dia.Paper.prototype.options.frozen" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.frozen</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">frozen</code> - when <code class="highlighted"><span class="token boolean">true</span></code> on an <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> paper, the paper is <q>frozen</q>. This means that changes made in this paper's graph are not reflected by the paper until this state is reversed. Use <a href="#dia.Paper.prototype.unfreeze"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">unfreeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to unfreeze the paper, and <a href="#dia.Paper.prototype.freeze"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to freeze it again. (You may also use <a href="#dia.Paper.prototype.updateViews"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">updateViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to manually refresh the paper and leave it frozen.)<p></p>

<p>Example:</p>

<code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span>cell1<span class="token punctuation">,</span> cell2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	el<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paper-holder'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	model<span class="token operator">:</span> graph<span class="token punctuation">,</span>
	cellViewNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes<span class="token punctuation">,</span>
	frozen<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">unfreeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.gridSize" class="docs-item">
        <a href="#dia.Paper.prototype.options.gridSize" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.gridSize</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">gridSize</code> - size of the grid in pixels
        </div>
    </div>
    <div id="dia.Paper.prototype.options.guard" class="docs-item">
        <a href="#dia.Paper.prototype.options.guard" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.guard</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">guard</code> - guard paper from handling a browser UI event. This function is of the form
                              <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> view</span><span class="token punctuation">)</span></code> and should return <code class="highlighted"><span class="token boolean">true</span></code> if you want to prevent the paper from handling the event <code class="highlighted">evt</code>,
                              <code class="highlighted"><span class="token boolean">false</span></code> otherwise. This is an advanced option that can be useful if you have your own logic for handling events.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.height" class="docs-item">
        <a href="#dia.Paper.prototype.options.height" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.height</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">height</code> - height of the paper (see <a href="#dia.Paper.prototype.setDimensions">setDimensions()</a>).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.highlighterNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.highlighterNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.highlighterNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">highlighterNamespace</code> - built-in <a href="#highlighters">highlighters</a> are defined by default on the 
                                    <code class="highlighted">joint<span class="token punctuation">.</span>highlighters</code> namespace. Existing and custom highlighters are defined by extending
                                    the <a href="#dia.HighlighterView">base class</a>. If you would like JointJS to look for highlighter 
                                    definitions under a different namespace, you can set the <code class="highlighted">highlighterNamespace</code> option 
                                    to your desired namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.highlighting" class="docs-item">
        <a href="#dia.Paper.prototype.options.highlighting" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.highlighting</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted">highlighting</code> - Configure which highlighter to use (if any) for each type of interaction.</p>

<h5>List of highlighting interactions</h5>

<table>
    <tr>
        <th>Name</th>
        <th>Enum</th>
        <th>Description</th>
        <th>Default</th>
    </tr>
    <tr>
        <td><b>default</b></td>
        <td><i>joint.dia.CellView.Highlighting.DEFAULT</i></td>
        <td>the default highlighter to use (and options) when none is specified</td>
        <td><pre><code class="highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        padding<span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></td>
    </tr>
    <tr>
        <td><b>connecting</b></td>
        <td><i>joint.dia.CellView.Highlighting.CONNECTING</i></td>
        <td>when a valid link connection can be made to an element</td>
        <td>Not defined. The default is used.</td>
    </tr>
    <tr>
        <td><b>embedding</b></td>
        <td><i>joint.dia.CellView.Highlighting.EMBEDDING</i></td>
        <td>when a cell is dragged over another cell in embedding mode</td>
        <td>Not defined. The default is used.</td>
    </tr>
    <tr>
        <td><b>magnetAvailability</b></td>
        <td><i>joint.dia.CellView.Highlighting.MAGNET_AVAILABILITY</i></td>
        <td>when showing all magnets to which a valid connection can be made</td>
        <td><pre><code class="highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'addClass'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        className<span class="token operator">:</span> <span class="token string">'available-magnet'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></td>
    </tr>
    <tr>
        <td><b>elementAvailability</b></td>
        <td><i>joint.dia.CellView.Highlighting.ELEMENT_AVAILABILITY</i></td>
        <td>when showing all elements to which a valid connection can be made</td>
        <td><pre><code class="highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'addClass'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        className<span class="token operator">:</span> <span class="token string">'available-cell'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></td>
    </tr>
</table>

<p>If a type is set to <code class="highlighted"><span class="token boolean">false</span></code>, no highlighter is used.</p>
<p>If a type is set to <code class="highlighted"><span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span></code>, the default highlighter is used.</p>

<p>Example usages:</p>
<pre><code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    highlighting<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'default'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span> <span class="token comment">// `joint.highlighters.stroke`</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
                padding<span class="token operator">:</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'connecting'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'addClass'</span><span class="token punctuation">,</span>  <span class="token comment">// `joint.highlighters.addClass`</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
                className<span class="token operator">:</span> <span class="token string">'highlight-connecting'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Disable highlighter for embedding</span>
        <span class="token string">'embedding'</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre><code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Disable all highlighters</span>
    highlighting<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>List of available <a href="#highlighters">highlighters</a> and their options:</p>
<ul>
    <li><a href="#highlighters.mask">joint.highlighters.mask</a></li>
    <li><a href="#highlighters.stroke">joint.highlighters.stroke</a></li>
    <li><a href="#highlighters.addClass">joint.highlighters.addClass</a></li>
    <li><a href="#highlighters.opacity">joint.highlighters.opacity</a></li>
</ul>

<p>If you need to highlight an element or a link differently based on the cell type or one of its attribute, you can disable the paper highlighting and add a highlighter manually.</p>

<pre><code class="highlighted"><span class="token comment">// Disable Embedding</span>
paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>highlighting<span class="token punctuation">.</span>embedding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> MyHighlighters <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">EMBEDDING</span><span class="token operator">:</span> <span class="token string">'embedding-highlighter'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token punctuation">{</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> isLink <span class="token operator">=</span> cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> MyHighlighters<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'stroke'</span><span class="token operator">:</span> isLink <span class="token operator">?</span> <span class="token string">'red'</span> <span class="token operator">:</span> <span class="token string">'blue'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:unhighlight'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token punctuation">{</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>CellView<span class="token punctuation">.</span>Highlighting<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> MyHighlighters<span class="token punctuation">.</span><span class="token constant">EMBEDDING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>By default, when a user connects a link, the target node for the highlighter is either the root of the cell or a magnet. To change this use <a href="#dia.attributes.highlighterSelector">highlighterSelector</a> attribute.</p>

<pre><code class="highlighted"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        root<span class="token operator">:</span> <span class="token punctuation">{</span>
            highlighterSelector<span class="token operator">:</span> <span class="token string">'body'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// When a user tries to connect a link to the element.</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    assert<span class="token punctuation">.</span><span class="token function">notOk</span><span class="token punctuation">(</span>node <span class="token operator">===</span> elementView<span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    assert<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>node <span class="token operator">===</span> elementView<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[joint-selector="body"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.interactive" class="docs-item">
        <a href="#dia.Paper.prototype.options.interactive" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.interactive</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted">interactive</code> - Configure which of the default interactions with elements and links should be enabled.</p>

<p>The property value defaults to <code class="highlighted"><span class="token punctuation">{</span> labelMove<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>. This can be overwritten in three ways: with a boolean value, with an object specifying interaction keys, or with a function.</p>

<p>If set to <code class="highlighted"><span class="token boolean">false</span></code>, all interactions with elements and links are disabled. If set to <code class="highlighted"><span class="token boolean">true</span></code>, all interactions are enabled.</p>

<pre><code class="highlighted"><span class="token comment">// disable all interaction</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// enable all interaction (including labelMove)</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Using an object, specific interactions may be disabled by assigning <code class="highlighted"><span class="token boolean">false</span></code> to their corresponding property name. It is not necessary to pass <code class="highlighted"><span class="token boolean">true</span></code> values; all omitted properties are assigned <code class="highlighted"><span class="token boolean">true</span></code> by default. (Note that the passed object is not merged with the default; unless <code class="highlighted">labelMove</code> is explicitly excluded, it becomes enabled.) A full list of recognized interaction keys is provided below.</p>

<pre><code class="highlighted"><span class="token comment">// disable labelMove</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token operator">:</span> <span class="token punctuation">{</span> labelMove<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// disable all element interactions</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token operator">:</span> <span class="token punctuation">{</span> elementMove<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> addLinkFromMagnet<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If defined as a function, the function is passed <code class="highlighted">cellView</code> (the elementView/linkView the user is about to interact with) as the first parameter, followed by the name of the event (<code class="highlighted"><span class="token string">'pointerdown'</span></code>, <code class="highlighted"><span class="token string">'pointermove'</span></code>, ...) that triggered the interaction. The return value of the function is then interpreted in the way specified above (<code class="highlighted"><span class="token boolean">false</span></code> causes all interaction to be disabled, an object disables specific interactions, etc.).</p>

<pre><code class="highlighted"><span class="token comment">// disable link interactions for cellViews when a custom property is set</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token function-variable function">interactive</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cellView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'disableLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                linkMove<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                labelMove<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// otherwise</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The example below has all interactions on the link and on the elements enabled. This is the default behavior:</p>

<iframe src="about:blank" data-src="./demo/dia/Paper/interactive/enableAll.html" style="height: 94px; width: 400px;"></iframe>

<p>The following tables present a list of all recognized interaction keys, followed by an example of a paper with only the related interactive property set to <code class="highlighted"><span class="token boolean">true</span></code> (and all other properties set to <code class="highlighted"><span class="token boolean">false</span></code>).</p>

<p><b>Links:</b></p>

<table>
    <tr>
        <th valign="top">linkMove</th>
        <td>
            <p>Is the user allowed to move the link?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/linkMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">labelMove</th>
        <td>
            <p>Is the user allowed to move the link label?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/labelMove.html" style="height: 94px; width: 250px;"></iframe>
            <p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapLabels</code> <a href="#dia.Paper.prototype.options.snapLabels">paper option</a> to only allow the label to be dragged along the length of the link.</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/labelMoveSnapLabels.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

<p><b>Elements:</b></p>

<table>
    <tr>
        <th valign="top">elementMove</th>
        <td>
            <p>Is the user allowed to move the element?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/elementMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">addLinkFromMagnet</th>
        <td>
            <p>Is the user allowed to add connections from magnets/ports?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/addLinkFromMagnet.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

<p>The <code class="highlighted">stopDelegation</code> option is special. If it is <code class="highlighted"><span class="token boolean">true</span></code> (default), the element's <code class="highlighted">elementMove</code> option determines whether the element responds to user drag.</p>

<p>However, if <code class="highlighted">stopDelegation</code> is <code class="highlighted"><span class="token boolean">false</span></code> and the element is embedded within a parent, the user's dragging is delegated to the embedding parent. The parent's <code class="highlighted">elementMove</code> option then determines whether both elements respond to user drag. The behavior is recursive. If the embedding parent has <code class="highlighted">stopDelegation<span class="token operator">:</span> <span class="token boolean">false</span></code>, it delegates to its own embedding parent's <code class="highlighted">elementMove</code> option and so on. If all children within an embedding have <code class="highlighted">stopDelegation</code> set to <code class="highlighted"><span class="token boolean">false</span></code>, then no matter which element is dragged by the user, the whole embedding is dragged.</p>

<p>If the element is not embedded within an element, the <code class="highlighted">stopDelegation</code> option is ignored (treated as <code class="highlighted"><span class="token boolean">true</span></code>). There is no other element to delegate to. Then <code class="highlighted">elementMove</code> determines whether the element responds to user drag.</p>

<p>In the following example, both embedded elements have <code class="highlighted">stopDelegation<span class="token operator">:</span> <span class="token boolean">false</span></code>. Thus, when the embedded element is dragged by the user, the parent ancestor (<q>Movable</q>) is dragged instead. When the parent ancestor has <code class="highlighted">elementMove</code> disabled (<q>Not movable</q>), nothing happens.</p>

<table>
    <tr>
        <th valign="top">stopDelegation</th>
        <td>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/stopDelegation.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.labelsLayer" class="docs-item">
        <a href="#dia.Paper.prototype.options.labelsLayer" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.labelsLayer</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">labelsLayer</code> - controls the stacking context of the link labels.

<br><br>
<table>
    <tr>
        <th>Value</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><b>false</b> <i>(default)</i></td>
        <td>The labels are rendered as part of the links. Overlapping links with a larger <code class="highlighted">z</code> can cover link labels with a smaller one.</td>
    </tr>
    <tr>
        <td><b>true</b></td>
        <td>The labels are rendered into its own layer on top of other elements and links. A link's connection can cover no label.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkAnchorNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkAnchorNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkAnchorNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">linkAnchorNamespace</code> - built-in <a href="#linkAnchors">linkAnchors</a> are defined by default on the <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors</code> 
                                    namespace. It is also possible to define custom linkAnchors on this namespace. If you would like JointJS to 
                                    look for linkAnchor definitions under a different namespace, you can set the <code class="highlighted">linkAnchorNamespace</code> 
                                    option to your desired namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkPinning" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkPinning" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkPinning</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">linkPinning</code> - when set to <code class="highlighted"><span class="token boolean">true</span></code> (the default), links can be <q>pinned</q> to the paper meaning a source or target of a link can be a point. If you do not want to let the user drag a link and drop it somewhere in a blank paper area, set this to <code class="highlighted"><span class="token boolean">false</span></code>. The effect is
                              that the link will be returned to its original position whenever the user drops it somewhere in a blank paper area.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkView" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkView" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkView</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">linkView</code> - object that is responsible for rendering a link model into the paper. Defaults to <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>. It can also be a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span></code> that takes a link model and should return an object responsible for rendering that model onto the screen (in most cases a <a href="#dia.LinkView.intro">subtype</a> of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.magnetThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.magnetThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.magnetThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">magnetThreshold</code> - When defined as a number, it denotes the required mousemove events before a new link is created from a magnet. When defined as keyword <code class="highlighted"><span class="token string">'onleave'</span></code>, the link is created when the pointer leaves the magnet DOM element. It defaults to <code class="highlighted"><span class="token number">0</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.markAvailable" class="docs-item">
        <a href="#dia.Paper.prototype.options.markAvailable" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.markAvailable</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">markAvailable</code> - marks all the available magnets or elements when a link is dragged (being reconnected). Default is <code class="highlighted"><span class="token boolean">false</span></code>. This gives a hint to the user to what other elements/ports this link can be connected.
                                What magnets/cells are available is determined by the <a href="#dia.Paper.prototype.options.validateConnection"><code class="highlighted">validateConnection</code></a> function.
                                Internally, available magnets (SVG elements) are given the <code class="highlighted"><span class="token string">'available-magnet'</span></code> class name and all the available cells the <code class="highlighted"><span class="token string">'available-cell'</span></code> class name. This allows you to change the
                                styling of the highlight effect.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.model" class="docs-item">
        <a href="#dia.Paper.prototype.options.model" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.model</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">model</code> - <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object
        </div>
    </div>
    <div id="dia.Paper.prototype.options.moveThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.moveThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.moveThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">moveThreshold</code> - Number of required mousemove events before the first pointermove event is triggered. It defaults to <code class="highlighted"><span class="token number">0</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.multiLinks" class="docs-item">
        <a href="#dia.Paper.prototype.options.multiLinks" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.multiLinks</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">multiLinks</code> - when set to <code class="highlighted"><span class="token boolean">false</span></code>, an element may not have
                              more than one link with the same source and target element.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.overflow" class="docs-item">
        <a href="#dia.Paper.prototype.options.overflow" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.overflow</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">overflow</code> - if set to <code class="highlighted"><span class="token boolean">true</span></code>, the content of the paper is not clipped and may be rendered outside the paper area. If set to <code class="highlighted"><span class="token boolean">false</span></code>, the content is clipped, if necessary, to fit the paper area.
        </div>
    </div>
    <div id="dia.Paper.prototype.options.preventContextMenu" class="docs-item">
        <a href="#dia.Paper.prototype.options.preventContextMenu" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.preventContextMenu</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">preventContextMenu</code> - Prevents default context menu action (when right button of the mouse is clicked). It defaults to <code class="highlighted"><span class="token boolean">true</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.preventDefaultBlankAction" class="docs-item">
        <a href="#dia.Paper.prototype.options.preventDefaultBlankAction" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.preventDefaultBlankAction</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">preventDefaultBlankAction</code> - Prevents default action when an empty paper area is clicked. Setting the option to <code class="highlighted"><span class="token boolean">false</span></code> will make the paper pannable inside a container on touch devices. It defaults to <code class="highlighted"><span class="token boolean">true</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.preventDefaultViewAction" class="docs-item">
        <a href="#dia.Paper.prototype.options.preventDefaultViewAction" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.preventDefaultViewAction</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">preventDefaultViewAction</code> - Prevents default action when a cell view is clicked. For example, setting the option to <code class="highlighted"><span class="token boolean">false</span></code> will cause clicking on the view to blur the document active element. It defaults to <code class="highlighted"><span class="token boolean">true</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.restrictTranslate" class="docs-item">
        <a href="#dia.Paper.prototype.options.restrictTranslate" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.restrictTranslate</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">restrictTranslate</code> - restrict the translation (movement) of elements by a given bounding box.
If set to <code class="highlighted"><span class="token boolean">true</span></code>, the user will not be able to move elements outside the boundary of the paper area. It's set to <code class="highlighted"><span class="token boolean">false</span></code> by default.
This option also accepts a function with signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> x0<span class="token punctuation">,</span> y0</span><span class="token punctuation">)</span></code> in which case it must return one of the following:

<ul>
    <li>
        <b>rectangle</b> - (an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number<span class="token punctuation">,</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>) that defines the area in which the element represented by <code class="highlighted">elementView</code> can be moved.
    </li>
    <li>
        <b>null</b> - no restriction for element translation
    </li>
    <li>
        <b>(x, y) => Position</b> - For a given element position <code class="highlighted">x<span class="token punctuation">,</span>y</code> return a new position <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>. The function is invoked every time the user moves the pointer.
    </li>
</ul>

<p>For example, to restrict translation of embedded elements by the bounding box defined by their parent element, you can do:</p>

<pre><code class="highlighted"><span class="token function-variable function">restrictTranslate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> parent <span class="token operator">=</span> elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getParentCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> parent
        <span class="token operator">?</span> parent<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// children movement is constrained by the parent area</span>
        <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// parent movement is not restricted</span>
<span class="token punctuation">}</span></code></pre>

<p>Or restrict an element movement along a path:</p>

<pre><code class="highlighted"><span class="token function-variable function">restrictTranslate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> x0<span class="token punctuation">,</span> y0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// x0 and y0 are pointer coordinates at the start of the translation</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span><span class="token string">'M 20 20 L 200 200 L 380 20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> x1<span class="token punctuation">,</span> y<span class="token operator">:</span> y1<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// The initial difference between the pointer coordinates and the element position</span>
    <span class="token keyword">const</span> dx <span class="token operator">=</span> x1 <span class="token operator">-</span> x0<span class="token punctuation">;</span>
    <span class="token keyword">const</span> dy <span class="token operator">=</span> y1 <span class="token operator">-</span> y0<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Find the point on the path.</span>
        <span class="token keyword">const</span> point <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">closestPoint</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> x <span class="token operator">-</span> dx<span class="token punctuation">,</span> y<span class="token operator">:</span> y <span class="token operator">-</span> dy <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Put the center of the element on this point</span>
        point<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token operator">-</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> point<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>


        </div>
    </div>
    <div id="dia.Paper.prototype.options.routerNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.routerNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.routerNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">routerNamespace</code> - built-in <a href="#routers">routers</a> are defined by default on the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace. 
                                It is also possible to define custom routers on this namespace. If you would like JointJS to look for router
                                definitions under a different namespace, you can set the <code class="highlighted">routerNamespace</code> option to your desired 
                                namespace.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.snapLabels" class="docs-item">
        <a href="#dia.Paper.prototype.options.snapLabels" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.snapLabels</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">snapLabels</code> - when enabled, force a dragged label to snap to its link. The default is <code class="highlighted"><span class="token boolean">false</span></code>, which means that the label may also be dragged around the link.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.snapLinks" class="docs-item">
        <a href="#dia.Paper.prototype.options.snapLinks" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.snapLinks</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">snapLinks</code> - when enabled, force a dragged link to snap to the closest element/port in the given radius. The option accepts <code class="highlighted"><span class="token boolean">true</span></code> in which case default values are used or an object of the form
                  <code class="highlighted"><span class="token punctuation">{</span> radius<span class="token operator">:</span> <span class="token operator">&lt;</span>value<span class="token operator">></span> <span class="token punctuation">}</span></code> where you can specify the radius (default is 50).
        </div>
    </div>
    <div id="dia.Paper.prototype.options.snapLinksSelf" class="docs-item">
        <a href="#dia.Paper.prototype.options.snapLinksSelf" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.snapLinksSelf</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">snapLinksSelf</code> - when enabled, forces a dragged link end to snap to the <code class="highlighted">x</code> or <code class="highlighted">y</code> coordinate of the closest point on the current link (one of the ends and vertices) if the distance to the point on one axis is lesser than the specified radius. The option accepts <code class="highlighted"><span class="token boolean">true</span></code> in which case default values are used or an object of the form
                  <code class="highlighted"><span class="token punctuation">{</span> radius<span class="token operator">:</span> <span class="token operator">&lt;</span>value<span class="token operator">></span> <span class="token punctuation">}</span></code> where you can specify the radius (the default is 20).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.sorting" class="docs-item">
        <a href="#dia.Paper.prototype.options.sorting" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.sorting</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted">sorting</code> - the sorting type to use when rendering the views in this paper (i.e. <q>In what order should the views be rendered?</q>).</p>

<p>The SVG 1.1 format does not have built-in z-index functionality, so JointJS implements it programmatically. You can set the z-index directly using regular <a href="#mvc.Model">mvc.Model</a> <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token punctuation">)</span></code> methods or through <a href="#dia.Element.prototype.toFront"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>/<a href="#dia.Element.prototype.toBack"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>/<a href="#dia.Link.prototype.toFront"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>/<a href="#dia.Link.prototype.toBack"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods. See the <a href="#dia.Element.intro.z">element Z documentation</a> for more information.</p>

<p>The Paper object exposes a <code class="highlighted">sorting</code> object with three values that may be used as values of this option:</p>

<ul>
	<li><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper<span class="token punctuation">.</span>sorting<span class="token punctuation">.</span><span class="token constant">APPROX</span></code> - (default) render views according to their z-values. Views with different z-value are rendered in order, but the ordering of views with the same z-value is indeterminate. Similar in functionality to the <code class="highlighted"><span class="token constant">EXACT</span></code> option, but much faster.</li>
	<li><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper<span class="token punctuation">.</span>sorting<span class="token punctuation">.</span><span class="token constant">EXACT</span></code> - render views in exactly the same order as reported by <a href="#dia.Graph.prototype.getCells"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> (views with different z-values are rendered in order, and views with the same z-value are rendered in the order in which they were added). This is by far the slowest option, present mainly for backwards compatibility.</li>
	<li><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper<span class="token punctuation">.</span>sorting<span class="token punctuation">.</span><span class="token constant">NONE</span></code> - render views in an indeterminate order. (Note that this setting disables all <code class="highlighted">toFront</code>/<code class="highlighted">toBack</code> functions mentioned above.)</li>
</ul>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateConnection" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateConnection" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateConnection</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token function">validateConnection</span><span class="token punctuation">(</span>cellViewS<span class="token punctuation">,</span> magnetS<span class="token punctuation">,</span> cellViewT<span class="token punctuation">,</span> magnetT<span class="token punctuation">,</span> end<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span></code> - 
a function that allows you control which link connections can be made between the source cellView/magnet (<code class="highlighted">cellViewS<span class="token operator">/</span>magnetS</code>), and the target cellView/magnet (<code class="highlighted">cellViewT<span class="token operator">/</span>magnetT</code>). 
<code class="highlighted">end</code> is either the <code class="highlighted"><span class="token string">"source"</span></code> or the <code class="highlighted"><span class="token string">"target"</span></code>, and indicates which end of the link is being dragged. 
This is useful for defining whether a link starting in port <i>POut</i> of element A can lead to port <i>PIn</i> of element B. By default, all connections are allowed.

<pre><code class="highlighted">
<span class="token comment">// The default allows all element connections</span>
<span class="token function-variable function">validateConnection</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cellViewS<span class="token punctuation">,</span> _magnetS<span class="token punctuation">,</span> cellViewT<span class="token punctuation">,</span> _magnetT<span class="token punctuation">,</span> end<span class="token punctuation">,</span> _linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>end <span class="token operator">===</span> <span class="token string">'target'</span> <span class="token operator">?</span> cellViewT <span class="token operator">:</span> cellViewS<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">ElementView</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Other examples</span>
<span class="token function-variable function">validateConnection</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cellViewS<span class="token punctuation">,</span> magnetS<span class="token punctuation">,</span> cellViewT<span class="token punctuation">,</span> magnetT<span class="token punctuation">,</span> end<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Prevent Link to Link connections</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cellViewT<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> cellVIewS<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Prevent loop linking - This means the source and target cannot connect to the same magnet (e.g. port)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>magnetS <span class="token operator">===</span> magnetT<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Only allow target end to be reconnected</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">===</span> <span class="token string">'source'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Don't allow connection to cellView with 'isInactive' attribute of value true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cellViewS<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'isInactive'</span><span class="token punctuation">)</span> <span class="token operator">||</span> cellViewT<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'isInactive'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Prevent linking from input ports (assumes you have port groups setup)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>magnetS <span class="token operator">&amp;&amp;</span> magnetS<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'port-group'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'in'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Allow all other connections</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateEmbedding" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateEmbedding" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateEmbedding</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">validateEmbedding</code> - a function that allows you to control what elements can be embedded to
                              what other elements when the paper is put into the <code class="highlighted">embeddingMode</code> (see above).
                              The function signature is: <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">childView<span class="token punctuation">,</span> parentView</span><span class="token punctuation">)</span></code> and should return
                              <code class="highlighted"><span class="token boolean">true</span></code> if the <code class="highlighted">childView</code> element can be embedded into the <code class="highlighted">parentView</code> element.
                              By default, all elements can be embedded into all other elements (the function returns <code class="highlighted"><span class="token boolean">true</span></code> no matter what).
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateMagnet" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateMagnet" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateMagnet</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token function">validateMagnet</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> magnet<span class="token punctuation">,</span> evt<span class="token punctuation">)</span></code> - decide whether to create a link if the user clicks a magnet. <code class="highlighted">magnet</code> is the DOM element representing the magnet. By default, this function returns <code class="highlighted"><span class="token boolean">true</span></code> for magnets that are not explicitly set to &quot;passive&quot; (which is usually the case of input ports).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateUnembedding" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateUnembedding" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateUnembedding</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">validateUnembedding</code> - a function that allows you to control which elements can be unembedded when the paper is put into the <code class="highlighted">embeddingMode</code> <i>(see above)</i>.
<br>
The function signature is <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">childView</span><span class="token punctuation">)</span></code> and should return
<code class="highlighted"><span class="token boolean">true</span></code> if the <code class="highlighted">childView</code> element can be unembedded from the parent and become a new root.
<br>
By default, all elements can become roots (the function returns <code class="highlighted"><span class="token boolean">true</span></code> no matter what).
<br>
The callback is called at the end of drag & drop action and if <code class="highlighted"><span class="token boolean">false</span></code> is returned, the position of the element, as well as the parent reference is reverted to the values before dragging.
<br>
The callback is called only on elements which were previously embedded in another element.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.viewport" class="docs-item">
        <a href="#dia.Paper.prototype.options.viewport" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.viewport</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">viewport</code> - a callback function that is used to determine whether a given view should be shown in an <a href="#dia.Paper.prototype.options.async"><code class="highlighted"><span class="token keyword">async</span></code></a> paper. If the function returns <code class="highlighted"><span class="token boolean">true</span></code>, the view is attached to the DOM; if it returns <code class="highlighted"><span class="token boolean">false</span></code>, the view is detached/unmounted from the DOM. The callback function is provided with three arguments:<p></p>

<table>
    <tr>
        <td>view</td>
        <td><i>mvc.View</i></td>
        <td>The view in question</td>
    </tr>
    <tr>
        <td>isMounted</td>
        <td><i>boolean</i></td>
        <td>Is the view currently visible in the paper?</td>
    </tr>
    <tr>
        <td>paper</td>
        <td><i>dia.Paper</i></td>
        <td>This paper (for context)</td>
    </tr>
</table>

<p>This function is meant to support hiding of views when they are outside the viewport. In most situations, it is unnecessary to render DOM elements that are not visible by the user; removing those elements from the DOM dramatically improves rendering times of huge graphs (thousands of views) and improves smoothness of user interaction. (If you do need to show a view that falls outside of this viewport, you can manually force the view to be shown using <a href="#dia.Paper.prototype.requireView"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">requireView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>. If you need to show views according to a different viewport function, use <a href="#dia.Paper.prototype.checkViewport"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">checkViewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>. If you need to force all views to be shown, use <a href="#dia.Paper.prototype.dumpViews"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">dumpViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>.)</p>

<p>Example usage:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> viewportRect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    model<span class="token operator">:</span> graph<span class="token punctuation">,</span>
    cellViewNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes<span class="token punctuation">,</span>
    async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">viewport</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> model <span class="token operator">=</span> view<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
        <span class="token keyword">var</span> bbox <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// vertical/horizontal links have zero width/height</span>
            <span class="token comment">// we need to manually inflate the bounding box</span>
            bbox<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// Return true if there is an intersection</span>
        <span class="token comment">// Return true if bbox is within viewportRect</span>
        <span class="token keyword">return</span> viewportRect<span class="token punctuation">.</span><span class="token function">intersect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted">viewport</code> function can also be used to support collapsing/uncollapsing behavior:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    model<span class="token operator">:</span> graph<span class="token punctuation">,</span>
    cellViewNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes<span class="token punctuation">,</span>
    async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">viewport</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Return true if model is not hidden</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'hidden'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:pointerclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">toggleBranch</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">toggleBranch</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> shouldHide <span class="token operator">=</span> <span class="token operator">!</span>root<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'collapsed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    root<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'collapsed'</span><span class="token punctuation">,</span> shouldHide<span class="token punctuation">)</span><span class="token punctuation">;</span>
    graph<span class="token punctuation">.</span><span class="token function">getSuccessors</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">successor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        successor<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'hidden'</span><span class="token punctuation">,</span> shouldHide<span class="token punctuation">)</span><span class="token punctuation">;</span>
        successor<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'collapsed'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.width" class="docs-item">
        <a href="#dia.Paper.prototype.options.width" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.width</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">width</code> - width of the paper (see <a href="#dia.Paper.prototype.setDimensions">setDimensions()</a>).

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="dia.ToolsView" class="docs-item">
    <div id="dia.ToolsView.intro" class="docs-item">
        <a href="#dia.ToolsView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ToolsView</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</code> class works as a container for one set of link tools (an array of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">objects</a>). It is responsible for rendering the tools as a group when the tools view is attached to a <a href="#dia.LinkView">joint.dia.LinkView</a>.</p>

<p>To create a new tools view object, we call its constructor. Two optional arguments are accepted:</p>

<table>
    <tr>
        <th>name</th>
        <td><i>string</i></td>
        <td>The name of this tools view. Default is <code class="highlighted"><span class="token keyword">null</span></code> (no name).</td>
    </tr>
    <tr>
        <th>tools</th>
        <td><i>Array&lt;dia.ToolView&gt;</i></td>
        <td>An array of <a href="#dia.ToolView">tools</a> that should be a part of the tools view. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">]</span></code> (no tools).</td>
    </tr>
</table>

<p>Creating a tools view is the second step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token operator">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype" class="docs-item">
    <div id="dia.ToolsView.prototype.blurTool" class="docs-item">
        <a href="#dia.ToolsView.prototype.blurTool" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.blurTool</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">blurTool</span><span class="token punctuation">(</span>tool<span class="token punctuation">)</span></code></pre>
<p>Stop focusing the specified <code class="highlighted">tool</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">type</a>) within this tools view.</p>

<p>This function reverses the effect of the <code class="highlighted">toolsView<span class="token punctuation">.</span>focusTool</code> <a href="#dia.ToolsView.prototype.focusTool">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.blurTools" class="docs-item">
        <a href="#dia.ToolsView.prototype.blurTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.blurTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">blurTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Stop focusing any tools within this tools view.</p>

<p>This function reverses the effect of the <code class="highlighted">toolsView<span class="token punctuation">.</span>focusTool</code> <a href="#dia.ToolsView.prototype.focusTool">function</a> applied to any tool in this tools view.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.focusTool" class="docs-item">
        <a href="#dia.ToolsView.prototype.focusTool" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.focusTool</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">focusTool</span><span class="token punctuation">(</span>tool<span class="token punctuation">)</span></code></pre>
<p>Focus the specified <code class="highlighted">tool</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">type</a>) within this tools view.</p>

<p>When a tool is <q>focused</q>, all other tools within this tools view are hidden and the tool's opacity is changed according to the tool's <code class="highlighted">focusOpacity</code> option. Only one tool can be focused at a time; the focus passes to the last tool within this tools view with which the <code class="highlighted">focusTool</code> function was called.</p>

<p>The effect of this function can be reversed for a single <code class="highlighted">tool</code> by the <code class="highlighted">toolsView<span class="token punctuation">.</span>blurTool</code> <a href="#dia.ToolsView.prototype.blurTool">function</a>. All tools can be unfocused by the <code class="highlighted">toolsView<span class="token punctuation">.</span>blurTools</code> <a href="#dia.ToolsView.prototype.blurTools">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.getName" class="docs-item">
        <a href="#dia.ToolsView.prototype.getName" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.getName</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the name of this tools view. If no name was set during the construction of the tools view, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.hide" class="docs-item">
        <a href="#dia.ToolsView.prototype.hide" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.hide</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools within this tools view.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.show" class="docs-item">
        <a href="#dia.ToolsView.prototype.show" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.show</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools within this tools view.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.options" class="docs-item">
    <div id="dia.ToolsView.prototype.options.layer" class="docs-item">
        <a href="#dia.ToolsView.prototype.options.layer" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.ToolsView.prototype.options.layer</h6>
        </a>
        <div class="docs-item-content">
<p><b>layer</b> - the stacking context of the tools view.</p>

<table>
    <tr>
        <td><code class="highlighted"><span class="token string">"tools"</span></code> <i>(default)</i></td>
        <td>Render the tools in front of all the cells.</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token keyword">null</span></code></td>
        <td>Render the tools above the cell. It can be hidden by a cell with a higher <b>z</b> index.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.options.z" class="docs-item">
        <a href="#dia.ToolsView.prototype.options.z" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.ToolsView.prototype.options.z</h6>
        </a>
        <div class="docs-item-content">
<p><b>z</b> - the stacking order (z-index) of the tools view in the given <a href="#dia.ToolsView.prototype.options.layer">stacking context</a>.</p>

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="dia.ToolView" class="docs-item">
    <div id="dia.ToolView.intro" class="docs-item">
        <a href="#dia.ToolView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ToolView</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> class is the parent class of all link tool views included in the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> <a href="#linkTools">namespace</a>. It is responsible for rendering the tool within a <a href="#dia.ToolsView">joint.dia.ToolsView</a>, when the tools view is attached to a <a href="#dia.LinkView">joint.dia.LinkView</a>.</p>

<p>Creating link tools objects is the first step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token operator">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype" class="docs-item">
    <div id="dia.ToolView.prototype.blur" class="docs-item">
        <a href="#dia.ToolView.prototype.blur" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.blur</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Stop focusing the tool within its containing <code class="highlighted">toolsView</code>.</p>

<p>This function reverses the effect of the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.focus" class="docs-item">
        <a href="#dia.ToolView.prototype.focus" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.focus</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Focus the tool within its containing <code class="highlighted">toolsView</code>.</p>

<p>When a tool is <q>focused</q>, all other tools within the <code class="highlighted">toolsView</code> are hidden and the tool's opacity is changed according to the tool's <code class="highlighted">focusOpacity</code> option. Only one tool can be focused at a time; the focus passes to the last tool within a tools view on which the <code class="highlighted">focus</code> function was called.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>blur</code> <a href="#dia.ToolView.prototype.blur">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.getName" class="docs-item">
        <a href="#dia.ToolView.prototype.getName" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.getName</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the name of the tool. The names of built-in link tools are kebab-case versions of their class names (e.g. the name of <code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</code> is <code class="highlighted"><span class="token string">'source-anchor'</span></code>).</p>

<p>When creating a custom tool (e.g. by extending the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</code> <a href="#linkTools.Button">class</a>), it is recommended that you provide a custom <code class="highlighted">name</code> prototype property, as well:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>InfoButton <span class="token operator">=</span> joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'info-button'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
                <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        distance<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.ToolView.prototype.hide" class="docs-item">
        <a href="#dia.ToolView.prototype.hide" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.hide</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide the tool.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>show</code> <a href="#dia.ToolView.prototype.show">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.isVisible" class="docs-item">
        <a href="#dia.ToolView.prototype.isVisible" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.isVisible</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the tool is currently visible.</p>

<p>A tool is not visible if it has been hidden (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>hide</code> <a href="#dia.ToolView.prototype.hide">function</a>) or if another tool within the containing <code class="highlighted">toolsView</code> has been focused (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>).</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.show" class="docs-item">
        <a href="#dia.ToolView.prototype.show" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.show</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show the tool.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>hide</code> <a href="#dia.ToolView.prototype.hide">function</a>.</p>

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="elementTools" class="docs-item">
    <div id="elementTools.intro" class="docs-item">
        <a href="#elementTools.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools</h3>
        </a>
        <div class="docs-item-content">
<p>An element tool is a view that renders a certain type of control elements on top of the <a href="#dia.ElementView">ElementView</a> it is attached to; for example the <a href="#elementTools.Remove">Remove tool</a> creates an interactive button above the element (this button then allow the user to remove the element). Element tools all inherit from the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">class</a>. A collection of tools is added to a <a href="#dia.ToolsView">ToolsView</a>; a tools view is then added to the elementView with the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.addTools">function</a>.

</p><p>The JointJS library comes with a collection of pre-made element tool definitions in the <code class="highlighted">joint<span class="token punctuation">.</span>elementTools</code> namespace:

<ul>
    <li><code class="highlighted">Boundary</code> - <a href="#elementTools.Boundary">shows element bbox</a></li>
    <li><code class="highlighted">Remove</code> - <a href="#elementTools.Remove">adds an interactive remove button</a></li>
</ul>

</p><p>To create a new element tool, we call its constructor. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> removeTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rotate<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>In addition, the <code class="highlighted">joint<span class="token punctuation">.</span>elementTools</code> namespace contains a customizable button class:</p>

<ul>
    <li><code class="highlighted">Button</code> - <a href="#elementTools.Button">adds a customizable button</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    x<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>All of the built-in element tools accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>focusOpacity</th>
        <td><i>number</i></td>
        <td>What should be the opacity of the tool when it is focused (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>)? Default is <code class="highlighted"><span class="token keyword">undefined</span></code>, meaning that the tool's opacity is kept unchanged.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="elementTools.Boundary" class="docs-item">
        <a href="#elementTools.Boundary" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.Boundary</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Boundary</code> element tool renders a rectangular border to show the bounding box of the element. It accepts a few additional arguments, which can be passed as an object to the element tool constructor:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number|object</i></td>
        <td>This option determines whether the boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code> (<code class="highlighted"><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> bottom<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span></code>).</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the boundary rotate according to the element angle? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>useModelGeometry</th>
        <td><i>boolean</i></td>
        <td>If this option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the position of the boundary is calculated based on the dimensions of the element model.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    padding<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    useModelGeometry<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="elementTools.Button" class="docs-item">
        <a href="#elementTools.Button" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.Button</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Button</code> element tool allows you to have a custom button rendered at a given position above the element. It accepts a few additional arguments, which can be passed as an object to the element tool constructor:</p>

<table>
    <tr>
        <th>x</th>
        <td rowspan="2"><i>string | number</i></td>
        <td rowspan="2">Use percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) or <a href="#dia.attributes.calc">calc()</a> expression (e.g. <code class="highlighted"><span class="token string">'calc(0.4 * w)'</span></code>) to position the button relatively to the element width/height. A number means distance from the top-left corner of the element. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>y</th>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the element angle around the element center? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>object</i></td>
        <td>Additional offset of the button from the position defined by <code class="highlighted">x</code> and <code class="highlighted">y</code>. Default is <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the button? Default is <code class="highlighted"><span class="token keyword">undefined</span></code> (no interaction).<br><br>

            The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> elementView<span class="token punctuation">,</span> buttonView</span><span class="token punctuation">)</span></code> where <code class="highlighted">evt</code> is a DOM event. The element view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code>; the element model is available as <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>model</code>.</td>
    </tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default is <code class="highlighted"><span class="token keyword">undefined</span></code> (no content).</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the button up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example of a useful custom info button:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token comment">// top-right corner</span>
    x<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token string">'0%'</span>'<span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted">elementTools<span class="token punctuation">.</span>Button</code> class can also be extended, to create a reusable custom button type. Then, a new instance of the custom button type can be obtained by calling its constructor:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> InfoButton <span class="token operator">=</span> joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Button<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'info-button'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        distance<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
                <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InfoButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="elementTools.Connect" class="docs-item">
        <a href="#elementTools.Connect" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.Connect</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Connect</code> tool allows the user to create links in a drag & drop fashion. The tool extends the <a href="#elementTools.Button">Button</a> tool and accepts additional arguments, which can be passed as an object to the connect tool constructor:</p>

<table>
    <tr>
        <th>magnet</th>
        <td><i>string<br>SVGElement<br>(view: dia.LinkView) => SVGElement</i></td>
        <td>Choose the source magnet of the link view which the new link should be connected to.

            <pre><code class="highlighted"><span class="token string">'body'</span> <span class="token comment">// as a string Selector</span></code></pre>
            <pre><code class="highlighted">linkView<span class="token punctuation">.</span>el <span class="token comment">// as an SVGElement</span></code></pre>
            <pre><code class="highlighted"><span class="token punctuation">(</span><span class="token parameter">linkView</span><span class="token punctuation">)</span> <span class="token operator">=></span> linkView<span class="token punctuation">.</span>el <span class="token comment">// as a function</span></code></pre>

            <p>The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">linkView<span class="token punctuation">,</span> toolView</span><span class="token punctuation">)</span></code> where <code class="highlighted">linkView</code> is the link view with the tool attached. The connect button view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code> and as the last parameter.</p>
        </td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> connectButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    magnet<span class="token operator">:</span> <span class="token string">'body'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="elementTools.Control" class="docs-item">
        <a href="#elementTools.Control" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.Control</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Control</code> element tool is an abstract class which allows you to build tools to control the look or shape of an element by simply dragging a UI handle. It accepts a few additional arguments, which can be passed as an object to the element tool constructor:</p>

<table>
    <tr>
        <th>selector</th>
        <td><i>string | null</i></td>
        <td>The element selector pointing to an element subnode, which the tool draws a frame around during dragging. If <code class="highlighted"><span class="token keyword">null</span></code> provided, no frame will be shown.</td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>The padding between the area and the bounding box of the node designated by <code class="highlighted">selector</code>.</td>
    </tr>
    <tr>
        <th>handleAttributes</th>
        <td><i>function</i></td>
        <td>An object with SVG attributes to be applied to the tool's handle.</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the button up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<pre><code class="highlighted">namespace Control <span class="token punctuation">{</span>
    <span class="token keyword">interface</span> <span class="token class-name">Options</span> <span class="token keyword">extends</span> <span class="token class-name">dia<span class="token punctuation">.</span>ToolView<span class="token punctuation">.</span>Options</span> <span class="token punctuation">{</span>
        selector<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
        padding<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
        handleAttributes<span class="token operator">?</span><span class="token operator">:</span> Partial<span class="token operator">&lt;</span>attributes<span class="token punctuation">.</span>NativeSVGAttributes<span class="token operator">></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

abstract <span class="token keyword">class</span> <span class="token class-name">Control</span> <span class="token keyword">extends</span> <span class="token class-name">dia<span class="token punctuation">.</span>ToolView</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token function">getPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">)</span><span class="token operator">:</span> dia<span class="token punctuation">.</span>Point<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token function">setPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">,</span> coordinates<span class="token operator">:</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token function">resetPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

<table>
    <tr>
        <td><code class="highlighted"><span class="token function">getPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">)</span><span class="token operator">:</span> dia<span class="token punctuation">.</span>Point<span class="token punctuation">;</span></code></td>
        <td>
            The method should return the position of the handle based on a model value.
            The position is defined in the element model coordinate system (point <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></code> is the top-left corner; point <code class="highlighted"><span class="token punctuation">[</span>width<span class="token punctuation">,</span> height<span class="token punctuation">]</span></code> is the bottom-right corner - the element's rotation does not affect this).
        </td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token function">setPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">,</span> coordinates<span class="token operator">:</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></td>
        <td>The method is executed each time the handle is moved. It's supposed to set the new model value derived from the current pointer <code class="highlighted">coordinates</code> (defined in the element model coordinate system)</td>
    </tr>
    <tr>
        <td><code class="highlighted"><span class="token function">resetPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></td>
        <td>The method is executed when the handle is double-clicked. It's supposed to reset the model value back to a default.</td>
    </tr>
</table>


<p>Here's an ES5 example of a tool, which provides the user a way to modify the border radius of an rectangle.</p>

<iframe src="about:blank" data-src="demo/elementTools/control.html" style="height: 426px; width: 423px;"></iframe>

<pre><code class="highlighted"><span class="token keyword">var</span> RadiusTool <span class="token operator">=</span> elementTools<span class="token punctuation">.</span>Control<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token function-variable function">getPosition</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> model <span class="token operator">=</span> view<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
        <span class="token keyword">var</span> size <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> tilt <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> tilt <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">setPosition</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view<span class="token punctuation">,</span> coordinates</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> model <span class="token operator">=</span> view<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
        <span class="token keyword">var</span> size <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> tilt <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>coordinates<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span>tilt<span class="token punctuation">,</span> <span class="token punctuation">{</span> ui<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> tool<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">resetPosition</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> radius <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultRadius <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rx<span class="token operator">:</span> radius<span class="token punctuation">,</span> ry<span class="token operator">:</span> radius <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>TypeScript example of the same control:</p>

<pre><code class="highlighted"><span class="token keyword">interface</span> <span class="token class-name">RadiusControlOptions</span> <span class="token keyword">extends</span> <span class="token class-name">elementTools<span class="token punctuation">.</span>Control<span class="token punctuation">.</span>Options</span> <span class="token punctuation">{</span>
    defaultRadius<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">RadiusControl</span> <span class="token keyword">extends</span> <span class="token class-name">elementTools<span class="token punctuation">.</span>Control</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token function">getPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">)</span><span class="token operator">:</span> dia<span class="token punctuation">.</span>Point <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> model <span class="token punctuation">}</span> <span class="token operator">=</span> view<span class="token punctuation">;</span>
        <span class="token keyword">const</span> radius <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'ry'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> radius <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">setPosition</span><span class="token punctuation">(</span>view<span class="token operator">:</span> dia<span class="token punctuation">.</span>ElementView<span class="token punctuation">,</span> coordinates<span class="token operator">:</span> dia<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> model <span class="token punctuation">}</span> <span class="token operator">=</span> view<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> radius <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>coordinates<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rx<span class="token operator">:</span> radius<span class="token punctuation">,</span> ry<span class="token operator">:</span> radius  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">resetPosition</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> model <span class="token punctuation">}</span> <span class="token operator">=</span> view<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> defaultRadius <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rx<span class="token operator">:</span> defaultRadius<span class="token punctuation">,</span> ry<span class="token operator">:</span> defaultRadius <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>Add the tool to a rectangle element to allow the user adjust its "border radius".</p>

<pre><code class="highlighted">rectangle<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    tools<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">RadiusTool</span><span class="token punctuation">(</span><span class="token punctuation">{</span> handleAttributes<span class="token operator">:</span> <span class="token punctuation">{</span> fill<span class="token operator">:</span> <span class="token string">'orange'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>






        </div>
    </div>
    <div id="elementTools.HoverConnect" class="docs-item">
        <a href="#elementTools.HoverConnect" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.HoverConnect</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">HoverConnect</code> tool allows the user to create links from elements in a drag & drop fashion. The tool extends the <a href="#elementTools.Connect">Connect</a> tool. The difference is that the button appears along the invisible track path (in the shape defined by <code class="highlighted">trackPath</code>) at the point where the user moves the mouse over the track. It accepts additional arguments, which can be passed as an object to the hover connect tool constructor:</p>

<table>
    <tr>
        <th>trackWidth</th>
        <td><i>number</i></td>
        <td>The thickness of the track path. The default is <code class="highlighted"><span class="token number">15</span></code>.</td>
    </tr>
    <tr>
        <th>trackPath</th>
        <td><i>string</i><br>(view: dia.ElementView) => string</td>
        <td>The SVG list of <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d#path_commands" target="_blank">Path Commands</a>. It may contain <a href="#dia.attributes.calc">calc expressions</a> which are evaluated in the context of the related element view (or model when <code class="highlighted">useModelGeometry</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>). The default is <code class="highlighted"><span class="token string">'M 0 0 H calc(w) V calc(h) H 0 Z'</span></code> (a rectangle in size of the element).</td>
    </tr>

</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> hoverButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>HoverConnect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    useModelGeometry<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">trackPath</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">view</span><span class="token punctuation">)</span> <span class="token operator">=></span> view<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="elementTools.Remove" class="docs-item">
        <a href="#elementTools.Remove" class="docs-item-anchor">
            <h3 class="docs-item-header">elementTools.Remove</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Remove</code> element tool renders a remove button at a given position above the element. It accepts a few additional arguments, which can be passed as an object to the element tool constructor:</p>


<table>
    <tr>
        <th>x</th>
        <td rowspan="2"><i>string | number</i></td>
        <td rowspan="2">Use percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) to position the button relatively to the element width/height. A number means distance from the top-left corner of the element. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>y</th>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the element angle around the element center? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>object</i></td>
        <td>Additional offset of the button from the position defined by <code class="highlighted">x</code> and <code class="highlighted">y</code>. Default is <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the remove button? Default:

            <pre><code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> elementView<span class="token punctuation">,</span> toolView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> ui<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> tool<span class="token operator">:</span> toolView<span class="token punctuation">.</span>cid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
    </td></tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default is <code class="highlighted"><span class="token keyword">undefined</span></code> (no content).</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the button up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> removeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>elementTools<span class="token punctuation">.</span>Remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// top-mid</span>
    x<span class="token operator">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="env" class="docs-item">
    <div id="env.addTest" class="docs-item">
        <a href="#env.addTest" class="docs-item-anchor">
            <h3 class="docs-item-header">env.addTest</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">env<span class="token punctuation">.</span><span class="token function">addTest</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> fn<span class="token punctuation">)</span></code></pre>

<p>Add a custom feature-detection test where <code class="highlighted">name</code> is a string which uniquely identifies your feature test and <code class="highlighted">fn</code> is a function that returns <code class="highlighted"><span class="token boolean">true</span></code> if the browser supports the feature, and <code class="highlighted"><span class="token boolean">false</span></code> if it does not.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">addTest</span><span class="token punctuation">(</span><span class="token string">'customTest'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Just as an example, we will always return true here.</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'customTest'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Feature is supported.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="env.test" class="docs-item">
        <a href="#env.test" class="docs-item-anchor">
            <h3 class="docs-item-header">env.test</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre>

<p>Tests whether the browsers supports the given feature or not. Returns <code class="highlighted"><span class="token boolean">true</span></code> if the feature is supported, otherwise it returns <code class="highlighted"><span class="token boolean">false</span></code>.</p>

<pre><code class="highlighted"><span class="token keyword">if</span> <span class="token punctuation">(</span>joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'someFeature'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Feature is supported.</span>
<span class="token punctuation">}</span></code></pre>

<p>JointJS ships with the following tests:</p>
<ul>
    <li><b>svgforeignobject</b> - Tests whether the browser supports <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject">foreignObject</a>.</li>
</ul>

        </div>
    </div>
    </div>
    <div id="highlighters" class="docs-item">
    <div id="highlighters.intro" class="docs-item">
        <a href="#highlighters.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters</h3>
        </a>
        <div class="docs-item-content">
<p>Highlighters can be used to provide visual emphasis to an element; during user interactions for example.</p>

<p>Highlighters inherit from <a href="#dia.HighlighterView">dia.HighlighterView</a>.</p>

<iframe src="about:blank" data-src="demo/highlighters/mask.html" style="height: 426px; width: 423px;"></iframe>

<p>In the above demo, we listen to the paper for the <code class="highlighted">element<span class="token operator">:</span>pointerclick</code> event and highlight the entire element we clicked on.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> <span class="token punctuation">{</span> selector<span class="token operator">:</span> <span class="token string">'root'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'my-element-highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF4365'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>We also listen to the paper for the <code class="highlighted">element<span class="token operator">:</span>magnet<span class="token operator">:</span>pointerclick</code> event and highlight the port we clicked on.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:magnet:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> magnet<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Prevent highlighting the body of the element</span>
    evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Find the port ID of the selected magnet</span>
    <span class="token keyword">const</span> port <span class="token operator">=</span> cellView<span class="token punctuation">.</span><span class="token function">findAttribute</span><span class="token punctuation">(</span><span class="token string">'port'</span><span class="token punctuation">,</span> magnet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> <span class="token punctuation">{</span> port <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'my-port-highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF4365'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Then we listen for the <code class="highlighted">link<span class="token operator">:</span>pointerclick</code> event and highlight the line node of the link we clicked on.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">linkView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>linkView<span class="token punctuation">,</span> <span class="token punctuation">{</span> selector<span class="token operator">:</span> <span class="token string">'line'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'my-link-highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// Draw the highlighter under the LinkView</span>
        layer<span class="token operator">:</span> <span class="token string">'back'</span><span class="token punctuation">,</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF4365'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-linecap'</span><span class="token operator">:</span> <span class="token string">'square'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Next we set up a listener for a custom event <code class="highlighted">link<span class="token operator">:</span>label<span class="token operator">:</span>pointerdown</code> and highlight the label we clicked on.</p>

<div class="docs-important-note">
    A custom paper event can be defined with <a href="#dia.attributes.event">event attribute</a>.
</div>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:label:pointerdown'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">linkView<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Prevent highlighting the line of the link</span>
    evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Find the index of the selected label</span>
    <span class="token keyword">const</span> label <span class="token operator">=</span> cellView<span class="token punctuation">.</span><span class="token function">findAttribute</span><span class="token punctuation">(</span><span class="token string">'label-idx'</span><span class="token punctuation">,</span> evt<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>linkView<span class="token punctuation">,</span> <span class="token punctuation">{</span> label <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'my-label-highlight'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// Decrease the gap between the label and highlighter</span>
        padding<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF4365'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Generally, it's possible to highlight a cell (Element or Link) or a part of the cell calling the <code class="highlighted"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method of a highlighter.</p>
<pre><code class="highlighted"><span class="token comment">// Add Mask Highlighter with ID `my-mask-highlighter` to the CellView.</span>
<span class="token comment">// Note: `root` is a shortcut for `{ selector: 'root' }`</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'my-mask-highlighter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    deep<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add class name `my-highlight` to the CellView's body node.</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>addClass<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'my-class-highlighter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> <span class="token string">'my-highlight'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add Stroke Highlighter to a specific port node (using default options).</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token string">'port-id-1'</span><span class="token punctuation">,</span> selector<span class="token operator">:</span> <span class="token string">'portBody'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'my-port-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>To unhighlight a cell, call the <code class="highlighted"><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method.</p>
<pre><code class="highlighted"><span class="token comment">// Remove all highlighters from the CellView</span>
joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Remove the highlighter with ID `my-highlighter` from the CellView</span>
joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'my-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Remove all Mask highlighters from the cellView</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Remove Stroke Highlighter with ID `my-highlighter` from the cellView.</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'my-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// If you have a reference to a highlighter, calling its prototype `remove()` method is also valid.</span>
<span class="token keyword">const</span> highlighter <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'my-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
highlighter<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>To see if a cell has a highlighter, call the <code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method.</p>
<pre><code class="highlighted"><span class="token comment">// Get all the highlighters (an array) from the CellView</span>
joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get the highlighter with ID `my-highlighter` from the CellView</span>
joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'my-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get all Mask highlighters from the cellView</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get Stroke Highlighter with ID `my-highlighter` from the cellView.</span>
<span class="token comment">// If there is no such highlighter (ID or Type does not match, `null` is returned).</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'my-highlighter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>




<div class="docs-important-note">
    When adding a highlighter, prefer using a node selector over a reference to an actual node.
    <pre><code class="highlighted"><span class="token comment">// Prefer this:</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> <span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token string">'port1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'port-highlight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Over this:</span>
joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> elementView<span class="token punctuation">.</span><span class="token function">findPortNode</span><span class="token punctuation">(</span><span class="token string">'port1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'port-highlight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    <ul>
        <li>Using the node selector supports asynchronous rendering. No need to wait for an element to be rendered, when adding the highlighter.</li>
        <li>Using the node reference highlights the specific node only. If the view is redrawn, the node could have been replaced with another node which wouldn't be highlighted.</li>
    </ul>
</div>

<p>If a node (determined by the node selector) stops to exist (e.g. a port is removed) the <code class="highlighted">cell<span class="token operator">:</span>highlight<span class="token operator">:</span>invalid</code> event is triggered on the paper.</p>

<pre><code class="highlighted"><span class="token comment">// If we don't want the highlighter wait for the port to reappear, we can remove it when the event occurs.</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight:invalid'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="highlighters.addClass" class="docs-item">
        <a href="#highlighters.addClass" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.addClass</h3>
        </a>
        <div class="docs-item-content">
<p>Toggles a class name on an arbitrary cell view's SVG node.</p>

<p>Available options:</p>
<ul>
    <li><b>className</b> - the class name to toggle on the cell's node</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>addClass<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'my-highlighter-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> <span class="token string">'some-custom-class'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.custom" class="docs-item">
        <a href="#highlighters.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New highlighter can be defined by extending the <a href="#dia.HighlighterView">joint.dia.HighlighterView</a> base class.</p>

<pre><code class="highlighted"><span class="token comment">// A simple highlighter, which draws a rectangle over the entire CellView</span>
<span class="token keyword">const</span> MyHighlighter <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>HighlighterView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    tagName<span class="token operator">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>

    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
        <span class="token string">'fill-opacity'</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
        <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        padding<span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// Method called to highlight a CellView</span>
    <span class="token function">highlight</span><span class="token punctuation">(</span><span class="token parameter">cellView<span class="token punctuation">,</span> _node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> padding <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">;</span>
        <span class="token keyword">const</span> bbox <span class="token operator">=</span> cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Highlighter is always rendered relatively to the CellView origin</span>
        bbox<span class="token punctuation">.</span>x <span class="token operator">=</span> bbox<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// Increase the size of the highlighter</span>
        bbox<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>padding<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vel<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// Method called to unhighlight a CellView</span>
    <span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token parameter">_cellView<span class="token punctuation">,</span> _node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Cleaning required when the highlighter adds</span>
        <span class="token comment">// attributes/nodes to the CellView or Paper.</span>
        <span class="token comment">// This highlighter only renders a rectangle.</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

MyHighlighter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>el1<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'my-custom-highlighter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    layer<span class="token operator">:</span> <span class="token string">'front'</span><span class="token punctuation">,</span> <span class="token comment">// "layer" is an option inherited from the base class</span>
    padding<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.list" class="docs-item">
        <a href="#highlighters.list" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.list</h3>
        </a>
        <div class="docs-item-content">
<p>Adds a list of arbitrary SVGElements to the cell view.</p>

<h3>Available options:</h3>
<ul>
    <li><b>layer</b> - the stacking order of the highlighter. See <a href="#dia.HighlighterView.prototype.options.layer">dia.Highlighter</a> for supported values.</li>
    <li><b>attribute</b> - the name of the model attribute to read the list items from (and automatically update the list when the attribute changes). The option is mandatory and it's an array of items (each item is then passed as is to the <code class="highlighted">createListItem</code>) method.</li>
    <li><b>gap</b> - the space between items. Expects a <code class="highlighted">number</code>.</li>
    <li><b>size</b> - the size of each item. It's either a <code class="highlighted">number</code> or an object with <code class="highlighted">width</code> and <code class="highlighted">height</code> properties.</li>
    <li><b>direction</b> - specifies how list items are placed in the list container defining the main axis. It's either <code class="highlighted">row</code> (for growth on <code class="highlighted">x</code> coordinate) or <code class="highlighted">column</code> (for growth on <code class="highlighted">y</code> coordinate).</li>
    <li><b>position</b> - specifies the position and the alignment of the list container. The value is a <a href="#util.getRectPoint">position name</a>. Using one of the position values sets the list anchor and the position within the item view to that value. For instance the <code class="highlighted">bottom<span class="token operator">-</span>right</code> value positions the list by its bottom-right corner to the bottom-right corner of the element.</li>
    <li><b>margin</b> - the space around the list container. It's a <code class="highlighted">number</code> or an object with <code class="highlighted">left</code>,  <code class="highlighted">top</code>,  <code class="highlighted">right</code>,  <code class="highlighted">bottom</code> properties.</li>
</ul>

<h3>Methods:</h3>

<a href="#highlighters.list.createListItem">
    <h4 id="#highlighters.list.createListItem">highlighters.list.createListItem</h4>
</a>

<pre class="docs-method-signature"><code class="highlighted"><span class="token keyword">protected</span> <span class="token function">createListItem</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> size<span class="token punctuation">,</span> currentListItem<span class="token punctuation">)</span></code></pre>

<p>It accepts the <code class="highlighted">item</code> (a value at a position from the model attributes's array), the normalized <code class="highlighted">size</code> object and <code class="highlighted">currentListItem</code> SVGElement if such a node was created in a previous call. It returns an SVGElement.</p>

<p>It's an abstract method meant to be overridden.</p>

<p>The list optimizes the updates i.e. the method is not executed if the particular item does not change.</p>

<h3>Example usage:</h3>
<pre><code class="highlighted"><span class="token keyword">class</span> <span class="token class-name">StatusList</span> <span class="token keyword">extends</span> <span class="token class-name">highlighters<span class="token punctuation">.</span>list</span> <span class="token punctuation">{</span>

    <span class="token comment">// list of colored ellipses</span>
    <span class="token function">createListItem</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> node <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">V</span><span class="token punctuation">(</span><span class="token string">'ellipse'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string">'rx'</span><span class="token operator">:</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'ry'</span><span class="token operator">:</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'cx'</span><span class="token operator">:</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'cy'</span><span class="token operator">:</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> color<span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

StatusList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'status-list'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attribute<span class="token operator">:</span> <span class="token string">'status'</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    gap<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>

        </div>
    </div>
    <div id="highlighters.mask" class="docs-item">
        <a href="#highlighters.mask" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.mask</h3>
        </a>
        <div class="docs-item-content">
<p>Adds a stroke around an arbitrary cell view's SVG node.</p>

<div class="docs-important-note">
    <p>It's an alternative to the <a href="#highlighters.stroke">stroke</a> highlighter.</p>
    <b>Pros:</b>
    <ul>
        <li><b>more precise</b> - equidistant padding along the node</li>
        <li><b>more powerful</b> - ability to draw a stroke around the descendant nodes or draw a stroke around a path with no fill</li>
    </ul>
    <b>Cons:</b>
    <ul>
        <li><b>lesser performance</b> - uses <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask" target="_blank">SVG masking</a> to find the outline</li>
        <li><b>no fill</b> - the color inside the mask must stay transparent.</li>
        <li><b>no dasharray</b> - the stroke patterns of dashes and gaps are not applicable.</li>
    </ul>
</div>

<p>Available options:</p>
<ul>
    <li><b>layer</b> - the stacking order of the highlighter. See <a href="#dia.HighlighterView.prototype.options.layer">dia.Highlighter</a> for supported values.</li>
    <li><b>padding</b> - the space between the stroke and the node</li>
    <li><b>deep</b> - if the node is a container element (e.g. <i>SVGGroupElement</i>), draw the mask around its descending nodes. Otherwise a rectangular mask is drawn.</li>
    <li><b>attrs</b> - an object with SVG attributes to be set on the mask element</li>
    <li><b>maskClip</b> - it determines the area which is affected by a mask. The painted content of an element must be restricted to this area. It defaults to <i>20</i> (20 pixels around the node's bounding box).</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'my-highlighter-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF0000'</span><span class="token punctuation">,</span>
        <span class="token comment">// round the mask at the corners of paths</span>
        <span class="token string">'stroke-linejoin'</span><span class="token operator">:</span> <span class="token string">'round'</span><span class="token punctuation">,</span>
        <span class="token comment">// round the mask at the end of open subpaths</span>
        <span class="token string">'stroke-linecap'</span><span class="token operator">:</span> <span class="token string">'round'</span>
        <span class="token comment">// to change the opacity use `rgba` color format</span>
        <span class="token comment">// 'stroke': 'rgba(255, 0, 0, 0.5)',</span>
        <span class="token comment">// this would affect the opacity of the stroke and the padding</span>
        <span class="token comment">// 'stroke-opacity': 0.5</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.opacity" class="docs-item">
        <a href="#highlighters.opacity" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.opacity</h3>
        </a>
        <div class="docs-item-content">
<p>Changes the opacity of an arbitrary cell view's SVG node.</p>

<p>Available options:</p>
<ul>
    <li><b>alphaValue</b> - a value that represents the degree to which content behind an element is hidden. It's a number in the range 0.0 to 1.0, inclusive. The default is <code class="highlighted"><span class="token number">0.3</span></code>.</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>opacity<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'my-highlighter-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  alphaValue<span class="token operator">:</span> <span class="token number">0.4</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.stroke" class="docs-item">
        <a href="#highlighters.stroke" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.stroke</h3>
        </a>
        <div class="docs-item-content">
<p>Adds a stroke around an arbitrary cell view's SVG node.</p>

<p>Available options:</p>
<ul>
    <li><b>layer</b> - the stacking order of the highlighter. See <a href="#dia.HighlighterView.prototype.options.layer">dia.Highlighter</a> for supported values.</li>
    <li><b>padding</b> - the space between the stroke and the element</li>
    <li><b>rx</b> - the stroke's border radius on the x-axis</li>
    <li><b>ry</b> - the stroke's border radius on the y-axis</li>
    <li><b>attrs</b> - an object with SVG attributes to be set on the highlighter element</li>
    <li><b>useFirstSubpath</b> - draw the stroke by using the first subpath of the target <code class="highlighted">el</code> compound path.</li>
    <li><b>nonScalingStroke</b> - when enabled the stroke width of the highlighter is not dependent on the transformations of the paper (e.g. zoom level). It defaults to <code class="highlighted"><span class="token boolean">false</span></code>.</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>stroke<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'my-highlighter-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    rx<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    ry<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    useFirstSubpath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FF0000'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="layout" class="docs-item">
    <div id="layout.DirectedGraph" class="docs-item">
        <a href="#layout.DirectedGraph" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.DirectedGraph</h3>
        </a>
        <div class="docs-item-content">
<p>Automatic layout of directed graphs. This plugin uses the open-source (MIT license) <a href="https://github.com/cpettitt/dagre">Dagre</a> library internally.</p>

<h3 id="layout.DirectedGraph.installation">Installation</h3>

<p>Add the <code class="highlighted">@joint<span class="token operator">/</span>layout<span class="token operator">-</span>directed<span class="token operator">-</span>graph</code> package as a dependency of your project (for example via <code class="highlighted">yarn</code>):</p>

<pre><code class="highlighted">yarn add @joint<span class="token operator">/</span>layout<span class="token operator">-</span>directed<span class="token operator">-</span>graph
yarn install</code></pre>

<p>You can then import the package into your code:</p>

<pre><code class="highlighted"><span class="token keyword">import</span> <span class="token punctuation">{</span> DirectedGraph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@joint/layout-directed-graph'</span><span class="token punctuation">;</span></code></pre>

<h3 id="layout.DirectedGraph.usage">Usage</h3>

<p>The <code class="highlighted">DirectedGraph</code> package exposes the <code class="highlighted"><span class="token function">layout</span><span class="token punctuation">(</span>graphOrCells<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function. The first parameter <code class="highlighted">graphOrCells</code> is a <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> or an array of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cells</code> that we want to lay out. The second parameter <code class="highlighted">opt</code> is an object that contains various options for configuring the layout.</p>

<pre><code class="highlighted"><span class="token keyword">import</span> <span class="token punctuation">{</span> DirectedGraph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@joint/layout-directed-graph'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> graphBBox <span class="token operator">=</span> DirectedGraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    nodeSep<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    edgeSep<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
    rankDir<span class="token operator">:</span> <span class="token string">"TB"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token string">'y:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'width:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token string">'height:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>A blog post explaining the usage of the <code class="highlighted"><span class="token function">layout</span><span class="token punctuation">(</span>graphOrCells<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function in more detail can be found <a href="http://www.daviddurman.com/automatic-graph-layout-with-jointjs-and-dagre.html">here</a>.</p>

<h3 id="layout.DirectedGraph.configuration">Configuration</h3>

<p>The following table lists options that you can pass to the <code class="highlighted"><span class="token function">layout</span><span class="token punctuation">(</span>graphOrCells<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function:</p>

<table>
    <tr><th>nodeSep</th>
        <td>a number of pixels representing the separation between adjacent nodes in the same rank</td>
    </tr>
    <tr><th>edgeSep</th>
        <td>a number of pixels representing the separation between adjacent edges in the same rank</td>
    </tr>
    <tr><th>rankSep</th>
        <td>a number of pixels representing the separation between ranks</td>
    </tr>
    <tr><th>rankDir</th>
        <td>direction of the layout (one of <code class="highlighted"><span class="token string">"TB"</span></code> (top-to-bottom) / <code class="highlighted"><span class="token string">"BT"</span></code> (bottom-to-top) / <code class="highlighted"><span class="token string">"LR"</span></code> (left-to-right) / <code class="highlighted"><span class="token string">"RL"</span></code> (right-to-left))</td>
    </tr>
    <tr><th>marginX</th>
        <td>number of pixels to use as a margin around the left and right of the graph.</td>
    </tr>
    <tr><th>marginY</th>
        <td>number of pixels to use as a margin around the top and bottom of the graph.</td>
    </tr>
    <tr><th>ranker</th>
        <td>Type of algorithm to assign a rank to each node in the input graph. Possible values: <code class="highlighted"><span class="token string">'network-simplex'</span></code> (default), <code class="highlighted"><span class="token string">'tight-tree'</span></code> or <code class="highlighted"><span class="token string">'longest-path'</span></code>.</td>
    </tr>
    <tr><th>resizeClusters</th>
        <td>set to <code class="highlighted"><span class="token boolean">false</span></code> if you don't want parent elements to stretch in order to fit all their embedded children. Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr><th>clusterPadding</th>
        <td>A gap between the parent element and the boundary of its embedded children. It could be a number or an object e.g. <code class="highlighted"><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> bottom<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span></code>. It defaults to <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
    <tr><th>setPosition(element, position)</th>
        <td>
            a function that will be used to set the position of elements at the end of the layout. This is useful
            if you don't want to use the default <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span></code> but want to set the position in an animated fashion via <a href="#dia.Element.prototype.transition">transitions</a>.
        </td>
    </tr>
    <tr><th>setVertices(link, vertices)</th>
        <td>
            If set to <code class="highlighted"><span class="token boolean">true</span></code> the layout will adjust the links by setting their vertices. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If the option is defined as a function it will be used to set the vertices of links at the end of the layout. This is useful
            if you don't want to use the default <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> vertices<span class="token punctuation">)</span></code> but want to set the vertices in an animated fashion via <a href="#dia.Link.prototype.transition">transitions</a>.
        </td>
    </tr>
    <tr><th>setLabels(link, labelPosition, points)</th>
        <td>
            If set to <code class="highlighted"><span class="token boolean">true</span></code> the layout will adjust the labels by setting their position. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If the option is defined as a function it will be used to set the labels of links at the end of the layout.
            <br><br>
            <em><b>Note:</b> Only the first label (<code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>) is positioned by the layout.</em>
        </td>
    </tr>
    <tr><th>exportElement(element)</th>
        <td>
            Convert element attributes into dagre <a target="_blank" href="https://github.com/dagrejs/dagre/wiki#configuring-the-layout">node</a> attributes.
            By default, it returns the <a href="#layout.DirectedGraph.cellAttributes">element attributes</a> below.
        </td>
    </tr>
    <tr><th>exportLink(link)</th>
        <td>
            Convert link attributes into dagre <a target="_blank" href="https://github.com/dagrejs/dagre/wiki#configuring-the-layout">edge</a> attributes.
            By default, it returns the <a href="#layout.DirectedGraph.cellAttributes">link attributes</a> below.
        </td>
    </tr>
</table>

<p>Additionally, the layout engine takes into account some properties on elements/links to fine tune the layout further. These are:</p>

<table id="layout.DirectedGraph.cellAttributes">
    <tr>
        <th>size</th>
        <td>element</td>
        <td>An object with `width` and `height` properties representing the size of the element.</td>
    </tr>
    <tr>
        <th>minLen</th>
        <td>link</td>
        <td>The number of ranks to keep between the source and target of the link.</td>
    </tr>
    <tr>
        <th>weight</th>
        <td>link</td>
        <td>The weight to assign edges. Higher weight edges are generally made shorter and straighter than lower weight edges.</td>
    </tr>
    <tr>
        <th>labelPosition</th>
        <td>link</td>
        <td>Where to place the label relative to the edge. <code class="highlighted"><span class="token string">'l'</span></code> = left, <code class="highlighted"><span class="token string">'c'</span></code> = center (default), <code class="highlighted"><span class="token string">'r'</span></code> = right.
        </td>
    </tr>
    <tr>
        <th>labelOffset</th>
        <td>link</td>
        <td>How many pixels to move the label away from the edge. Applies only when <code class="highlighted">labelPosition</code> is left or right.</td>
    </tr>
    <tr>
        <th>labelSize</th>
        <td>link</td>
        <td>The width and height of the edge label in pixels. e.g. <code class="highlighted"><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span></code></td>
    </tr>
</table>

<p>The <code class="highlighted"><span class="token function">layout</span><span class="token punctuation">(</span>graphOrCells<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function returns a bounding box (<code class="highlighted">g<span class="token punctuation">.</span>Rect</code>) of the resulting graph.</p>

<h3 id="layout.DirectedGraph.api">API</h3>

<p>The <code class="highlighted">DirectedGraph</code> package also provides two functions that make it easy to convert graphs to and from the <a href="https://github.com/dagrejs/graphlib">Graphlib</a> graph format. This allows you to use the wealth of <a href="https://github.com/dagrejs/graphlib/wiki/API-Reference">graph algorithms</a> provided by the Graphlib library.</p>

<p>In order to use Graphlib, you need to add the package as an additional dependency of your project (for example via <code class="highlighted">yarn</code>):</p>

<pre><code class="highlighted">yarn add @dagrejs<span class="token operator">/</span>graphlib
yarn install</code></pre>

<p>You can then import the package into your code:</p>

<pre><code class="highlighted"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> graphlib <span class="token keyword">from</span> <span class="token string">'@dagrejs/graphlib'</span><span class="token punctuation">;</span></code></pre>

<table>
    <tr><th>toGraphLib(graph, opt)</th>
        <td>Convert the provided JointJS <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object to a Graphlib graph object.
            <pre><code class="highlighted"><span class="token keyword">import</span> <span class="token punctuation">{</span> DirectedGraph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@joint/layout-directed-graph'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> graphlib <span class="token keyword">from</span> <span class="token string">'@dagrejs/graphlib'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token operator">:</span> joint<span class="token punctuation">.</span>shapes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... populate the graph with elements connected with links</span>

<span class="token comment">// Get a Graphlib representation of the graph:</span>
<span class="token keyword">var</span> glGraph <span class="token operator">=</span> DirectedGraph<span class="token punctuation">.</span><span class="token function">toGraphLib</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Graphlib algorithms:</span>
graphlib<span class="token punctuation">.</span>alg<span class="token punctuation">.</span><span class="token function">isAcyclic</span><span class="token punctuation">(</span>glGraph<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true if the graph is acyclic</span></code></pre>
        </td>
    </tr>
    <tr><th>fromGraphLib(glGraph, opt)</th>
        <td>Convert the provided Graphlib graph object to a JointJS <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object.
            <br><br>
            The <code class="highlighted">opt<span class="token punctuation">.</span>importNode</code> and <code class="highlighted">opt<span class="token punctuation">.</span>importEdge</code> callbacks are provided with a Graphlib node / edge object, and are expected to return a corresponding JointJS element / link object.
            <pre><code class="highlighted"><span class="token keyword">import</span> <span class="token punctuation">{</span> DirectedGraph <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@joint/layout-directed-graph'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> graphlib <span class="token keyword">from</span> <span class="token string">'graphlib'</span><span class="token punctuation">;</span>

<span class="token comment">// Create a graph in Graphlib:</span>
<span class="token keyword">var</span> glGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">graphlib<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
glGraph<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
glGraph<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
glGraph<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
glGraph<span class="token punctuation">.</span><span class="token function">setEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
glGraph<span class="token punctuation">.</span><span class="token function">setEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get a JointJS representation of the Graphlib graph:</span>
<span class="token keyword">var</span> graph <span class="token operator">=</span> DirectedGraph<span class="token punctuation">.</span><span class="token function">fromGraphLib</span><span class="token punctuation">(</span>glGraph<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">importNode</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> node<span class="token punctuation">.</span>x<span class="token punctuation">,</span> y<span class="token operator">:</span> node<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">,</span>
            size<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> node<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token operator">:</span> node<span class="token punctuation">.</span>height <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">importEdge</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">edge</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            source<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> edge<span class="token punctuation">.</span>v <span class="token punctuation">}</span><span class="token punctuation">,</span>
            target<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> edge<span class="token punctuation">.</span>w <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="layout.Port" class="docs-item">
        <a href="#layout.Port" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.Port</h3>
        </a>
        <div class="docs-item-content">
<p>Port layouts are functions that accept an array of port&#39;s <code class="highlighted">args</code> and return an array of port positions. Positions are relative to the element model bounding box. For example if we have an element at position <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token number">20</span> <span class="token punctuation">}</span></code> with a relative port position <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token number">2</span> <span class="token punctuation">}</span></code>, the absolute port position will be <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token number">22</span> <span class="token punctuation">}</span></code>.</p>
<p>Port layout can be defined only at the <code class="highlighted">group</code> level. Optionally you can pass some additional arguments into the layout function via <code class="highlighted">args</code>. The <code class="highlighted">args</code> is the only way to adjust port layout from the port definition perspective.</p>
<pre><code class="language-javascript highlighted"><span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    ports<span class="token operator">:</span> <span class="token punctuation">{</span>
        groups<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'a'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                position<span class="token operator">:</span> <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'layoutType'</span><span class="token punctuation">,</span>
                    args<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        items<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// initialize 'rect' with port in group 'a'</span>
            <span class="token punctuation">{</span>
                group<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
                args<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// overrides `args` from the group level definition.</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// ... other ports</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ....</span>
<span class="token comment">// add another port to group 'a'.</span>
rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> group<span class="token operator">:</span><span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="pre-defined-layouts-">Pre-defined layouts:</h3>
<h4 id="on-sides">On sides</h4>
<p>A simple layout suitable for rectangular shapes. It evenly spreads ports along a single side.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'right'</span></code>,  <code class="highlighted"><span class="token string">'top'</span></code>,  <code class="highlighted"><span class="token string">'bottom'</span></code>.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td rowspan="2">Overrides the <code class="highlighted">x</code> / <code class="highlighted">y</code> value calculated by the layout function. It can be defined as a percentage string e.g. <code class="highlighted"><span class="token string">'50%'</span></code>,  <a href="#dia.attributes.calc">calc()</a> expression or a number</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                </tr>
                <tr>
                    <td><b>dx</b></td>
                    <td>number</td>
                    <td>Added to the <code class="highlighted">x</code> value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dy</b></td>
                    <td>number</td>
                    <td>Added to the <code class="highlighted">y</code> value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port rotation angle.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        angle<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        dx<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="line">Line</h4>
<p>A layout which evenly spreads ports along a line defined by a <code class="highlighted">start</code> and <code class="highlighted">end</code> point.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            <code class="highlighted"><span class="token string">'line'</span></code>
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>start</b></td>
                    <td rowspan="2">{ x: number|string, y: number|string }</td>
                    <td>The line starting point.</td>
                    <td rowspan="2"><code class="highlighted">x</code> and <code class="highlighted">y</code> can be a percentage string e.g. <code class="highlighted"><span class="token string">'50%'</span></code>, <a href="#dia.attributes.calc">calc()</a> expression, or a number</td>
                </tr>
                <tr>
                    <td><b>end</b></td>
                    <td>The line end point</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        start<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        end<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token string">'calc(w)'</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token string">'50%'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="absolute">Absolute</h4>
<p>It lays a port out at the given position (defined as <code class="highlighted">x</code>, <code class="highlighted">y</code> coordinates or percentage of the element dimensions).</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            <code class="highlighted"><span class="token string">'absolute'</span></code>
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td rowspan="2">number | string</td>
                    <td rowspan="2">Sets the port's <code class="highlighted">x</code> coordinate. It can be defined as a percentage string e.g. <code class="highlighted"><span class="token string">'50%'</span></code>,  <a href="#dia.attributes.calc">calc()</a> expression or a number</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port rotation angle.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        x<span class="token operator">:</span> <span class="token string">'10%'</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        angle<span class="token operator">:</span> <span class="token number">45</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="radial">Radial</h4>
<p>Suitable for circular shapes. The <code class="highlighted">ellipseSpreads</code> evenly spreads ports along an ellipse. The <code class="highlighted">ellipse</code> spreads ports from the point at <code class="highlighted">startAngle</code> leaving gaps between ports equal to <code class="highlighted">step</code>.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either <code class="highlighted"><span class="token string">'ellipse'</span></code> or <code class="highlighted"><span class="token string">'ellipseSpread'</span></code>.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td rowspan="2">Overrides the <code class="highlighted">x</code> / <code class="highlighted">y</code> value calculated by the layout function. It can be defined as a percentage string e.g. <code class="highlighted"><span class="token string">'50%'</span></code>,  <a href="#dia.attributes.calc">calc()</a> expression or a number</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                </tr>
                <tr>
                    <td><b>dx</b></td>
                    <td>number</td>
                    <td>Added to the <code class="highlighted">x</code> value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dy</b></td>
                    <td>number</td>
                    <td>Added to the <code class="highlighted">y</code> value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dr</b></td>
                    <td>number</td>
                    <td>Added to the port delta rotation</td>
                </tr>
                <tr>
                    <td><b>startAngle</b></td>
                    <td>number</td>
                    <td>Default value is <code class="highlighted"><span class="token number">0</span></code>.</td>
                </tr>
                <tr>
                    <td><b>step</b></td>
                    <td>number</td>
                    <td>
                        Default <code class="highlighted"><span class="token number">360</span> <span class="token operator">/</span> portsCount</code> for the <i>ellipseSpread</i>, <code class="highlighted"><span class="token number">20</span></code> for the <i>ellipse</i>
                    </td>
                </tr>
                <tr>
                    <td><b>compensateRotation</b></td>
                    <td>boolean</td>
                    <td>set <code class="highlighted">compensateRotation<span class="token operator">:</span> <span class="token boolean">true</span></code> when you need to have ports in the same angle as an ellipse tangent at the port position.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ellipseSpread'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        dx<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dy<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dr<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        startAngle<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        step<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        compensateRotation<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<iframe src="about:blank" data-src="demo/layout/Port/portRotationComp.html" style="height: 534px; width: 803px;"></iframe>

<h3 id="custom-layout">Custom layout</h3>
<p>An alternative for built-in layouts is providing a function directly, where the function returns an array of port transformations (position and angle).</p>
<pre><code class="language-javascript highlighted"><span class="token comment">/**
* @param {Array&lt;object>} portsArgs
* @param {g.Rect} elBBox shape's bounding box
* @param {object} opt Group options
* @returns {Array&lt;joint.layout.Port.Transformation>}
*/</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">portsArgs<span class="token punctuation">,</span> elBBox<span class="token punctuation">,</span> opt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Distribute ports along the sinusoid</span>
    <span class="token keyword">return</span> portsArgs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">portArgs<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> step <span class="token operator">=</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>index <span class="token operator">*</span> step<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> index <span class="token operator">*</span> <span class="token number">12</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> y <span class="token operator">+</span> elBBox<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
            angle<span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="port-layouts-demo">Port layouts demo</h3>
<iframe src="about:blank" data-src="demo/layout/Port/port.html" style="height: 442px; width: 803px;"></iframe>

        </div>
    </div>
    <div id="layout.PortLabel" class="docs-item">
        <a href="#layout.PortLabel" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.PortLabel</h3>
        </a>
        <div class="docs-item-content">
<p>Port label layout functions calculate port label positions relatively to port positions.</p>
<h3 id="pre-defined-port-label-layouts">Pre-defined port label layouts</h3>
<h4 id="on-sides">On Sides</h4>
<p>Simple label layout suitable for rectangular shapes. It places the label on arbitrary side of a port. The <code class="highlighted">args</code> object is optional.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'right'</span></code>, <code class="highlighted"><span class="token string">'top'</span></code>, or <code class="highlighted"><span class="token string">'bottom'</span></code>.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">x</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">y</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle (in degrees in clockwise direction).</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>object</td>
                    <td>JointJS-style attributes applied on label's DOM element and its children. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation">Element</a>. Overridden by port group <code class="highlighted">attrs</code>, if provided.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted">label<span class="token operator">:</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name <span class="token operator">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            angle<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="inside-outside">Inside/Outside</h4>
<p>Places the label inside or outside of a rectangular shape. Where &#39;oriented&#39; versions rotate the text towards the element center. The <code class="highlighted">args</code> object is optional.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either <code class="highlighted"><span class="token string">'inside'</span></code>, <code class="highlighted"><span class="token string">'outside'</span></code>, <code class="highlighted"><span class="token string">'insideOriented'</span></code>, or <code class="highlighted"><span class="token string">'outsideOriented'</span></code>.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>offset</b></td>
                    <td>number</td>
                    <td>Offset in direction from the shape's center. Overridden by <code class="highlighted">x</code> and <code class="highlighted">y</code> values, if provided.</td>
                </tr>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">x</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">y</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle (in degrees in clockwise direction). Overrides the value calculated by the <code class="highlighted"><span class="token string">'insideOriented'</span></code> and <code class="highlighted"><span class="token string">'outsideOriented'</span></code> layout functions.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>object</td>
                    <td>JointJS-style attributes applied on label's DOM element and its children. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation">Element</a>. Overridden by port group <code class="highlighted">attrs</code>, if provided.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted">
label<span class="token operator">:</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name <span class="token operator">:</span><span class="token string">'outsideOriented'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="radial">Radial</h4>
<p>Places the label outside of a circular shape. Where the &#39;oriented&#39; version rotates the text towards the element center. The <code class="highlighted">args</code> object is optional.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either <code class="highlighted"><span class="token string">'radial'</span></code>, or <code class="highlighted"><span class="token string">'radialOriented'</span></code>.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>offset</b></td>
                    <td>number</td>
                    <td>Offset in direction from the shape's center. Overridden by <code class="highlighted">x</code> and <code class="highlighted">y</code> values, if provided.</td>
                </tr>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">x</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the <code class="highlighted">y</code> value calculated by the layout function.</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle (in degrees in clockwise direction). Overrides the value calculated by the <code class="highlighted"><span class="token string">'radialOriented'</span></code> layout function.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>number</td>
                    <td>JointJS-style attributes applied on label's DOM element and its children. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation">Element</a>. Overridden by port group <code class="highlighted">attrs</code>, if provided.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted">label<span class="token operator">:</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name <span class="token operator">:</span><span class="token string">'radialOriented'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="manual-placement">Manual placement</h4>
<p>It allows setting label position directly.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            <code class="highlighted"><span class="token string">'manual'</span></code>
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Sets the label's <code class="highlighted">x</code> coordinate.</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Sets the label's <code class="highlighted">y</code> coordinate.</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle (in degrees in clockwise direction).</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>object</td>
                    <td>JointJS-style attributes applied on label's DOM element and its children. The same notation as the <code class="highlighted">attrs</code> property on <a href="#dia.Element.intro.presentation">Element</a>. Overridden by port group <code class="highlighted">attrs</code>, if provided.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted">label<span class="token operator">:</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'manual'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            angle<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
            attrs<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="port-label-layout-demo">Port label layout demo</h3>
<iframe src="about:blank" data-src="./demo/layout/PortLabel/portLabel.html" style="height: 442px; width: 803px;"></iframe>

        </div>
    </div>
    </div>
    <div id="linkAnchors" class="docs-item">
    <div id="linkAnchors.intro" class="docs-item">
        <a href="#linkAnchors.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors</h3>
        </a>
        <div class="docs-item-content">
<p>A link anchor of a link is a point on the reference link that this link wants to reach as its endpoint. Link anchors are set via a <code class="highlighted">linkAnchor</code> property provided within link end definitions (i.e. the objects provided to <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions). (If the reference object is an Element, JointJS looks at <code class="highlighted">anchor</code> <a href="#anchors">property</a> instead.)</p>

<p>There are several built-in linkAnchor functions in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'connectionRatio'</span></code> - <a href="#linkAnchors.connectionRatio">default link anchor at specified ratio at reference link</a></li>
    <li><code class="highlighted"><span class="token string">'connectionLength'</span></code> - <a href="#linkAnchors.connectionLength">link anchor at specified length along reference link</a></li>
    <li><code class="highlighted"><span class="token string">'connectionPerpendicular'</span></code> - <a href="#linkAnchors.connectionPerpendicular">link anchor that ensures an orthogonal route to the reference link</a></li>
    <li><code class="highlighted"><span class="token string">'connectionClosest'</span></code> - <a href="#linkAnchors.connectionClosest">link anchor at the point on reference link that is closest to the last vertex on link path</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    linkAnchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionRatio'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            ratio<span class="token operator">:</span> <span class="token number">0.25</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default link anchor function is <code class="highlighted"><span class="token string">'connectionRatio'</span></code>; this can be changed with the <code class="highlighted">defaultLinkAnchor</code> <a href="#dia.Paper.prototype.options.defaultLinkAnchor">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultLinkAnchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'connectionLength'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        length<span class="token operator">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#linkAnchors.custom">custom link anchor functions</a>.</p>

        </div>
    </div>
    <div id="linkAnchors.connectionClosest" class="docs-item">
        <a href="#linkAnchors.connectionClosest" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors.connectionClosest</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'connectionClosest'</span></code> link anchor function places the anchor of the link at the point along the reference link that is the closest to the appropriate reference point of this link. (If we are calling this method for a source anchor, the reference point is the first vertex; if there are no vertices, it is the target anchor. If we are calling this method for a target anchor, the reference point is the last vertex; if there are no vertices, it is the source anchor.)</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    linkAnchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionClosest'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkAnchors.connectionLength" class="docs-item">
        <a href="#linkAnchors.connectionLength" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors.connectionLength</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'connectionLength'</span></code> link anchor function places the anchor of the link at a point a specified length along reference link (counting from reference link's source). It accepts one argument, which can be passed within the <code class="highlighted">linkAnchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>length</th>
        <td><i>number</i></td>
        <td>The length at which to place the target anchor. Default is <code class="highlighted"><span class="token number">20</span></code>, meaning a point 20 pixels from the source of the reference link.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    linkAnchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionLength'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            ratio<span class="token operator">:</span> <span class="token number">50</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkAnchors.connectionPerpendicular" class="docs-item">
        <a href="#linkAnchors.connectionPerpendicular" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors.connectionPerpendicular</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'connectionPerpendicular'</span></code> link anchor function tries to place the anchor of the link inside the view bbox so that the link is made orthogonal. The anchor is placed along two line segments inside the view bbox (between the centers of the top and bottom side and between the centers of the left and right sides). If it is not possible to place the link anchor so that the resulting link would be orthogonal, the anchor is placed at the point on the reference link that is the <a href="#linkAnchors.connectionClosest">closest</a> to the appropriate reference point on this link. (If we are calling this method for a source anchor, the reference point is the first vertex; if there are no vertices, it is the target anchor. If we are calling this method for a target anchor, the reference point is the last vertex; if there are no vertices, it is the source anchor.)</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionPerpendicular'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>When the link has no vertices, the other end cell's center is used as a reference point. By default, this means that a link using the <code class="highlighted"><span class="token string">'connectionPerpendicular'</span></code> anchor <q>slides</q> alongside the source reference link while pointing to target's center. To invert this behavior, and have the link <q>slide</q> alongside the target reference link while pointing to source's center, pass a <code class="highlighted">priority</code> option to the target function:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    priority<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    anchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionPerpendicular'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkAnchors.connectionRatio" class="docs-item">
        <a href="#linkAnchors.connectionRatio" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors.connectionRatio</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'connectionRatio'</span></code> link anchor function places the anchor of the link at a point at a specified ratio of the reference link's length (from reference link's source). It accepts one argument, which can be passed within the <code class="highlighted">linkAnchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>ratio</th>
        <td><i>number</i></td>
        <td>The length ratio of the target anchor. Default is <code class="highlighted"><span class="token number">0.5</span></code>, meaning the midpoint of the reference link.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>link2<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    linkAnchor<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'connectionRatio'</span><span class="token punctuation">,</span>
        args<span class="token operator">:</span> <span class="token punctuation">{</span>
            ratio<span class="token operator">:</span> <span class="token number">0.25</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkAnchors.custom" class="docs-item">
        <a href="#linkAnchors.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">linkAnchors.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New link anchor functions can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>linkAnchors<span class="token punctuation">.</span>myLinkAnchor</code>) or passed directly as a function to the <code class="highlighted">linkAnchor</code> property of link source/target (or to the <code class="highlighted">defaultLinkAnchor</code> <a href="#dia.Paper.prototype.options.defaultLinkAnchor">option of a paper</a>).</p>

<p>In either case, the link anchor function must return the link anchor as a Point. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> anchorReference<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endView</th>
        <td><i>dia.LinkView</i></td>
        <td>The LinkView to which we are connecting. The Link model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on link attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>null</i></td>
        <td>(Not used) This argument is only present to ensure that the signature of custom <code class="highlighted">linkAnchor</code> methods is the same as the signature of custom <code class="highlighted">anchor</code> <a href="#linkAnchors.custom">methods</a>.</td>
    </tr>
    <tr>
        <th rowspan="2">anchorReference</th>
        <td><i>g.Point</i></td>
        <td>A reference to another component of the link path that may be necessary to find this anchor point. If we are calling this method for a source anchor, it is the first vertex; if there are no vertices, it is the target anchor. If we are calling this method for a target anchor, it is the last vertex; if there are no vertices, it is the source anchor...</td>
    </tr>
    <tr>
        <td><i>SVGElement</i></td>
        <td>...if the anchor in question does not exist (yet), it is that link end's magnet. (The built-in methods usually use this element's center point as reference.)</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the link anchor method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

        </div>
    </div>
    </div>
    <div id="linkTools" class="docs-item">
    <div id="linkTools.intro" class="docs-item">
        <a href="#linkTools.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools</h3>
        </a>
        <div class="docs-item-content">
<p>A link tool is a view that renders a certain type of control elements on top of the <a href="#dia.LinkView">LinkView</a> it is attached to; for example the <a href="#linkTools.Vertices">Vertices tool</a> creates an interactive handle above every vertex (these handles then allow the user to move and/or delete each vertex). Link tools all inherit from the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">class</a>. A collection of tools is added to a <a href="#dia.ToolsView">ToolsView</a>; a tools view is then added to the linkView with the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.addTools">function</a>.

</p><p>The JointJS library comes with a collection of pre-made link tool definitions in the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> namespace:

<ul>
    <li><code class="highlighted">Vertices</code> - <a href="#linkTools.Vertices">adds handles above link vertices</a></li>
    <li><code class="highlighted">Segments</code> - <a href="#linkTools.Segments">adds handles above link segments</a></li>
    <li><code class="highlighted">SourceArrowhead</code> - <a href="#linkTools.SourceArrowhead">adds a handle above link source</a></li>
    <li><code class="highlighted">TargetArrowhead</code> - <a href="#linkTools.TargetArrowhead">adds a handle above link target</a></li>
    <li><code class="highlighted">SourceAnchor</code> - <a href="#linkTools.SourceAnchor">adds a handle above link source anchor</a></li>
    <li><code class="highlighted">TargetAnchor</code> - <a href="#linkTools.TargetAnchor">adds a handle above link target anchor</a></li>
    <li><code class="highlighted">Boundary</code> - <a href="#linkTools.Boundary">shows link bbox</a></li>
    <li><code class="highlighted">Remove</code> - <a href="#linkTools.Remove">adds an interactive remove button</a></li>
</ul>

</p><p>To create a new link tool, we call its constructor. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snapRadius<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>In addition, the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> namespace contains a customizable button class:</p>

<ul>
    <li><code class="highlighted">Button</code> - <a href="#linkTools.Button">adds a customizable button</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    distance<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>All of the built-in link tools accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>focusOpacity</th>
        <td><i>number</i></td>
        <td>What should be the opacity of the tool when it is focused (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>)? Default is <code class="highlighted"><span class="token keyword">undefined</span></code>, meaning that the tool's opacity is kept unchanged.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Boundary" class="docs-item">
        <a href="#linkTools.Boundary" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Boundary</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Boundary</code> link tool renders a rectangular border to show the bounding box of the link. It accepts a few additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number|object</i></td>
        <td>This option determines whether the boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code> (<code class="highlighted"><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> bottom<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span></code>).</td>
    </tr>
    <tr>
        <th>useModelGeometry</th>
        <td><i>boolean</i></td>
        <td>If this option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the position of the boundary is calculated based on the dimensions of the link model.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    padding<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    useModelGeometry<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Button" class="docs-item">
        <a href="#linkTools.Button" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Button</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Button</code> link tool allows you to have a custom button rendered at a given position along the link. It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th rowspan="2">distance</th>
        <td><i>number</i></td>
        <td>Distance at which the button should be placed. Negative numbers are accepted; then the distance is counted from the end of the link. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- distance -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the slope of the link at the position specified by <code class="highlighted">distance</code>? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Relative offset of the button from the link. Positive numbers mean that the button should be offset to the right of the link (relative to the direction from source to target); negative numbers mean that the button should be offset to the left of the link (relative to the direction from source to target). Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the button? Default is <code class="highlighted"><span class="token keyword">undefined</span></code> (no interaction).<br><br>

            The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> linkView<span class="token punctuation">,</span> buttonView</span><span class="token punctuation">)</span></code> where <code class="highlighted">evt</code> is a DOM event. The related link view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code>. The link model is available as <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>model</code>.</td>
    </tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default is <code class="highlighted"><span class="token keyword">undefined</span></code> (no content).</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the button up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example of a useful custom info button:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    distance<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted">linkTools<span class="token punctuation">.</span>Button</code> class can also be extended, to create a reusable custom button type. Then, a new instance of the custom button type can be obtained by calling its constructor:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> InfoButton <span class="token operator">=</span> joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'info-button'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        distance<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
                <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
            attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InfoButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Connect" class="docs-item">
        <a href="#linkTools.Connect" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Connect</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Connect</code> tool allows the user to create links in a drag & drop fashion. The tool extends the <a href="#linkTools.Button">Button</a> tool and accepts additional arguments, which can be passed as an object to the connect tool constructor:</p>

<table>
    <tr>
        <th>magnet</th>
        <td><i>string<br>SVGElement<br>(view: dia.ElementView) => SVGElement</i></td>
        <td>Choose the source magnet of the element view which the new link should be connected to.

            <pre><code class="highlighted"><span class="token string">'body'</span> <span class="token comment">// as a string Selector</span></code></pre>
            <pre><code class="highlighted">linkView<span class="token punctuation">.</span>el <span class="token comment">// as an SVGElement</span></code></pre>
            <pre><code class="highlighted"><span class="token punctuation">(</span><span class="token parameter">linkView</span><span class="token punctuation">)</span> <span class="token operator">=></span> linkView<span class="token punctuation">.</span>el <span class="token comment">// as a function</span></code></pre>

            <p>The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elementView<span class="token punctuation">,</span> toolView</span><span class="token punctuation">)</span></code> where <code class="highlighted">elementView</code> is the element view with the tool attached. The connect button view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code> and as the last parameter.</p>
        </td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> connectButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Connect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    distance<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    magnet<span class="token operator">:</span> <span class="token string">'body'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.HoverConnect" class="docs-item">
        <a href="#linkTools.HoverConnect" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.HoverConnect</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">HoverConnect</code> tool allows the user to create links from other links in a drag & drop fashion. The tool extends the <a href="#linkTools.Connect">Connect</a> tool. The difference is that the button appears along the invisible track path (in the shape of a linkView) at the point where the user moves the mouse over the track. It accepts additional arguments, which can be passed as an object to the hover connect tool constructor:</p>

<table>
    <tr>
        <th>trackWidth</th>
        <td><i>number</i></td>
        <td>The thickness of the track path. The default is <code class="highlighted"><span class="token number">15</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">const</span> hoverButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>HoverConnect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    magnet<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
    trackWidth<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Remove" class="docs-item">
        <a href="#linkTools.Remove" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Remove</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Remove</code> link tool renders a remove button at a given position along the link. It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th rowspan="2">distance</th>
        <td><i>number</i></td>
        <td>Distance at which the button should be placed. Negative numbers are accepted; then the distance is counted from the end of the link. Default is <code class="highlighted"><span class="token number">60</span></code>.</td>
    </tr>
    <tr>
        <!-- distance -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the slope of the link at the position specified by <code class="highlighted">distance</code>? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Relative offset of the button from the link. Positive numbers mean that the button should be offset to the right of the link (relative to the direction from source to target); negative numbers mean that the button should be offset to the left of the link (relative to the direction from source to target). Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the remove button? Default:

            <pre><code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> linkView<span class="token punctuation">,</span> toolView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                linkView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> ui<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> tool<span class="token operator">:</span> toolView<span class="token punctuation">.</span>cid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span></code></pre>

            The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span></code> where <code class="highlighted">evt</code> is a DOM event. The button view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code>; the button model is available as <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>model</code>.<p></p>
        </td>
    </tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default:

            <pre><code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'r'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'#FF1D00'</span><span class="token punctuation">,</span>
        <span class="token string">'cursor'</span><span class="token operator">:</span> <span class="token string">'pointer'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token operator">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
    selector<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
    attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'d'</span><span class="token operator">:</span> <span class="token string">'M -3 -3 3 3 M -3 3 3 -3'</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke'</span><span class="token operator">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke-width'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">'pointer-events'</span><span class="token operator">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>
        </td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the button up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> removeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    rotate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    distance<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Segments" class="docs-item">
        <a href="#linkTools.Segments" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Segments</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Segments</code> link tool renders handles above all segments of the link (as determined by the <a href="#dia.Link.geometry.connector">link connector</a>). It accepts four additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user arranges two (or more) segments so that they lie on a single line, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves one of the segments in question; this means that segments can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>segmentLengthThreshold</th>
        <td><i>number</i></td>
        <td>The minimum segment length for which to display a segment handle (to prevent the handle from overflowing its segment). Default is <code class="highlighted"><span class="token number">40</span></code>.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the segment, from how far away should the segment snap in order to arrange itself in line with another segment? Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
    <tr>
        <th>snapHandle</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">snapRadius</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code> and the segment is snapped in place while the user moves the segment handle, should the handle follow the user pointer or should the handle stay snapped with the segment until it un-snaps? Default is <code class="highlighted"><span class="token boolean">true</span></code>, meaning that the handle snaps with the segment.</td>
    </tr>
    <tr>
        <th>stopPropagation</th>
        <td><i>boolean</i></td>
        <td>Should be events stopped from propagating to the paper? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>handleClass</th>
        <td><i>mvc.View</i></td>
        <td>The view for the segment handle. By default it uses <code class="highlighted">linkTools<span class="token punctuation">.</span>Segments<span class="token punctuation">.</span>SegmentHandle</code> class.</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the segment handles up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p class="docs-important-note">
    The tool is meant to be used with <a href="#routers.normal">normal router</a> only.
    It does not work with e.g. <a href="#routers.orthogonal">orthogonal router</a>.
    It throws the <b>"Segments: incompatible router in use"</b> error if used with any other router.
</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    segmentLengthThreshold<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    snapHandle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.SourceAnchor" class="docs-item">
        <a href="#linkTools.SourceAnchor" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.SourceAnchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">SourceAnchor</code> link tool renders a handle above the source anchor of the link (as determined by the <a href="#dia.Link.geometry.anchor">anchor function</a> applied on <a href="#dia.Link.geometry.source">link source</a>). It accepts several additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user moves the anchor so that it lies on a single line with two (or more) vertices, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves the anchor; this means that the anchor and vertices can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>restrictArea</th>
        <td><i>boolean</i></td>
        <td>Should the user only be allowed to move the anchor in a restricted area (the area of the bounding box of the source magnet)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>areaPadding</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">restrictArea</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the user can only move the anchor in a restricted area (the area of the bounding box of the source magnet). JointJS shows this restriction by drawing a boundary around that area. This option determines whether this boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code>. Note that this is a purely cosmetic setting; regardless of the provided value, the movement stays restricted to the original uninflated bounding box.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the anchor, from how far away should the segment snap in order to arrange itself in line with the anchor reference? Default is <code class="highlighted"><span class="token number">10</span></code>. (For link source, the anchor reference is the first vertex. If there are no vertices, it is the target anchor.)</td>
    </tr>
    <tr>
        <th>resetAnchor</th>
        <td><i>boolean | object</i></td>
        <td>When the user double clicks the anchor tool, the following action should be performed:
            <ul>
                <li><code class="highlighted"><span class="token boolean">true</span></code> - remove the current source anchor from the link. It is a default.</li>
                <li><code class="highlighted"><span class="token boolean">false</span></code> - do nothing</li>
                <li><code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">[</span>AnchorName<span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">[</span>AnchorArguments<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> - replace the current source anchor with the option value.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <th>snap</th>
        <td><i>function</i></td>
        <td>What snap function should be applied when the user moves the anchor? Default is a simple function that emulates the snapping behavior of <a href="#linkTools.Vertices">Vertices</a> and <a href="#linkTools.Segments">Segments</a> link tools: If the value of one of the user pointer coordinates is within <code class="highlighted">snapRadius</code> of the value of a coordinate of the anchor reference, snap to the reference value. (For link source, the anchor reference is the first vertex. If there are no vertices, it is the target anchor.)<br><br>

            The callback function must return the anchor as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> and have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> endType<span class="token punctuation">,</span> linkView<span class="token punctuation">,</span> toolView</span><span class="token punctuation">)</span></code>:<p></p>

            <table>
                <tr>
                    <th>coords</th>
                    <td><i>g.Point</i></td>
                    <td>A Point object recording the x-y coordinates of the user pointer when the snap function was invoked.</td>
                </tr>
                <tr>
                    <th>endView</th>
                    <td><i>dia.ElementView</i></td>
                    <td>The ElementView which contains the restricted area. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
                </tr>
                <tr>
                    <th>endMagnet</th>
                    <td><i>SVGElement</i></td>
                    <td>The SVGElement in our page that contains the magnet (element/subelement/port) which serves as the restricted area.</td>
                </tr>
                <tr>
                    <th>endType</th>
                    <td><i>string</i></td>
                    <td>Is the end view the source (<code class="highlighted"><span class="token string">'source'</span></code>) or target (<code class="highlighted"><span class="token string">'target'</span></code>) of the link?</td>
                </tr>
                <tr>
                    <th>linkView</th>
                    <td><i>dia.LinkView</i></td>
                    <td>The LinkView to which the tool is attached. The Link model can be accessed as <code class="highlighted">linkView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on link attributes.</td>
                </tr>
                <tr>
                    <th>toolView</th>
                    <td><i>dia.ToolView</i></td>
                    <td>This tool. May be useful for writing conditional logic based on tool options (e.g. the default algorithm refers to <code class="highlighted">toolView<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapRadius</code>).</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the anchor element up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> sourceAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    restrictArea<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a useful custom <code class="highlighted">snap</code> function is provided below. It snaps the anchor to the center of the closest side of the restricted area.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> <span class="token function-variable function">snapAnchor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// remove rotation of the restricted area</span>
    <span class="token keyword">var</span> bbox <span class="token operator">=</span> endView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>endMagnet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> angle <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coords<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// identify the side nearest to pointer coords</span>
    <span class="token keyword">var</span> anchor<span class="token punctuation">;</span>
    <span class="token keyword">var</span> side <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">sideNearestToPoint</span><span class="token punctuation">(</span>coords<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>side<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">leftMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'top'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">topMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'bottom'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">bottomMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// rotate the anchor according to original rotation of restricted area</span>
    <span class="token keyword">return</span> anchor<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> <span class="token operator">-</span>angle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> sourceAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snap<span class="token operator">:</span> snapAnchor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the user moves the anchor away from its original position, the anchor position may be reset by double-clicking the anchor handle.</p>

        </div>
    </div>
    <div id="linkTools.SourceArrowhead" class="docs-item">
        <a href="#linkTools.SourceArrowhead" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.SourceArrowhead</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">SourceArrowhead</code> link tool renders an arrow-like handle above the source connection point of the link (as determined by the <a href="#dia.Link.geometry.connectionPoint">connectionPoint function</a> applied on <a href="#dia.Link.geometry.source">link source</a>). It accepts a few additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the arrowhead element up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> sourceArrowheadTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceArrowhead</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.TargetAnchor" class="docs-item">
        <a href="#linkTools.TargetAnchor" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.TargetAnchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">TargetAnchor</code> link tool renders a handle above the target anchor of the link (as determined by the <a href="#dia.Link.geometry.anchor">anchor function</a> applied on <a href="#dia.Link.geometry.target">link target</a>). It accepts several additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user moves the anchor so that it lies on a single line with two (or more) vertices, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves the anchor; this means that the anchor and vertices can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>restrictArea</th>
        <td><i>boolean</i></td>
        <td>Should the user only be allowed to move the anchor in a restricted area (the area of the bounding box of the target magnet)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>areaPadding</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">restrictArea</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the user can only move the anchor in a restricted area (the area of the bounding box of the target magnet). JointJS shows this restriction by drawing a boundary around that area. This option determines whether this boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code>. Note that this is a purely cosmetic setting; regardless of the provided value, the movement stays restricted to the original uninflated bounding box.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the anchor, from how far away should the segment snap in order to arrange itself in line with the anchor reference? Default is <code class="highlighted"><span class="token number">10</span></code>. (For link target, the anchor reference is the last vertex. If there are no vertices, it is the source anchor.)</td>
    </tr>
    <tr>
        <th>resetAnchor</th>
        <td><i>boolean | object</i></td>
        <td>When the user double clicks the anchor tool, the following action should be performed:
            <ul>
                <li><code class="highlighted"><span class="token boolean">true</span></code> - remove the current target anchor from the link. It is a default.</li>
                <li><code class="highlighted"><span class="token boolean">false</span></code> - do nothing</li>
                <li><code class="highlighted"><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token punctuation">[</span>AnchorName<span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token operator">:</span> <span class="token punctuation">[</span>AnchorArguments<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> - replace the current target anchor with the option value.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <th>snap</th>
        <td><i>function</i></td>
        <td>What snap function should be applied when the user moves the anchor? Default is a simple function that emulates the snapping behavior of <a href="#linkTools.Vertices">Vertices</a> and <a href="#linkTools.Segments">Segments</a> link tools: If the value of one of the user pointer coordinates is within <code class="highlighted">snapRadius</code> of the value of a coordinate of the anchor reference, snap to the reference value. (For link target, the anchor reference is the last vertex. If there are no vertices, it is the source anchor.)<br><br>

            The callback function must return the anchor as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> and have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet</span><span class="token punctuation">)</span></code>:<p></p>

            <table>
                <tr>
                    <th>coords</th>
                    <td><i>g.Point</i></td>
                    <td>A Point object recording the x-y coordinates of the user pointer when the snap function was invoked.</td>
                </tr>
                <tr>
                    <th>endView</th>
                    <td><i>dia.ElementView</i></td>
                    <td>The ElementView which contains the restricted area. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
                </tr>
                <tr>
                    <th>endMagnet</th>
                    <td><i>SVGElement</i></td>
                    <td>The SVGElement in our page that contains the magnet (element/subelement/port) which serves as the restricted area.</td>
                </tr>
                <tr>
                    <th>endType</th>
                    <td><i>string</i></td>
                    <td>Is the end view the source (<code class="highlighted"><span class="token string">'source'</span></code>) or target (<code class="highlighted"><span class="token string">'target'</span></code>) of the link?</td>
                </tr>
                <tr>
                    <th>linkView</th>
                    <td><i>dia.LinkView</i></td>
                    <td>The LinkView to which the tool is attached. The Link model can be accessed as <code class="highlighted">linkView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on link attributes.</td>
                </tr>
                <tr>
                    <th>toolView</th>
                    <td><i>dia.ToolView</i></td>
                    <td>This tool. May be useful for writing conditional logic based on tool options (e.g. the default algorithm refers to <code class="highlighted">toolView<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapRadius</code>).</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the anchor element up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> targetAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    restrictArea<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a useful custom <code class="highlighted">snap</code> function is provided below. It snaps the anchor to the center of the closest side of the restricted area.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> <span class="token function-variable function">snapAnchor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// remove rotation of the restricted area</span>
    <span class="token keyword">var</span> bbox <span class="token operator">=</span> endView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>endMagnet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> angle <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coords<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// identify the side nearest to pointer coords</span>
    <span class="token keyword">var</span> anchor<span class="token punctuation">;</span>
    <span class="token keyword">var</span> side <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">sideNearestToPoint</span><span class="token punctuation">(</span>coords<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>side<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">leftMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'top'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">topMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'bottom'</span><span class="token operator">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">bottomMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// rotate the anchor according to original rotation of restricted area</span>
    <span class="token keyword">return</span> anchor<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> <span class="token operator">-</span>angle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> targetAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snap<span class="token operator">:</span> snapAnchor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the user moves the anchor away from its original position, the anchor position may be reset by double-clicking the anchor handle.</p>

        </div>
    </div>
    <div id="linkTools.TargetArrowhead" class="docs-item">
        <a href="#linkTools.TargetArrowhead" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.TargetArrowhead</h3>
        </a>
        <div class="docs-item-content">
<>The <code class="highlighted">TargetArrowhead</code> link tool renders an arrow-like handle above the target connection point of the link (as determined by the <a href="#dia.Link.geometry.connectionPoint">connectionPoint function</a> applied on <a href="#dia.Link.geometry.target">link target</a>). It accepts a few additional arguments, which can be passed as an object to the link tool constructor:<p></p>

<table>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the arrowhead element up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> targetArrowheadTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetArrowhead</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Vertices" class="docs-item">
        <a href="#linkTools.Vertices" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Vertices</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Vertices</code> link tool renders handles above all <a href="#dia.Link.geometry.vertices">vertices of the link</a>. It accepts three additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user arranges three (or more) vertices so that they lie on a single line, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves one of the vertices in question; this means that vertices can still be arranged in this <q>redundant</q> fashion, using of the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the vertex, from how far away should the vertex snap in order to arrange itself perpendicularly to another vertex? Default is <code class="highlighted"><span class="token number">20</span></code>.</td>
    </tr>
    <tr>
        <th>vertexAdding</th>
        <td><i>boolean</i></td>
        <td>Can the user add new vertices (by clicking a segment of the link)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>vertexMoving</th>
        <td><i>boolean</i></td>
        <td>Can the user move vertices (by dragging them)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>vertexRemoving</th>
        <td><i>boolean</i></td>
        <td>Can the user remove vertices (by double clicking them)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>stopPropagation</th>
        <td><i>boolean</i></td>
        <td>Should be events stopped from propagating to the paper? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>handleClass</th>
        <td><i>mvc.View</i></td>
        <td>The view for the vertex handle. By default it uses <code class="highlighted">linkTools<span class="token punctuation">.</span>Vertices<span class="token punctuation">.</span>VertexHandle</code> class.</td>
    </tr>
    <tr>
        <th>scale</th>
        <td><i>number</i></td>
        <td>Scale the vertices handles up or down on a 2D plane. The default is <code class="highlighted"><span class="token number">1</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    vertexAdding<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="mvc" class="docs-item">
    <div id="mvc.Collection" class="docs-item">
    <div id="mvc.Collection.intro" class="docs-item">
        <a href="#mvc.Collection.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Collection</h4>
        </a>
        <div class="docs-item-content">
<p>
    Collections are ordered sets of models. You can bind <code class="highlighted"><span class="token string">"change"</span></code> events to be notified when any model in the collection has been 
    modified, and listen for <code class="highlighted"><span class="token string">"add"</span></code> and <code class="highlighted"><span class="token string">"remove"</span></code> events.
</p>

<p>
    Any event that is triggered on a model in a collection will also be triggered on the collection directly, for convenience. This allows you to 
    listen for changes to specific attributes in any model in a collection.
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype" class="docs-item">
    <div id="mvc.Collection.prototype.add" class="docs-item">
        <a href="#mvc.Collection.prototype.add" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.add</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>models<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Add a model (or an array of models) to the collection, firing an <code class="highlighted"><span class="token string">"add"</span></code> event for each model, and an <code class="highlighted"><span class="token string">"update"</span></code> event 
    afterwards. This is a variant of <a href="#mvc.Collection.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> with the same options and return value, but it 
    always adds and never removes. If you're adding models to the collection that are already in the collection, they'll be ignored, unless you 
    pass <code class="highlighted"><span class="token punctuation">{</span> merge<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code>, in which case their attributes will be merged into the corresponding models, firing any appropriate 
    <code class="highlighted"><span class="token string">"change"</span></code> events. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">;</span>

shapes<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">shape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// A</span>
  <span class="token comment">// B</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

shapes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'A'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'B'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
  Note that adding the same model (a model with the same <code class="highlighted">id</code>) to a collection more than once is a no-op. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.at" class="docs-item">
        <a href="#mvc.Collection.prototype.at" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.at</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>

<p>
    Get a model from a collection, specified by index. Useful if your collection is sorted, and if your collection isn't sorted, <code class="highlighted">at</code> 
    will still retrieve models in insertion order. When passed a negative index, it will retrieve the model from the back of the collection. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.clone" class="docs-item">
        <a href="#mvc.Collection.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Returns a new instance of the collection with an identical list of models. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.comparator" class="docs-item">
        <a href="#mvc.Collection.prototype.comparator" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.comparator</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span>comparator</code></pre>

<p>
    By default there is no comparator for a collection. If you define a comparator, it will be used to sort the collection any time a model is 
    added. A comparator can be defined as a <a href="https://underscorejs.org/#sortBy" target="_blank"><code class="highlighted">sortBy</code></a> (pass a function 
    that takes a single argument), as a 
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank"><code class="highlighted">sort</code></a> 
    (pass a comparator function that expects two arguments), or as a string indicating the attribute to sort by. 
</p>

<p>
    "sortBy" comparator functions take a model and return a numeric or string value by which the model should be ordered relative to others. 
    "sort" comparator functions take two models, and return <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> if the first model should come before the second, <code class="highlighted"><span class="token number">0</span></code> if 
    they are of the same rank and <code class="highlighted"><span class="token number">1</span></code> if the first model should come after. Note that JointJS depends on the arity of your comparator 
    function to determine between the two styles, so be careful if your comparator function is bound.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">;</span>

shapes<span class="token punctuation">.</span>comparator <span class="token operator">=</span> <span class="token string">'order'</span><span class="token punctuation">;</span>

shapes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span> order<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> letter<span class="token operator">:</span> <span class="token string">"C"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shapes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span> order<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> letter<span class="token operator">:</span> <span class="token string">"B"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shapes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span> order<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> letter<span class="token operator">:</span> <span class="token string">"A"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shapes<span class="token punctuation">.</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'letter'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A, B, C</span>
</code></pre>

<p>
    Note: Collections with a comparator will not automatically re-sort if you later change model attributes, so you may wish to call 
    <code class="highlighted">sort</code> after changing model attributes that would affect the order. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.each" class="docs-item">
        <a href="#mvc.Collection.prototype.each" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.each</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Iterate over models of a collection, and invoke <code class="highlighted">fn</code> for each model. <code class="highlighted">fn</code> is invoked with 3 arguments:
    <i>(model, index, array)</i>.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

col<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> model<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span> customData<span class="token operator">:</span> i <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

col<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'customData'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.extend" class="docs-item">
        <a href="#mvc.Collection.prototype.extend" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.extend</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">mvc<span class="token punctuation">.</span>Collection<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token punctuation">[</span>classProperties<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    To create a Collection class of your own, extend <code class="highlighted">mvc<span class="token punctuation">.</span>Collection</code>. Provide instance properties, and optional classProperties
    to be attached directly to the constructor function. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.filter" class="docs-item">
        <a href="#mvc.Collection.prototype.filter" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.filter</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Iterate over models of a collection, returning an array of all models <code class="highlighted">fn</code> returns truthy for. <code class="highlighted">fn</code> is invoked with three
    arguments: <i>(model, index, array)</i>.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model</span><span class="token punctuation">)</span> <span class="token operator">=></span> model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.find" class="docs-item">
        <a href="#mvc.Collection.prototype.find" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.find</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Return the first element in the collection that satisfies the provided testing function.
    If no values satisfy the testing function, <code class="highlighted"><span class="token keyword">undefined</span></code> is returned.
</p>


<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model</span><span class="token punctuation">)</span> <span class="token operator">=></span> model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.findIndex" class="docs-item">
        <a href="#mvc.Collection.prototype.findIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.findIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Return the index of the first element in the collection that satisfies the provided testing function.
    If no elements satisfy the testing function, <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> is returned.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model</span><span class="token punctuation">)</span> <span class="token operator">=></span> model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.first" class="docs-item">
        <a href="#mvc.Collection.prototype.first" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.first</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Return the first model of a collection.
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.get" class="docs-item">
        <a href="#mvc.Collection.prototype.get" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.get</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre>

<p>
    Get a model from a collection, specified by an <a href="#mvc.Model.prototype.id"><code class="highlighted">id</code></a>, a 
    <a href="#mvc.Model.prototype.cid"><code class="highlighted">cid</code></a>, or by passing in a model. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.includes" class="docs-item">
        <a href="#mvc.Collection.prototype.includes" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.includes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>

<p>
    Return <code class="highlighted"><span class="token boolean">true</span></code> if model is found in a collection.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.initialize" class="docs-item">
        <a href="#mvc.Collection.prototype.initialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.initialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    When creating a Collection, you may choose to pass in the initial array of models. The collection's 
    <a href="#mvc.Collection.prototype.comparator"><code class="highlighted">comparator</code></a> may be included as an option. Passing <code class="highlighted"><span class="token boolean">false</span></code> as the 
    <code class="highlighted">comparator</code> option will prevent sorting. If you define an initialize function, it will be invoked when the collection is created.
    Initialize is an empty function by default. Override it with your own initialization logic.
</p>

<p>
    There are a couple of options that, if provided, are attached to the collection directly: <code class="highlighted">model</code> and <code class="highlighted">comparator</code>. 
    Pass <code class="highlighted"><span class="token keyword">null</span></code> for models to create an empty Collection with <code class="highlighted">options</code>. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    model<span class="token operator">:</span> Shape
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.isEmpty" class="docs-item">
        <a href="#mvc.Collection.prototype.isEmpty" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.isEmpty</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Return <code class="highlighted"><span class="token boolean">true</span></code> if a collection is empty.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

col<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.last" class="docs-item">
        <a href="#mvc.Collection.prototype.last" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.last</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Return the last model of a collection.
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.length" class="docs-item">
        <a href="#mvc.Collection.prototype.length" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.length</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span>length</code></pre>

<p>
    Like an array, a Collection maintains a <code class="highlighted">length</code> property, counting the number of models it contains. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.map" class="docs-item">
        <a href="#mvc.Collection.prototype.map" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.map</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Create an array of values by running each model in the collection through <code class="highlighted">fn</code>. <code class="highlighted">fn</code> is invoked with three arguments:
    <i>(model, index, array)</i>.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">model</span><span class="token punctuation">)</span> <span class="token operator">=></span> model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'label'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a b c d'</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.model" class="docs-item">
        <a href="#mvc.Collection.prototype.model" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.model</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">[</span>attrs<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Override this property to specify the model class that the collection contains. If defined, you can pass raw attributes objects (and arrays) 
    and options to <a href="#mvc.Collection.prototype.add"><code class="highlighted"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, and 
    <a href="#mvc.Collection.prototype.reset"><code class="highlighted"><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, and the attributes will be converted into a model of the proper type using 
    the provided options, if any. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shapes <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Collection<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    model<span class="token operator">:</span> Shape
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
    A collection can also contain polymorphic models by overriding this property with a constructor that returns a model.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shapes <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Collection<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token function-variable function">model</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">attrs<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ShapeA</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ShapeB</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.modelId" class="docs-item">
        <a href="#mvc.Collection.prototype.modelId" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.modelId</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">modelId</span><span class="token punctuation">(</span>attrs<span class="token punctuation">,</span> idAttribute<span class="token punctuation">)</span></code></pre>

<p>
    Override this method to return the value the collection will use to identify a model given its attributes. Useful for combining models from 
    multiple tables with different <a href="#mvc.Model.prototype.idAttribute"""><code class="highlighted">idAttribute</code></a> values into a single collection. 
</p>

<p>
    By default returns the value of the given <code class="highlighted">idAttribute</code> within the <code class="highlighted">attrs</code>, or failing that, <code class="highlighted">id</code>. If your 
    collection uses a <a href="#mvc.Collection.prototype.model">model factory</a> and the id ranges of those models might collide, you must override 
    this method. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shapes <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Collection<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">modelId</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> attrs<span class="token punctuation">.</span>type <span class="token operator">+</span> attrs<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> shapes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shapes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shapes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.models" class="docs-item">
        <a href="#mvc.Collection.prototype.models" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.models</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span>models</code></pre>

<p>
    Raw access to the JavaScript array of models inside of the collection. Usually you'll want to use <code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="highlighted"><span class="token function">at</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to 
    access model objects, but occasionally a direct reference to the array is desired. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.pop" class="docs-item">
        <a href="#mvc.Collection.prototype.pop" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.pop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Remove and return the last model from a collection. Takes the same options as 
    <a href="#mvc.Collection.prototype.remove"><code class="highlighted"><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.preinitialize" class="docs-item">
        <a href="#mvc.Collection.prototype.preinitialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.preinitialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    For use with collections as ES classes. If you define a <code class="highlighted">preinitialize</code> method, it will be invoked when the Collection is first 
    created and before any instantiation logic is run for the Collection.  
</p>

<pre><code class="highlighted"><span class="token keyword">class</span> <span class="token class-name">Shapes</span> <span class="token keyword">extends</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span> <span class="token punctuation">{</span>
    <span class="token function">preinitialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Add model event got fired!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.push" class="docs-item">
        <a href="#mvc.Collection.prototype.push" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.push</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Like <a href="#mvc.Collection.prototype.add"><code class="highlighted"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, but always adds a model at the end of the collection and never sorts. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.reduce" class="docs-item">
        <a href="#mvc.Collection.prototype.reduce" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.reduce</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span>initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Reduce a collection to a value which is the accumulated result of running each model in the collection through <code class="highlighted">fn</code>, where each
    successive invocation is supplied the return value of the previous. If <code class="highlighted">initialValue</code> is not given, the first model in the collection
    is used as the initial value. <code class="highlighted">fn</code> is invoked with four arguments: <i>(accumulator, currentValue, currentIndex, array)</i>.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> collection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>collection<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> model</span><span class="token punctuation">)</span> <span class="token operator">=></span> acc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span> <span class="token operator">+</span> model<span class="token punctuation">.</span>id <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.remove" class="docs-item">
        <a href="#mvc.Collection.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>models<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Remove a model (or an array of models) from the collection, and return them. Each model can be a Model instance, an <code class="highlighted">id</code> string or a 
    JS object, any value acceptable as the <code class="highlighted">id</code> argument of <a href="#mvc.Collection.prototype.get"><code class="highlighted">collection<span class="token punctuation">.</span>get</code></a>. 
    Fires a <code class="highlighted"><span class="token string">"remove"</span></code> event for each model, and a single <code class="highlighted"><span class="token string">"update"</span></code> event afterwards, unless <code class="highlighted"><span class="token punctuation">{</span> silent<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> 
    is passed. The model's index before removal is available to listeners as <code class="highlighted">options<span class="token punctuation">.</span>index</code>. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.reset" class="docs-item">
        <a href="#mvc.Collection.prototype.reset" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.reset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">[</span>models<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Use reset to replace a collection with a new list of models (or attribute hashes), triggering a single <code class="highlighted"><span class="token string">"reset"</span></code> event on completion, 
    and without triggering any <code class="highlighted"><span class="token string">"add"</span></code> or <code class="highlighted"><span class="token string">"remove"</span></code> events on any models. Returns the newly-set models. For convenience, 
    within a <code class="highlighted"><span class="token string">"reset"</span></code> event, the list of any previous models is available as <code class="highlighted">options<span class="token punctuation">.</span>previousModels</code>.
    Pass <code class="highlighted"><span class="token keyword">null</span></code> for <code class="highlighted">models</code> to empty your Collection with <code class="highlighted">options</code>. 
</p>

<p>
    Calling <code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> without passing any models as arguments will empty the entire collection. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.set" class="docs-item">
        <a href="#mvc.Collection.prototype.set" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.set</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>models<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    The set method performs a "smart" update of the collection with the passed list of models. If a model in the list isn't yet in the collection 
    it will be added; if the model is already in the collection its attributes will be merged; and if the collection contains any models that aren't 
    present in the list, they'll be removed. All of the appropriate <code class="highlighted"><span class="token string">"add"</span></code>, <code class="highlighted"><span class="token string">"remove"</span></code>, and <code class="highlighted"><span class="token string">"change"</span></code> events are 
    fired as this happens, with a single <code class="highlighted"><span class="token string">"update"</span></code> event at the end. Returns the touched models in the collection. If you'd like to 
    customize this behavior, you can change it with options: <code class="highlighted"><span class="token punctuation">{</span> add<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>, <code class="highlighted"><span class="token punctuation">{</span> remove<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>, or 
    <code class="highlighted"><span class="token punctuation">{</span> merge<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>. 
</p>

<p>
    If a <a href="#mvc.Collection.prototype.model"><code class="highlighted">model</code></a> property is defined, you may also pass raw attributes objects and options,
    and have them be vivified as instances of the model using the provided options. If you set a 
    <a href="#mvc.Collection.prototype.comparator"><code class="highlighted">comparator</code></a>, the collection will automatically sort itself and trigger a 
    <code class="highlighted"><span class="token string">"sort"</span></code> event, unless you pass <code class="highlighted"><span class="token punctuation">{</span> sort<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code> or use the <code class="highlighted"><span class="token punctuation">{</span> at<span class="token operator">:</span> index <span class="token punctuation">}</span></code> option. Pass 
    <code class="highlighted"><span class="token punctuation">{</span> at<span class="token operator">:</span> index <span class="token punctuation">}</span></code> to splice the model(s) into the collection at the specified <code class="highlighted">index</code>. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> players <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span> carlsen<span class="token punctuation">,</span> nakamura<span class="token punctuation">,</span> caruana<span class="token punctuation">,</span> liren <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

players<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span> carlsen<span class="token punctuation">,</span> nakamura<span class="token punctuation">,</span> caruana<span class="token punctuation">,</span> firouzja <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Fires a "remove" event for "liren", and an "add" event for "firouzja".</span>
<span class="token comment">// Updates any of "caruana", "nakamura", and carlsen's attributes that may have changed.</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Collection.prototype.shift" class="docs-item">
        <a href="#mvc.Collection.prototype.shift" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.shift</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Remove and return the first model from a collection. Takes the same options as 
    <a href="#mvc.Collection.prototype.remove"><code class="highlighted"><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.slice" class="docs-item">
        <a href="#mvc.Collection.prototype.slice" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.slice</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span></code></pre>

<p>
    Return a shallow copy of this collection's models, using the same options as native 
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank">Array.prototype.slice</a>.   
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.sort" class="docs-item">
        <a href="#mvc.Collection.prototype.sort" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.sort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Force a collection to re-sort itself. Note that a collection with a <a href="#mvc.Collection.prototype.comparator"><code class="highlighted">comparator</code></a> 
    will sort itself automatically whenever a model is added. To disable sorting when adding a model, pass <code class="highlighted"><span class="token punctuation">{</span> sort<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code> to 
    <code class="highlighted"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Calling sort triggers a <code class="highlighted"><span class="token string">"sort"</span></code> event on the collection. 
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.toJSON" class="docs-item">
        <a href="#mvc.Collection.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Return an array containing the attributes hash of each model (via <a href="#mvc.Model.prototype.toJSON"><code class="highlighted">toJSON</code></a>) in the 
    collection. This can be used to serialize and persist the collection as a whole.
</p>

        </div>
    </div>
    <div id="mvc.Collection.prototype.unshift" class="docs-item">
        <a href="#mvc.Collection.prototype.unshift" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Collection.prototype.unshift</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">collection<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Like <a href="#mvc.Collection.prototype.add"><code class="highlighted"><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, but always adds a model at the beginning of the collection and never sorts. 
</p>

        </div>
    </div>
    </div>
    </div>
    <div id="mvc.Events" class="docs-item">
    <div id="mvc.Events.intro" class="docs-item">
        <a href="#mvc.Events.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events</h4>
        </a>
        <div class="docs-item-content">
<p>
    A module that can be mixed in to any object in order to provide it with a custom event channel. You may bind a callback to an event with
    <code class="highlighted">on</code> or remove with <code class="highlighted">off</code>; <code class="highlighted">trigger</code>-ing an event fires all callbacks in succession. Events do not have to be 
    declared before they are bound, and may take passed arguments.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> joint<span class="token punctuation">.</span>mvc<span class="token punctuation">.</span>Events<span class="token punctuation">)</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'expand'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'expanded'</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'expand'</span><span class="token punctuation">,</span> <span class="token string">'the example'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Events.events" class="docs-item">
        <a href="#mvc.Events.events" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.events</h4>
        </a>
        <div class="docs-item-content">
<p>
    Here's the complete list of built-in JointJS events, with arguments. You're also free to trigger your own events on Models, Collections and 
    Views as you see fit.
</p>

<ul>
    <li><code class="highlighted"><span class="token string">"add"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> collection<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when a model is added to a collection.</li>
    <li><code class="highlighted"><span class="token string">"remove"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> collection<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when a model is removed from a collection.</li>
    <li><code class="highlighted"><span class="token string">"update"</span> <span class="token punctuation">(</span>collection<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - single event triggered after any number of models have been added, removed or changed in a collection.</li>
    <li><code class="highlighted"><span class="token string">"reset"</span> <span class="token punctuation">(</span>collection<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when the collection's entire contents have been reset.</li>
    <li><code class="highlighted"><span class="token string">"sort"</span> <span class="token punctuation">(</span>collection<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when the collection has been re-sorted.</li>
    <li><code class="highlighted"><span class="token string">"change"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when a model's attributes have changed.</li>
    <li><code class="highlighted"><span class="token string">"changeId"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> previousId<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when the model's id has been updated.</li>
    <li><code class="highlighted"><span class="token string">"change:[attribute]"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> value<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when a specific attribute has been updated.</li>
    <li><code class="highlighted"><span class="token string">"invalid"</span> <span class="token punctuation">(</span>model<span class="token punctuation">,</span> error<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code> - when a model's validation fails.</li>
    <li><code class="highlighted"><span class="token string">"all"</span></code> - this special event fires for any triggered event, passing the event name as the first argument followed by all trigger arguments.</li>
</ul>

<p>
    Generally speaking, when calling a function that emits an event (<code class="highlighted">model<span class="token punctuation">.</span>set</code>, <code class="highlighted">collection<span class="token punctuation">.</span>add</code>, and so on...), if you'd 
    like to prevent the event from being triggered, you may pass <code class="highlighted"><span class="token punctuation">{</span>silent<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></code> as an option. Note that this is rarely, perhaps even 
    never, a good idea. Passing through a specific flag in the options for your event callback to look at, and choose to ignore, 
    will usually work out better. 
</p>

        </div>
    </div>
    <div id="mvc.Events.listenTo" class="docs-item">
        <a href="#mvc.Events.listenTo" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.listenTo</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span></code></pre>

<p>
    Tell an object to listen to a particular event on an 'other' object. <code class="highlighted">listenTo</code> allows the object to keep track of the events, and 
    they can be removed all at once later on. The callback will always be called with object as context. 
</p>

<pre><code class="highlighted">view<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">,</span> view<span class="token punctuation">.</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Events.listenToOnce" class="docs-item">
        <a href="#mvc.Events.listenToOnce" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.listenToOnce</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">listenToOnce</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span></code></pre>

<p>
    Just like <a href="#mvc.Events.listenTo"><code class="highlighted">listenTo</code></a>, but causes the bound callback to fire only once before being removed. 
</p>

        </div>
    </div>
    <div id="mvc.Events.off" class="docs-item">
        <a href="#mvc.Events.off" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.off</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Remove a previously-bound callback function from an object. If no context is specified, all of the versions of the callback with 
    different contexts will be removed. If no callback is specified, all callbacks for the event will be removed. If no event is 
    specified, callbacks for all events will be removed. 
</p>

<pre><code class="highlighted"><span class="token comment">// Removes just the `onChange` callback.</span>
object<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> onChange<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Removes all "change" callbacks.</span>
object<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Removes the `onChange` callback for all events.</span>
object<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> onChange<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Removes all callbacks for `context` for all events.</span>
object<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Removes all callbacks on `model`(including internal JointJS events).</span>
model<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
    Note that calling <code class="highlighted">model<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, for example, will indeed remove all events on the model  including events that JointJS uses for 
    internal bookkeeping. 
</p>

        </div>
    </div>
    <div id="mvc.Events.on" class="docs-item">
        <a href="#mvc.Events.on" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.on</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Bind a callback function to an object. The callback will be invoked whenever the event is fired. If you have a large number of different events 
    on a page, the convention is to use colons to namespace them: <code class="highlighted"><span class="token string">"poll:start"</span></code>, or <code class="highlighted"><span class="token string">"change:selection"</span></code>.
</p>

<pre><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Space-delimited list for more than one event</span>
film<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:title change:director'</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Supply a context value for "this" when the callback is invoked by passing the optional last argument</span>
model<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>render<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
    Callbacks bound to the special <code class="highlighted"><span class="token string">"all"</span></code> event will be triggered when any event occurs, and are passed the name of the event as 
    the first argument. For example, to proxy all events from one object to another: 
</p>

<pre><code class="highlighted">proxy<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"all"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">eventName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    object<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>eventName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
    All JointJS event methods also support an event map syntax, as an alternative to positional arguments: 
</p>

<pre><code class="highlighted">book<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">"change:author"</span><span class="token operator">:</span> authorPane<span class="token punctuation">.</span>update<span class="token punctuation">,</span>
    <span class="token string">"change:title change:subtitle"</span><span class="token operator">:</span> titleView<span class="token punctuation">.</span>update
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre>

<p>
    To supply a context value for <code class="highlighted"><span class="token keyword">this</span></code> when the callback is invoked, pass the optional last argument: 
    <code class="highlighted">model<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>render<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span></code> or <code class="highlighted">model<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>change<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>render<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span></code>. 
</p>

        </div>
    </div>
    <div id="mvc.Events.once" class="docs-item">
        <a href="#mvc.Events.once" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.once</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Just like <code class="highlighted">on</code>, but causes the bound callback to fire only once before being removed.  When multiple events are passed in using the 
    space separated syntax, the event will fire once for every event you passed in, not once for a combination of all events.
</p>

        </div>
    </div>
    <div id="mvc.Events.stopListening" class="docs-item">
        <a href="#mvc.Events.stopListening" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.stopListening</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span><span class="token punctuation">[</span>other<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Tell an object to stop listening to events. Either call <code class="highlighted">stopListening</code> with no arguments to have the object remove all of its 
    <a href="#mvc.Events.listenTo">registered</a> callbacks ... or be more precise by telling it to remove just the events it's listening to on a 
    specific object, or a specific event, or just a specific callback. 
</p>

<pre><code class="highlighted">view<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

view<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Events.trigger" class="docs-item">
        <a href="#mvc.Events.trigger" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Events.trigger</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">object<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">*</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Trigger callbacks for the given event, or space-delimited list of events. Subsequent arguments to trigger will be passed along to the
    event callbacks. 
</p>

        </div>
    </div>
    </div>
    <div id="mvc.Listener" class="docs-item">
    <div id="mvc.Listener.intro" class="docs-item">
        <a href="#mvc.Listener.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Listener</h4>
        </a>
        <div class="docs-item-content">
<p>A listener is an object that allows you to listen for events triggered by other objects and, if needed, remove them all at once.</p>

<pre><code class="highlighted"><span class="token comment">// Example setup for switching between display mode and edit mode</span>

<span class="token keyword">class</span> <span class="token class-name">ViewController</span> <span class="token keyword">extends</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span> <span class="token punctuation">{</span>

    <span class="token function">startListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> paper <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>callbackArguments<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:mouseenter'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_appContext<span class="token punctuation">,</span> elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'highlighted-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:mouseleave'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_appContext<span class="token punctuation">,</span> elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            joint<span class="token punctuation">.</span>highlighters<span class="token punctuation">.</span>mask<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> <span class="token string">'highlighted-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">EditController</span> <span class="token keyword">extends</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span> <span class="token punctuation">{</span>

    <span class="token function">startListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> paper <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>callbackArguments<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:pointerdblclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">appContext<span class="token punctuation">,</span> elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span> model <span class="token punctuation">}</span> <span class="token operator">=</span> elementView<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>appContext<span class="token punctuation">.</span>graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> appContext <span class="token operator">=</span> <span class="token punctuation">{</span> paper<span class="token punctuation">,</span> graph <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> viewController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewController</span><span class="token punctuation">(</span>appContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> editController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EditController</span><span class="token punctuation">(</span>appContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> editMode <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">toggleEditMode</span><span class="token punctuation">(</span><span class="token parameter">canEdit <span class="token operator">=</span> <span class="token operator">!</span>editMode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    editMode <span class="token operator">=</span> canEdit<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>editMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        editController<span class="token punctuation">.</span><span class="token function">startListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewController<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        viewController<span class="token punctuation">.</span><span class="token function">startListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        editController<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// start app in view mode</span>
<span class="token function">toggleEditMode</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="mvc.Listener.prototype" class="docs-item">
    <div id="mvc.Listener.prototype.callbackArguments" class="docs-item">
        <a href="#mvc.Listener.prototype.callbackArguments" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Listener.prototype.callbackArguments</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">listener<span class="token punctuation">.</span>callbackArguments</code></pre>

An array of constructor arguments.

<pre><code class="highlighted"><span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span><span class="token punctuation">(</span>callbackArg1<span class="token punctuation">,</span> callbackArg2<span class="token punctuation">)</span><span class="token punctuation">;</span>
listener<span class="token punctuation">.</span>callbackArguments<span class="token punctuation">;</span> <span class="token comment">// [callbackArg1, callbackArg2]</span></code></pre>


        </div>
    </div>
    <div id="mvc.Listener.prototype.listenTo" class="docs-item">
        <a href="#mvc.Listener.prototype.listenTo" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Listener.prototype.listenTo</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> event<span class="token punctuation">,</span> callback <span class="token punctuation">[</span><span class="token punctuation">,</span> context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Tell the listener to listen to a particular event on an <b>object</b>.</p>

<pre><code class="highlighted">listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">,</span> onModelChangeCallback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

To supply a <b>context</b> value for this when the callback is invoked, pass the optional last argument:

<pre><code class="highlighted">listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>update<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

The arguments of the constructor are passed to the <b>callback</b> when it is invoked.

<pre><code class="highlighted"><span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre><code class="highlighted"><span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span><span class="token punctuation">(</span>callbackArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>
listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">callbackArgument<span class="token punctuation">,</span> elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre><code class="highlighted"><span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span><span class="token punctuation">(</span>callbackArg1<span class="token punctuation">,</span> callbackArg2<span class="token punctuation">)</span><span class="token punctuation">;</span>
listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>paper<span class="token punctuation">,</span> <span class="token string">'element:pointerclick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">callbackArg1<span class="token punctuation">,</span> callbackArg2<span class="token punctuation">,</span> elementView</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> eventMap<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> context<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Tell the listener to listen to multiple events on an <b>object</b> (using event map syntax).</p>

<pre><code class="highlighted"><span class="token keyword">const</span> listener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Listener</span><span class="token punctuation">(</span>callbackArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>
listener<span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string">'remove'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">callbackArgument<span class="token punctuation">,</span> cell</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'add'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">callbackArgument<span class="token punctuation">,</span> cell</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="mvc.Listener.prototype.stopListening" class="docs-item">
        <a href="#mvc.Listener.prototype.stopListening" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Listener.prototype.stopListening</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">listener<span class="token punctuation">.</span><span class="token function">stopListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

Tell the listener to remove all of its registered callbacks.

        </div>
    </div>
    </div>
    </div>
    <div id="mvc.Model" class="docs-item">
    <div id="mvc.Model.intro" class="docs-item">
        <a href="#mvc.Model.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.Model</h4>
        </a>
        <div class="docs-item-content">
<p>
    Models are the basic data object in JointJS. They are a discrete chunk of data and a bunch of useful, related methods for performing 
    computations and transformations on that data. <a href="#dia.Cell"><code class="highlighted">dia<span class="token punctuation">.</span>Cell</code></a> extends <code class="highlighted">mvc<span class="token punctuation">.</span>Model</code>.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype" class="docs-item">
    <div id="mvc.Model.prototype.attributes" class="docs-item">
        <a href="#mvc.Model.prototype.attributes" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.attributes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>attributes</code></pre>

<p>
    The <code class="highlighted">attributes</code> property is the internal hash containing the model's state. Please use 
    <a href="#mvc.Model.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> to update the attributes instead of modifying them directly. 
</p>

<p>
    Due to the fact that <a href="#mvc.Events">Events</a> accepts space separated lists of events, attribute names should not include spaces. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.changed" class="docs-item">
        <a href="#mvc.Model.prototype.changed" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.changed</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>changed</code></pre>

<p>
    The changed property is the internal hash containing all the <code class="highlighted">attributes</code> that have changed since its last 
    <a href="#mvc.Model.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>. Please do not update changed directly since its state is internally maintained by 
    <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. A copy of changed can be acquired from <a href="#mvc.Model.prototype.changedAttributes"><code class="highlighted">changedAttributes</code></a>. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.changedAttributes" class="docs-item">
        <a href="#mvc.Model.prototype.changedAttributes" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.changedAttributes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">changedAttributes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>attributes<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Retrieve a hash of only the model's attributes that have changed since the last <a href="#mvc.Model.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, or 
    <code class="highlighted"><span class="token boolean">false</span></code> if there are none. Optionally, an external <code class="highlighted">attributes</code> hash can be passed in, returning the attributes in 
    that hash which differ from the model. This can be used to figure out which portions of a view should be updated.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.cid" class="docs-item">
        <a href="#mvc.Model.prototype.cid" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.cid</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>cid</code></pre>

<p>
    A special property of models, the <code class="highlighted">cid</code> or client id is a unique identifier automatically assigned to all models when they're first created.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.cidPrefix" class="docs-item">
        <a href="#mvc.Model.prototype.cidPrefix" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.cidPrefix</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>cidPrefix</code></pre>

<p>
    If your model has an <code class="highlighted">id</code> that is anything other than an integer or a UUID, there is the possibility that it might collide with its 
    <code class="highlighted">cid</code>. To prevent this, you can override the prefix that <code class="highlighted">cids</code> start with. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.clear" class="docs-item">
        <a href="#mvc.Model.prototype.clear" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.clear</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Removes all attributes from the model, including the <code class="highlighted">id</code>attribute. Fires a <code class="highlighted"><span class="token string">"change"</span></code> event unless <code class="highlighted">silent</code> 
    is passed as an option. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.clone" class="docs-item">
        <a href="#mvc.Model.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Returns a new instance of the model with identical attributes. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.defaults" class="docs-item">
        <a href="#mvc.Model.prototype.defaults" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.defaults</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>defaults or model<span class="token punctuation">.</span><span class="token function">defaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    The defaults hash (or function) can be used to specify the default attributes for your model. When creating an instance of the model, any 
    unspecified attributes will be set to their default value. 
</p>

<p>
    Remember that in JavaScript, objects are passed by reference, so if you include an object as a default value, it will be shared among all 
    instances. Instead, define defaults as a function. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.extend" class="docs-item">
        <a href="#mvc.Model.prototype.extend" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.extend</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">mvc<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token punctuation">[</span>classProperties<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    To create a <code class="highlighted">Model</code> class of your own, you can extend <code class="highlighted">mvc<span class="token punctuation">.</span>Model</code>. Provide instance properties, and optional 
    classProperties to be attached directly to the constructor function.
</p>

<p>
    <code class="highlighted">extend</code> correctly sets up the prototype chain, so subclasses created with <code class="highlighted">extend</code> can be further extended and
    subclassed.
</p>


<pre><code class="highlighted"><span class="token keyword">const</span> BaseShape <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">initialize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Shape <span class="token operator">=</span> BaseShape<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>
    Brief aside on <code class="highlighted"><span class="token keyword">super</span></code>: JavaScript does not provide a simple way to call super  the function of the same name defined higher on 
    the prototype chain. If you override a core function like <code class="highlighted"><span class="token keyword">set</span></code>, and you want to invoke the parent object's implementation, 
    you'll have to explicitly call it, along these lines: 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shape <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">attributes<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mvc<span class="token punctuation">.</span><span class="token class-name">Model</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Model.prototype.get" class="docs-item">
        <a href="#mvc.Model.prototype.get" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.get</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span></code></pre>

<p>
    Get the current value of an attribute from the model. For example: <code class="highlighted">model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span></code>. <code class="highlighted"><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> doesn't provide nesting 
    capability in the form of a string. That means any path representation is considered to be one attribute.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.has" class="docs-item">
        <a href="#mvc.Model.prototype.has" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.has</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span></code></pre>

<p>
    Returns <code class="highlighted"><span class="token boolean">true</span></code> if the attribute is set to a non-null or non-undefined value. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.hasChanged" class="docs-item">
        <a href="#mvc.Model.prototype.hasChanged" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.hasChanged</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">hasChanged</span><span class="token punctuation">(</span><span class="token punctuation">[</span>attribute<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Has the model changed since its last <a href="#mvc.Model.prototype.set"><code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>? If an attribute is passed, returns 
    <code class="highlighted"><span class="token boolean">true</span></code> if that specific attribute has changed. 
</p>

<p>
    Note that this method is only useful during the course of a <code class="highlighted"><span class="token string">"change"</span></code> event. 
</p>

<pre><code class="highlighted">shape<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shape<span class="token punctuation">.</span><span class="token function">hasChanged</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Model.prototype.id" class="docs-item">
        <a href="#mvc.Model.prototype.id" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.id</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>id</code></pre>

<p>
    A special property of models, the <code class="highlighted">id</code> is an arbitrary string (integer id or UUID). If you set the <code class="highlighted">id</code> in the attributes 
    hash, it will be copied onto the model as a direct property. <code class="highlighted">model<span class="token punctuation">.</span>id</code>  should not be manipulated directly, it should be modified 
    only via <code class="highlighted">model<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token punctuation">)</span></code>.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.idAttribute" class="docs-item">
        <a href="#mvc.Model.prototype.idAttribute" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.idAttribute</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>idAttribute</code></pre>

<p>
    A model's unique identifier is stored under the <code class="highlighted">id</code> attribute. If you're directly communicating with a backend (MongoDB) that 
    uses a different unique key, you may set a Model's <code class="highlighted">idAttribute</code> to transparently map from that key to <code class="highlighted">id</code>. 
    If you set <code class="highlighted">idAttribute</code>, you may also want to override <a href="#mvc.Model.prototype.cidPrefix"><code class="highlighted">cidPrefix</code></a>. 
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> Shape <span class="token operator">=</span> mvc<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    idAttribute<span class="token operator">:</span> <span class="token string">"_id"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> shape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">"Rectangle"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Shape id: "</span> <span class="token operator">+</span> shape<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Shape id: 1</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.Model.prototype.initialize" class="docs-item">
        <a href="#mvc.Model.prototype.initialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.initialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    If the model defines an initialize function, it will be invoked when the model is created. Initialize is an empty function by default. 
    Override it with your own initialization logic.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.isValid" class="docs-item">
        <a href="#mvc.Model.prototype.isValid" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.isValid</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre>

<p>
    Run <a href="#mvc.Model.prototype.validate"><code class="highlighted">validate</code></a> to check the model state.
    The validate method receives the model attributes as well as any options passed to <code class="highlighted">isValid</code>, if validate returns an error an 
    <code class="highlighted"><span class="token string">"invalid"</span></code> event is triggered, and the error is set on the model in the <code class="highlighted">validationError</code> property. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.preinitialize" class="docs-item">
        <a href="#mvc.Model.prototype.preinitialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.preinitialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    For use with models as ES classes. If you define a <code class="highlighted">preinitialize</code> method, it will be invoked when the Model is first created, 
    before any instantiation logic is run for the <code class="highlighted">Model</code>. 
</p>

<pre><code class="highlighted"><span class="token keyword">class</span> <span class="token class-name">BaseShape</span> <span class="token keyword">extends</span> <span class="token class-name">mvc<span class="token punctuation">.</span>Model</span> <span class="token punctuation">{</span>
    <span class="token function">preinitialize</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> type <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
</code></pre>

        </div>
    </div>
    <div id="mvc.Model.prototype.previous" class="docs-item">
        <a href="#mvc.Model.prototype.previous" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.previous</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span></code></pre>

<p>
    During a <code class="highlighted"><span class="token string">"change"</span></code> event, this method can be used to get the previous value of a changed attribute. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.previousAttributes" class="docs-item">
        <a href="#mvc.Model.prototype.previousAttributes" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.previousAttributes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">previousAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Return a copy of the model's previous attributes. Useful for getting a diff between versions of a model, or getting back to a valid state 
    after an error occurs. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.set" class="docs-item">
        <a href="#mvc.Model.prototype.set" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.set</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span></code></pre>

<p>
    Set a hash of attributes (one or many) on the model. If any of the attributes change the model's state, a <code class="highlighted"><span class="token string">"change"</span></code> event will be 
    triggered on the model. <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> doesn't provide nesting capability in the form of a string. That means any path representation is 
    considered to be one attribute.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.toJSON" class="docs-item">
        <a href="#mvc.Model.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Return a shallow copy of the model's <code class="highlighted">attributes</code> object for JSON stringification. This can be used for persistance or serialization. 
    Note that this method doesn't return a JSON string but rather an object that can be then serialized to JSON with <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.unset" class="docs-item">
        <a href="#mvc.Model.prototype.unset" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.unset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">unset</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Remove an attribute by deleting it from the internal attributes hash. Fires a <code class="highlighted"><span class="token string">"change"</span></code> event unless <code class="highlighted">silent</code> is passed 
    as an option. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.validate" class="docs-item">
        <a href="#mvc.Model.prototype.validate" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.validate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>attributes<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre>

<p>
    This method is left undefined and you're encouraged to override it with any custom validation logic you have that can be performed in 
    JavaScript. If the <code class="highlighted">attributes</code> are valid, don't return anything from <code class="highlighted">validate</code>; if they are invalid return an error 
    of your choosing. It can be as simple as a string error message to be displayed, or a complete error object that describes the error 
    programmatically. 
</p>

<p>
    It's possible to tell <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to validate the new attributes by passing <code class="highlighted"><span class="token punctuation">{</span> validate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> as an option. The validate 
    method receives the model attributes as well as any options passed to <code class="highlighted"><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. <code class="highlighted"><span class="token string">"invalid"</span></code> events are useful for 
    providing coarse-grained error messages at the model or collection level. 
</p>

        </div>
    </div>
    <div id="mvc.Model.prototype.validationError" class="docs-item">
        <a href="#mvc.Model.prototype.validationError" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.Model.prototype.validationError</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">model<span class="token punctuation">.</span>validationError</code></pre>

<p>
    The value returned by <a href="#mvc.Model.prototype.validate"><code class="highlighted">validate</code></a> during the last failed validation. 
</p>

        </div>
    </div>
    </div>
    </div>
    <div id="mvc.View" class="docs-item">
    <div id="mvc.View.intro" class="docs-item">
        <a href="#mvc.View.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">mvc.View</h4>
        </a>
        <div class="docs-item-content">
<p>
    A View is simply a JavaScript object that represents a logical chunk of UI in the DOM. The general idea is to organize your interface into
    logical views, backed by models, each of which can be updated independently when the model changes, without having to redraw the page.
    This allows you to bind your view's <code class="highlighted">render</code> function to the model's <code class="highlighted"><span class="token string">"change"</span></code> event  and now everywhere that model 
    data is displayed in the UI, it is always immediately up to date.
</p>

        </div>
    </div>
    <div id="mvc.View.prototype" class="docs-item">
    <div id="mvc.View.prototype.attributes" class="docs-item">
        <a href="#mvc.View.prototype.attributes" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.attributes</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span>attributes</code></pre>

<p>
    A hash of attributes that will be set as HTML DOM element attributes on the view's <code class="highlighted">el</code> (id, class, data-properties, etc.), or a 
    function that returns such a hash. 
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.delegateEvents" class="docs-item">
        <a href="#mvc.View.prototype.delegateEvents" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.delegateEvents</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token function">delegateEvents</span><span class="token punctuation">(</span><span class="token punctuation">[</span>events<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>
    Provide declarative callbacks for DOM events within a view. If an events hash is not passed directly, uses <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>events</code> as the 
    source. Events are written in the format <code class="highlighted"><span class="token punctuation">{</span> <span class="token string">"event selector"</span><span class="token operator">:</span> <span class="token string">"callback"</span> <span class="token punctuation">}</span></code>. The callback may be either the name of a method on the 
    view, or a direct function body. Omitting the selector causes the event to be bound to the view's root element (<code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code>). 
    By default, <code class="highlighted">delegateEvents</code> is called within the View's constructor for you, so if you have a simple events hash, 
    all of your DOM events will always already be connected, and you will never have to call this function yourself. 
</p>

<p>
    The <code class="highlighted">events</code> property may also be defined as a function that returns an events hash, to make it easier to programmatically define 
    your events, as well as inherit them from parent views. 
</p>

<p>
    Using <code class="highlighted">delegateEvents</code> provides a number of advantages. All attached callbacks are bound to the view before being handed off, so 
    when the callbacks are invoked, <code class="highlighted"><span class="token keyword">this</span></code> continues to refer to the view object. When <code class="highlighted">delegateEvents</code> is run again, 
    perhaps with a different <code class="highlighted">events</code> hash, all callbacks are removed and delegated afresh  useful for views which need to behave 
    differently when in different modes. 
</p>

<p>
    A single-event version of <code class="highlighted">delegateEvents</code> is available as <code class="highlighted">delegate</code>. In fact, <code class="highlighted">delegateEvents</code> is simply a 
    multi-event wrapper around <code class="highlighted">delegate</code>. A counterpart to <code class="highlighted">undelegateEvents</code> is available as <code class="highlighted">undelegate</code>. 
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.el" class="docs-item">
        <a href="#mvc.View.prototype.el" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.el</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span>el</code></pre>

<p>
    All views have a DOM element at all times (the <code class="highlighted">el</code> property), whether they've already been inserted into the page or not.
    In this fashion, views can be rendered at any time, and inserted into the DOM all at once, in order to get high-performance UI rendering with
    as few reflows and repaints as possible.
</p>

<p>
    <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code> can be resolved from a DOM selector string or an Element; otherwise it will be created from the view's
    <code class="highlighted">tagName</code>, <code class="highlighted">className</code>, <code class="highlighted">id</code> and <code class="highlighted">attributes</code> properties. If none are set, <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code>
    is an empty <code class="highlighted">div</code>, which is often just fine. An <code class="highlighted">el</code> reference may also be passed in to the view's constructor.
</p>

<pre><code class="highlighted"><span class="token keyword">const</span> ShapeView <span class="token operator">=</span> mvc<span class="token punctuation">.</span>View<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token string">'body'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> shape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShapeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span>el<span class="token punctuation">)</span> <span class="token comment">// &lt;body>...&lt;/body></span>
</code></pre>

        </div>
    </div>
    <div id="mvc.View.prototype.events" class="docs-item">
        <a href="#mvc.View.prototype.events" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.events</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span>events or view<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    The events hash (or method) can be used to specify a set of DOM events that will be bound to methods on your View through
    <a href="#mvc.View.prototype.delegateEvents"><code class="highlighted">delegateEvents</code></a>. JointJS will automatically attach the event listeners at
    instantiation time, right before invoking <a href="#mvc.View.prototype.initialize"><code class="highlighted">initialize</code></a>.
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.extend" class="docs-item">
        <a href="#mvc.View.prototype.extend" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.extend</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">mvc<span class="token punctuation">.</span>View<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token punctuation">[</span>classProperties<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

 <p>
     Create a custom view class. You'll want to override the <code class="highlighted">render</code> function, specify your declarative <code class="highlighted">events</code>, and perhaps
     the <code class="highlighted">tagName</code>, <code class="highlighted">className</code>, or <code class="highlighted">id</code> of the View's root element.
 </p>

 <pre><code class="highlighted"><span class="token keyword">const</span> ShapeRow <span class="token operator">=</span> mvc<span class="token punctuation">.</span>View<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    tagName<span class="token operator">:</span> <span class="token string">"li"</span><span class="token punctuation">,</span>

    className<span class="token operator">:</span> <span class="token string">"shape-row"</span><span class="token punctuation">,</span>

    events<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"click .icon"</span><span class="token operator">:</span>          <span class="token string">"open"</span><span class="token punctuation">,</span>
        <span class="token string">"click .button.edit"</span><span class="token operator">:</span>   <span class="token string">"openEditDialog"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">initialize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">,</span> <span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

 <p>
    Properties like <code class="highlighted">tagName</code>, <code class="highlighted">id</code>, <code class="highlighted">className</code>, <code class="highlighted">el</code>, and <code class="highlighted">events</code> may also be defined as
    a function, if you want to wait to define them until runtime.
 </p>

        </div>
    </div>
    <div id="mvc.View.prototype.initialize" class="docs-item">
        <a href="#mvc.View.prototype.initialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.initialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    There are several special options that, if passed, will be attached directly to the view: <code class="highlighted">model</code>, <code class="highlighted">collection</code>,
    <code class="highlighted">el</code>, <code class="highlighted">id</code>, <code class="highlighted">className</code>, <code class="highlighted">tagName</code>, <code class="highlighted">attributes</code> and <code class="highlighted">events</code>.
    If the view defines an <code class="highlighted">initialize</code> function, it will be called when the view is first created. Initialize is an empty function by
    default. Override it with your own initialization logic.
</p>

<p>
    If you'd like to create a view that references an element already in the DOM, pass in the element as an option:
    <code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token operator">:</span> existingElement <span class="token punctuation">}</span><span class="token punctuation">)</span></code>
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.preinitialize" class="docs-item">
        <a href="#mvc.View.prototype.preinitialize" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.preinitialize</h5>
        </a>
        <div class="docs-item-content">
<p>
    For use with views as ES classes. If you define a <code class="highlighted">preinitialize</code> method, it will be invoked when the view is first created, before
    any instantiation logic is run. <code class="highlighted">preinitialize</code> is an empty function by default. You can override it with a function or object.
</p>

<pre><code class="highlighted"><span class="token keyword">class</span> <span class="token class-name">View</span> <span class="token keyword">extends</span> <span class="token class-name">mvc<span class="token punctuation">.</span>View</span> <span class="token punctuation">{</span>
    <span class="token function">preinitialize</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> autoRender <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>autoRender <span class="token operator">=</span> autoRender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>autoRender<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listenTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>

        </div>
    </div>
    <div id="mvc.View.prototype.remove" class="docs-item">
        <a href="#mvc.View.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Removes a view and its <code class="highlighted">el</code> from the DOM, and calls <a href="#mvc.Events.stopListening"><code class="highlighted">stopListening</code></a> to remove 
    any bound events that the view has <a href="#mvc.Events.listenTo"><code class="highlighted">listenTo</code></a>'d.
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.render" class="docs-item">
        <a href="#mvc.View.prototype.render" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.render</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    <code class="highlighted">render</code> is the core function that your view should override, in order to populate its element (<code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code>), 
    with the appropriate HTML. The convention is for render to always return <code class="highlighted"><span class="token keyword">this</span></code> to enable chained calls.
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.setElement" class="docs-item">
        <a href="#mvc.View.prototype.setElement" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.setElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">view<span class="token punctuation">.</span><span class="token function">setElement</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre>

<p>
    Change the view's element (<code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>el</code> property) and re-delegate the view's events on the new element.
</p>

        </div>
    </div>
    <div id="mvc.View.prototype.undelegateEvents" class="docs-item">
        <a href="#mvc.View.prototype.undelegateEvents" class="docs-item-anchor">
            <h5 class="docs-item-header">mvc.View.prototype.undelegateEvents</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token function">undelegateEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>
    Removes all of the view's delegated events. Useful if you want to disable or remove a view from the DOM temporarily. 
</p>

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="routers" class="docs-item">
    <div id="routers.intro" class="docs-item">
        <a href="#routers.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">routers</h3>
        </a>
        <div class="docs-item-content">
<p>Routers take an array of link vertices and transform them into an array of route points that the link should go through. The <code class="highlighted">router</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.router">function</a>.</p>

<p>The difference between <code class="highlighted">vertices</code> and the route is that the vertices are user-defined while the route is computed. The route inserts additional private vertices to complement user vertices as necessary (e.g. to make sure the route is orthogonal).</p>

<p>There are five built-in routers:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'manhattan'</span></code> - <a href="#routers.manhattan">smart orthogonal router</a></li>
    <li><code class="highlighted"><span class="token string">'metro'</span></code> - <a href="#routers.metro">smart octolinear router</a></li>
    <li><code class="highlighted"><span class="token string">'normal'</span></code> - <a href="#routers.normal">default simple router</a></li>
    <li><code class="highlighted"><span class="token string">'orthogonal'</span></code> - <a href="#routers.orthogonal">basic orthogonal router</a></li>
    <li><code class="highlighted"><span class="token string">'rightAngle'</span></code> - <a href="#routers.rightAngle">orthogonal router that goes in a given direction</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'orthogonal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default router is <code class="highlighted"><span class="token string">'normal'</span></code>; this can be changed with the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultRouter <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'orthogonal'</span><span class="token punctuation">,</span>
    args<span class="token operator">:</span> <span class="token punctuation">{</span>
        padding<span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted"><span class="token string">'manhattan'</span></code> and <code class="highlighted"><span class="token string">'metro'</span></code> routers are our <q>smart routers</q>; they automatically avoid obstacles (elements) in their way.</p>

<p>The <code class="highlighted"><span class="token string">'orthogonal'</span></code>, <code class="highlighted"><span class="token string">'manhattan'</span></code> and <code class="highlighted"><span class="token string">'rightAngle'</span></code> routers generate routes consisting exclusively of vertical and horizontal segments. The <code class="highlighted"><span class="token string">'metro'</span></code> router generates routes consisting of orthogonal and diagonal segments.</p>

<p>JointJS also contains mechanisms to define one's own <a href="#routers.custom">custom routers</a>.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching routers with <a href="#connectors">connectors</a> as desired; for example, a link may be specified to use the <code class="highlighted"><span class="token string">'jumpover'</span></code> connector on top of the <code class="highlighted"><span class="token string">'manhattan'</span></code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.custom" class="docs-item">
        <a href="#routers.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New routers can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span>myRouter</code>) or passed directly as a function to the <code class="highlighted">router</code> property of a link (or to the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">option of a paper</a>).</p>

<p>In either case, the router function must return an array of route points that the link should go through (not including the start/end connection points). The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>vertices</th>
        <td><i>Array&lt;g.Point&gt;</i></td>
        <td>The vertices of the route.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the router method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
    <tr>
        <th>linkView</th>
        <td><i>dia.LinkView</i></td>
        <td>The LinkView of the connection. The Link model can be accessed as the <code class="highlighted">model</code> property; this may be useful for writing conditional logic based on link attributes.</td>
    </tr>
</table>

<p>Example of a router defined in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span><span class="token function-variable function">randomWalk</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">NUM_BOUNCES</span> <span class="token operator">=</span> args<span class="token punctuation">.</span>numBounces <span class="token operator">||</span> <span class="token number">20</span><span class="token punctuation">;</span>

    vertices <span class="token operator">=</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">NUM_BOUNCES</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> sourceCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>sourceBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> targetCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>targetBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> randomPoint <span class="token operator">=</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>sourceCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> sourceCorner<span class="token punctuation">.</span>y<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>randomPoint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> vertices<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'randomWalk'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    numBounces<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a router passed as a function is provided below. Notice that this approach does not enable passing custom <code class="highlighted">args</code> nor can it be serialized with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">NUM_BOUNCES</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    vertices <span class="token operator">=</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">NUM_BOUNCES</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> sourceCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>sourceBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> targetCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>targetBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> randomPoint <span class="token operator">=</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>sourceCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> sourceCorner<span class="token punctuation">.</span>y<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>randomPoint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> vertices<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.manhattan" class="docs-item">
        <a href="#routers.manhattan" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.manhattan</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'manhattan'</span></code> router is the smart version of the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router. It connects vertices with orthogonal line segments, inserting route points when necessary, while avoiding obstacles in its way. The router has useful options that determine how the algorithm behaves. These options can be passed as the <code class="highlighted">router<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>step</th>
        <td><i>number</i></td>
        <td>Size of the imaginary grid followed by the <code class="highlighted"><span class="token string">'manhattan'</span></code> pathfinding algorithm. Lower number -> higher complexity. The <code class="highlighted"><span class="token string">'manhattan'</span></code> router performs best when <code class="highlighted">step</code> has the same value as <code class="highlighted">dia<span class="token punctuation">.</span>Paper<span class="token punctuation">.</span>option<span class="token punctuation">.</span>gridSize</code>. Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number&nbsp;|&nbsp;object</i></td>
        <td>Padding applied around start/end elements and obstacles. Default is the <code class="highlighted">step</code> value (see above). The <code class="highlighted">util<span class="token punctuation">.</span>normalizeSides</code> <a href="#util.normalizeSides">function</a> is used to understand the provided value. A single number is applied as padding to all sides of the elements. An object may be provided to specify values for <code class="highlighted">left</code>, <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">horizontal</code> and/or <code class="highlighted">vertical</code> sides.</td>
    </tr>
    <tr>
        <th>maximumLoops</th>
        <td><i>number</i></td>
        <td>The maximum number of iterations of the pathfinding loop. If the number of iterations exceeds this maximum, pathfinding is aborted and the fallback router (<code class="highlighted"><span class="token string">'orthogonal'</span></code>) is used instead. Higher number -> higher complexity. Default is <code class="highlighted"><span class="token number">2000</span></code>.</td>
    </tr>
    <tr>
        <th>maxAllowedDirectionChange</th>
        <td><i>number</i></td>
        <td>Maximum change of direction of the <code class="highlighted"><span class="token string">'manhattan'</span></code> route, in degrees. Default is <code class="highlighted"><span class="token number">90</span></code>.</td>
    </tr>
    <tr>
        <th>perpendicular</th>
        <td><i>boolean</i></td>
        <td>Should the <code class="highlighted">linkView<span class="token punctuation">.</span>perpendicular</code> option be in effect? This causes the router not to link precisely to the anchor of the end element but rather to a point close by that is orthogonal. This creates a clean connection between the element and the first/last vertex of the route. Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>excludeEnds</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array with strings <code class="highlighted"><span class="token string">'source'</span></code> and/or <code class="highlighted"><span class="token string">'target'</span></code> that tells the algorithm that the given end element(s) should not be considered as an obstacle. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">]</span></code> (both are considered obstacles).</td>
    </tr>
    <tr>
        <th>excludeTypes</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array of element types that should not be considered obstacles when calculating the route. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'basic.Text'</span><span class="token punctuation">]</span></code>.</td>
    </tr>
    <tr>
        <th>startDirections</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array that specifies the possible starting directions from an element. Change this in situations where you need the link to, for example, always start at the bottom of the source element (then, the value would be <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span></code>). Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">,</span> <span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">]</span></code> (all directions allowed).</td>
    </tr>
    <tr>
        <th>endDirections</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array that specifies the possible ending directions to an element. Change this in situations where you need the link to, for example, always end at the bottom of the source element (then, the value would be <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span></code>). Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">,</span> <span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">]</span></code> (all directions allowed).</td>
    </tr>
    <tr>
        <th>isPointObstacle</th>
        <td><i>(point) => boolean</i></td>
        <td>A function that determines whether a given point is an obstacle or not. If used, the <i>padding</i>, <i>excludeEnds</i> and <i>excludeTypes</i> options are ignored.</td>
    </tr>
    <tr>
        <th>fallbackRouter</th>
        <td><i>(vertices, options, linkView) => Array&lt;g.Point&gt;</i></td>
        <td>A function that is called when the routing fails. Use this in situations where you need to retry routing with more relaxed options e.g. no start/endDirections constraints. The default fallbackRouter is an orthogonal router.</td>
    </tr>    
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.metro" class="docs-item">
        <a href="#routers.metro" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.metro</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'metro'</span></code> router is a modification of the <code class="highlighted"><span class="token string">'manhattan'</span></code> <a href="#routers.manhattan">router</a> that produces an octolinear route (i.e. a route consisting of orthogonal and diagonal line segments, akin to the London Underground map design). It also avoids obstacles, and accepts the same <code class="highlighted">router<span class="token punctuation">.</span>args</code> as <code class="highlighted"><span class="token string">'manhattan'</span></code>, with a few modifications:</p>

<table>
    <tr>
        <th>maximumLoops</th>
        <td><i>number</i></td>
        <td>Does not use the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router as fallback if path cannot to be found in the given number of iterations. Instead, a custom octolinear fallback route is used that does not avoid obstacles.</td>
    </tr>
    <tr>
        <th>maxAllowedDirectionChange</th>
        <td><i>number</i></td>
        <td>Default changes to <code class="highlighted"><span class="token number">45</span></code>.</td>
    </tr>
    <tr>
        <th>startDirection</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>Same as <code class="highlighted"><span class="token string">'manhattan'</span></code> (i.e. only the four orthogonal directions are accepted as start directions).</td>
    </tr>
    <tr>
        <th>endDirection</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>Same as <code class="highlighted"><span class="token string">'manhattan'</span></code> (i.e. only the four orthogonal directions are accepted as end directions).</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'metro'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.normal" class="docs-item">
        <a href="#routers.normal" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.normal</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'normal'</span></code> router is the default router for links and it is the simplest router. It does not have any options and it does not do anything; it returns the vertices passed to it without modification as the route to be taken.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'normal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.orthogonal" class="docs-item">
        <a href="#routers.orthogonal" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.orthogonal</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'orthogonal'</span></code> router returns a route with orthogonal line segments. It generates extra route points in order to create the right angles on the way. It does not avoid obstacles. The router has one optional argument; this can be passed as the <code class="highlighted">router<span class="token punctuation">.</span>args<span class="token punctuation">.</span>elementPadding</code> property:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number&nbsp;|&nbsp;object</i></td>
        <td>The minimum distance from element at which the first/last route angle may be placed. Default is <code class="highlighted"><span class="token number">20</span></code>. The <code class="highlighted">util<span class="token punctuation">.</span>normalizeSides</code> <a href="#util.normalizeSides">function</a> is used to understand the provided value. A single number is applied as padding to all sides of the elements. An object may be provided to specify values for <code class="highlighted">left</code>, <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">horizontal</code> and/or <code class="highlighted">vertical</code> sides.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'orthogonal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.rightAngle" class="docs-item">
    <div id="routers.rightAngle.intro" class="docs-item">
        <a href="#routers.rightAngle.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">routers.rightAngle</h4>
        </a>
        <div class="docs-item-content">
<p>
    The <code class="highlighted"><span class="token string">'rightAngle'</span></code> router returns a route with orthogonal line segments just like <code class="highlighted"><span class="token string">'orthogonal'</span></code> router,
    except it chooses the direction of the link based on the position of the source and target anchors (or port position).
    This router avoids collisions with source and target elements, but does not avoid other obstacles.
    The behavior of the router can be modified by passing optional arguments:
</p>

<div class="docs-important-note">
    This router completely ignores vertices, so using vertex tools such as <code class="highlighted">linkTools<span class="token punctuation">.</span>Vertices</code> will not result in any change of path.
</div>

<br>

<table>
    <tr>
        <th>margin</th>
        <td><i>number</i></td>
        <td>The minimum distance between the route and the element. The default is <code class="highlighted"><span class="token number">20</span></code>.</td>
    </tr>
    <tr>
        <th>sourceDirection</th>
        <td><i>rightAngle.Directions</i></td>
        <td>The direction of the link from the source anchor. The default is <code class="highlighted">rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">AUTO</span></code>.</td>
    </tr>
    <tr>
        <th>targetDirection</th>
        <td><i>rightAngle.Directions</i></td>
        <td>The direction of the link from the target anchor. The default is <code class="highlighted">rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">AUTO</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'rightAngle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    margin<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    sourceDirection<span class="token operator">:</span> routers<span class="token punctuation">.</span>rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">TOP</span><span class="token punctuation">,</span>
    targetDirection<span class="token operator">:</span> routers<span class="token punctuation">.</span>rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">BOTTOM</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.rightAngle.Directions" class="docs-item">
        <a href="#routers.rightAngle.Directions" class="docs-item-anchor">
            <h4 class="docs-item-header">routers.rightAngle.Directions</h4>
        </a>
        <div class="docs-item-content">
<p>Available values for the <code class="highlighted">sourceDirection</code> and <code class="highlighted">targetDirection</code> options:</p>

<table>
    <tr>
        <th>rightAngle.Directions.AUTO</th>
        <td>
            It automatically decides which direction to use. If the link is connected to a port, the
            <code class="highlighted">rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">MAGNET_SIDE</span></code> is used. Otherwise, it uses <code class="highlighted">rightAngle<span class="token punctuation">.</span>Directions<span class="token punctuation">.</span><span class="token constant">ANCHOR_SIDE</span></code>.
        </td>
    </tr>
    <tr>
        <th>rightAngle.Directions.ANCHOR_SIDE</th>
        <td>Determines the direction depending on the side of the magnet where the anchor is located.</td>
    </tr>
    <tr>
        <th>rightAngle.Directions.MAGNET_SIDE</th>
        <td>Determines the direction depending on the side of the element where the magnet (e.g. port) is located.</td>
    </tr>
    <tr>
        <th>rightAngle.Directions.LEFT</th>
        <td>Sets the direction of the link to the left side.</td>
    </tr>
    <tr>
        <th>rightAngle.Directions.RIGHT</th>
        <td>Sets the direction of the link to the right side.</td>
    </tr>
    <tr>
        <th>rightAngle.Directions.TOP</th>
        <td>Sets the direction of the link to the top side.</td>
    </tr>
    <tr>
        <th>rightAngle.Directions.BOTTOM</th>
        <td>Sets the direction of the link to the bottom side.</td>
    </tr>
</table>

        </div>
    </div>
    </div>
    </div>
    <div id="shapes" class="docs-item">
    <div id="shapes.standard" class="docs-item">
    <div id="shapes.standard.intro" class="docs-item">
        <a href="#shapes.standard.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard</h4>
        </a>
        <div class="docs-item-content">
<p>The Standard plugin provides you with ready-to-use, high-performance versions of the most common shapes. The shapes can be used as they are or can serve as an inspiration for creating custom shapes.</p>

<iframe src="about:blank" data-src="./demo/shapes/shapes.standard.html" style="height: 805px; width: 660px;"></iframe>

<p><a target="_blank" href="./demo/shapes/shapes.standard.js">source code</a></p>

        </div>
    </div>
    <div id="shapes.standard.BorderedImage" class="docs-item">
        <a href="#shapes.standard.BorderedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.BorderedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image with a border and label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image body of the shape</td>
    </tr>
    <tr>
        <td>border</td>
        <td><i>SVGRectElement</i></td>
        <td>Border around the image</td>
    </tr>
    <tr>
        <td>background</td>
        <td><i>SVGRectElement</i></td>
        <td>Area behind the image</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the image</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> borderedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>BorderedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">225</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.BoarderedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Bordered\nImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'border/rx'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Circle" class="docs-item">
        <a href="#shapes.standard.Circle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Circle</h4>
        </a>
        <div class="docs-item-content">
<p>A circle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGCircleElement</i></td>
        <td>Circular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Cylinder" class="docs-item">
        <a href="#shapes.standard.Cylinder" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Cylinder</h4>
        </a>
        <div class="docs-item-content">
<p>A cylinder with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPathElement</i></td>
        <td>Lateral area of the cylinder
            <p><i>
                The shape has a custom attribute <code class="highlighted">lateralArea</code> set to <code class="highlighted"><span class="token number">10</span></code> by default.
                The attribute sets the SVGPathElement's <code class="highlighted">d</code> in the shape of the lateral area of a tilted cylinder.
                The attribute expects a <code class="highlighted">topRy</code> value; either a percentage or a number.
                The value determines the vertical radius of the exposed area of cylinder base;
                either relative to shape height, or directly.
                (Refer to the <code class="highlighted">cylinder<span class="token punctuation">.</span>topRy</code> function for more detailed specification.)
            </i></p>
        </td>
    </tr>
    <tr>
        <td>top</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Top of the cylinder (cylinder base)</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<h5 id="shapes.standard.Cylinder.prototype.topRy">shapes.standard.Cylinder.prototype.topRy</h5>
<pre class="docs-method-signature"><code class="highlighted">cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the vertical radius of the exposed area of the cylinder base (the value of the <code class="highlighted">body<span class="token operator">/</span>lateralArea</code> attribute; <code class="highlighted"><span class="token number">10</span></code> by default).</p>

<pre class="docs-method-signature"><code class="highlighted">cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the cylinder vertical radius of the exposed area of the cylinder base.</p>

<p>If the provided value is a percentage, it is relative to the <code class="highlighted">refBBox<span class="token punctuation">.</span>height</code> of the shape. In practice, only values between <code class="highlighted"><span class="token string">'0%'</span></code> and <code class="highlighted"><span class="token string">'50%'</span></code> make sense. If the provided value is a number, it determines the vertical radius directly. Only values between <code class="highlighted"><span class="token number">0</span></code> and half of <code class="highlighted">refBBox<span class="token punctuation">.</span>height</code> make sense.</p>

<p>The function automatically sets the value of several attributes: <code class="highlighted">body<span class="token operator">/</span>lateralArea</code>; and <code class="highlighted">top<span class="token operator">/</span>ry</code>, <code class="highlighted">top<span class="token operator">/</span>cy</code>, <code class="highlighted">top<span class="token operator">/</span>refRy</code> and <code class="highlighted">top<span class="token operator">/</span>refCy</code>. If these arguments need to be modified further, make sure to assign them only after calling <code class="highlighted">cylinder<span class="token punctuation">.</span>topRy</code>.</p>

<p>Example usage:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cylinder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">standard<span class="token punctuation">.</span>Cylinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">525</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Cylinder'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'top/fill'</span><span class="token punctuation">,</span> <span class="token string">'gray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Cylinder'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span><span class="token string">'10%'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.DoubleLink" class="docs-item">
        <a href="#shapes.standard.DoubleLink" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.DoubleLink</h4>
        </a>
        <div class="docs-item-content">
<p>A double line link.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Inner connection</td>
    </tr>
    <tr>
        <td>outline</td>
        <td><i>SVGPathElement</i></td>
        <td>Outer connection</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> doubleLink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>DoubleLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.DoubleLink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#30d0c6'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Ellipse" class="docs-item">
        <a href="#shapes.standard.Ellipse" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Ellipse</h4>
        </a>
        <div class="docs-item-content">
<p>An ellipse with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Elliptical body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> ellipse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Ellipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">425</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Ellipse'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Ellipse'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.EmbeddedImage" class="docs-item">
        <a href="#shapes.standard.EmbeddedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.EmbeddedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image embedded into a rectangle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image inside the body</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text next to the image</td>
    </tr>
</table>

<pre><code class="highlighted">
<span class="token keyword">var</span> embeddedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>EmbeddedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">425</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.EmbeddedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Embedded\nImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.HeaderedRectangle" class="docs-item">
        <a href="#shapes.standard.HeaderedRectangle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.HeaderedRectangle</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with header.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>header</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular header of the shape</td>
    </tr>
    <tr>
        <td>headerText</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the header</td>
    </tr>
    <tr>
        <td>bodyText</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> headeredRectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>HeaderedRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">610</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.HeaderedRectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'header/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'headerText/text'</span><span class="token punctuation">,</span> <span class="token string">'Header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'bodyText/text'</span><span class="token punctuation">,</span> <span class="token string">'Headered\nRectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Image" class="docs-item">
        <a href="#shapes.standard.Image" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Image</h4>
        </a>
        <div class="docs-item-content">
<p>An image with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the image</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.InscribedImage" class="docs-item">
        <a href="#shapes.standard.InscribedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.InscribedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image inscribed in an ellipse with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image inscribed in the ellipse</td>
    </tr>
    <tr>
        <td>border</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Border around the ellipse</td>
    </tr>
    <tr>
        <td>background</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Area of the ellipse</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the shape</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">const</span> inscribedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>InscribedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">225</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.InscribedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Inscribed Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'border/strokeWidth'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'background/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Link" class="docs-item">
        <a href="#shapes.standard.Link" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Link</h4>
        </a>
        <div class="docs-item-content">
<p>A single line link.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Visible connection of the link</td>
    </tr>
    <tr>
        <td>wrapper</td>
        <td><i>SVGPathElement</i></td>
        <td>Invisible wrapper around the connection to make the line thicker, so the user can interact with the link more easily.</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#fe854f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Path" class="docs-item">
        <a href="#shapes.standard.Path" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Path</h4>
        </a>
        <div class="docs-item-content">
<p>A path with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPathElement</i></td>
        <td>Generic body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refD'</span><span class="token punctuation">,</span> <span class="token string">'M 0 5 10 0 C 20 0 20 20 10 20 L 0 15 Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="shapes.standard.Polygon" class="docs-item">
        <a href="#shapes.standard.Polygon" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Polygon</h4>
        </a>
        <div class="docs-item-content">
<p>A polygon with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPolygonElement</i></td>
        <td>Polygonal body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Polygon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Polygon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refPoints'</span><span class="token punctuation">,</span> <span class="token string">'0,10 10,0 20,10 10,20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Polyline" class="docs-item">
        <a href="#shapes.standard.Polyline" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Polyline</h4>
        </a>
        <div class="docs-item-content">
<p>A polyline with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPolylineElement</i></td>
        <td>Generic body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> polyline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Polyline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Polyline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refPoints'</span><span class="token punctuation">,</span> <span class="token string">'0,0 0,10 10,10 10,0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Rectangle" class="docs-item">
        <a href="#shapes.standard.Rectangle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Rectangle</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="shapes.standard.ShadowLink" class="docs-item">
        <a href="#shapes.standard.ShadowLink" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.ShadowLink</h4>
        </a>
        <div class="docs-item-content">
<p>A thicker line with shadow.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Visible connection of the link</td>
    </tr>
    <tr>
        <td>shadow</td>
        <td><i>SVGPathElement</i></td>
        <td>Shadow of the connection</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> shadowLink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>ShadowLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">550</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">550</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.ShadowLink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#5654a0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.TextBlock" class="docs-item">
        <a href="#shapes.standard.TextBlock" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.TextBlock</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with an HTML label <i>(with a fallback to SVG label for IE)</i>.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>HTMLDivElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> textBlock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>TextBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">610</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.TextBlock'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Hyper Text Markup Language'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Styling of the label via `style` presentation attribute (i.e. CSS).</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/style/color'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    </div>
    <div id="util" class="docs-item">
    <div id="util.assign" class="docs-item">
        <a href="#util.assign" class="docs-item-anchor">
            <h3 class="docs-item-header">util.assign</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Assigns own enumerable string keyed properties of source objects to the destination object. Source objects are applied from left to right. Subsequent sources overwrite property assignments of previous sources.</p>
<table>
    <tr>
        <th>destinationObject</th>
        <td>Object</td>
        <td>The destination object</td>
    </tr>
    <tr>
        <th>[sourceObjects]</th>
        <td>Object[]</td>
        <td>The source objects</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.bindAll" class="docs-item">
        <a href="#util.bindAll" class="docs-item-anchor">
            <h3 class="docs-item-header">util.bindAll</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">bindAll</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> methodNames<span class="token punctuation">)</span></code></pre>
<p>Binds methods of an object to the object itself, overwriting the existing method.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The object to bind and assign the bound methods to</td>
    </tr>
    <tr>
        <th>methodNames</th>
        <td>string|string[]</td>
        <td>The object method names to bind</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.breakText" class="docs-item">
        <a href="#util.breakText" class="docs-item-anchor">
            <h3 class="docs-item-header">util.breakText</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> size <span class="token punctuation">[</span><span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Break the provided <code class="highlighted">text</code> into lines so that it can fit into the bounding box defined by <code class="highlighted">size<span class="token punctuation">.</span>width</code> and (optionally) <code class="highlighted">size<span class="token punctuation">.</span>height</code>.</p>

<p>The function creates a temporary SVG <code class="highlighted"><span class="token operator">&lt;</span>text<span class="token operator">></span></code> element and adds words to it one by one, measuring the element's actual rendered width and height at every step. If a word causes a line to overflow <code class="highlighted">size<span class="token punctuation">.</span>width</code>, a newline character (<code class="highlighted"><span class="token string">'\n'</span></code>) is generated. If a newline causes the text to overflow <code class="highlighted">size<span class="token punctuation">.</span>height</code>, the string is cut off.</p>

<p>The returned string is a (possibly truncated) copy of <code class="highlighted">text</code> with newline characters at appropriate locations.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet\nconsectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet'</span></code></pre>

<p>The <code class="highlighted">attrs</code> parameter is an object with SVG attributes that should be set on the temporary SVG text element while it is being measured (such as <code class="highlighted"><span class="token string">'font-weight'</span></code>, <code class="highlighted"><span class="token string">'font-size'</span></code>, <code class="highlighted"><span class="token string">'font-family'</span></code>, etc.). For example, an area of fixed size can obviously fit more words of font size <code class="highlighted"><span class="token number">12</span>px</code> than it can fit words of font size <code class="highlighted"><span class="token number">36</span>px</code>. If nothing can fit, an empty string is returned. (If an <code class="highlighted">attrs</code> object is not provided, the browser's default style is used.)</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum dolor\nsit amet consectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">72</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ''</span></code></pre>

<p>The method also accepts the following additional options:</p>

<ul>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>separator</code> - a string or a regular expression which denotes how to split the text into words. Defaults to <code class="highlighted"><span class="token string">' '</span></code></li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>eol</code> - a string representing the end-of-line symbol. Defaults to <code class="highlighted"><span class="token string">'\n'</span></code>.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>ellipsis</code> - a boolean that specifies whether the ellipsis symbol (<code class="highlighted"><span class="token string">''</span></code>, <code class="highlighted"><span class="token constant">U</span><span class="token operator">+</span><span class="token number">2026</span> <span class="token constant">HORIZONTAL</span> <span class="token constant">ELLIPSIS</span></code>) should be displayed when the text overflows. Defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If you provide a string, that string will be used as the ellipsis symbol instead.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>svgDocument</code> - an SVG document to which the temporary SVG text element should be added. By default, an SVG document is created automatically for you.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>hyphen</code> - a string or regex representing the hyphen symbol. If required, the method tries to break long words at hyphens first.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>maxLineCount</code> - a number to limit the maximum number of lines.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>preserveSpaces</code> - preserve the text spaces (avoid all consecutive spaces being deleted and replaced by one space, and preserve a space at the beginning and the end of the text).</li>
</ul>

<p>Examples of text with the <code class="highlighted">ellipsis</code> option specified:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum dolor\nsit amet consectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit ame'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token operator">:</span> <span class="token string">'...!?'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit a...!?'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lore'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token operator">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ''</span></code></pre>

<p>If you need to wrap text inside a <code class="highlighted">text</code> <a href="#dia.attributes.text">attribute</a> of an Element, you should use the <code class="highlighted">textWrap</code> <a href="#dia.attributes.textWrap">attribute</a> instead. It does not require you to provide explicit size measurements, and it automatically responds to element resizing.</p>

        </div>
    </div>
    <div id="util.camelCase" class="docs-item">
        <a href="#util.camelCase" class="docs-item-anchor">
            <h3 class="docs-item-header">util.camelCase</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span><span class="token punctuation">[</span>string<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Converts string to camel case.</p>
<table>
    <tr>
        <th>[string='']</th>
        <td>string</td>
        <td>The string to convert</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.cancelFrame" class="docs-item">
        <a href="#util.cancelFrame" class="docs-item-anchor">
            <h3 class="docs-item-header">util.cancelFrame</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">cancelFrame</span><span class="token punctuation">(</span>requestId<span class="token punctuation">)</span></code></pre><p>Cancels an animation frame request identified by <code class="highlighted">requestId</code> previously scheduled through a call to <a href="#util.nextFrame">joint.util.nextFrame</a>.</p>
        </div>
    </div>
    <div id="util.clone" class="docs-item">
        <a href="#util.clone" class="docs-item-anchor">
            <h3 class="docs-item-header">util.clone</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Creates a shallow clone of value.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to clone</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.cloneDeep" class="docs-item">
        <a href="#util.cloneDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.cloneDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>This method is like <code class="highlighted">util<span class="token punctuation">.</span>clone</code> except that it recursively clones value.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to recursively clone</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.dataUriToBlob" class="docs-item">
        <a href="#util.dataUriToBlob" class="docs-item-anchor">
            <h3 class="docs-item-header">util.dataUriToBlob</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">dataUriToBlob</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">)</span></code></pre>
<p>Convert a <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI string</a> into a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob object</a>.</p>

        </div>
    </div>
    <div id="util.debounce" class="docs-item">
        <a href="#util.debounce" class="docs-item-anchor">
            <h3 class="docs-item-header">util.debounce</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token punctuation">[</span>wait<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates a debounced function that delays invoking func until after wait milliseconds have elapsed since the last time the debounced function was invoked. The debounced function comes with a cancel method to cancel delayed func invocations and a flush method to immediately invoke them. Provide options to indicate whether func should be invoked on the leading and/or trailing edge of the wait timeout. The func is invoked with the last arguments provided to the debounced function. Subsequent calls to the debounced function return the result of the last func invocation.</p>
<table>
    <tr>
        <th>func</th>
        <td>Function</td>
        <td>The function to debounce</td>
    </tr>
    <tr>
        <th>[wait=0]</th>
        <td>number</td>
        <td>The number of milliseconds to delay</td>
    </tr>
    <tr>
        <th>[options={}]</th>
        <td>Object</td>
        <td>The options object</td>
    </tr>
    <tr>
        <th>[options.leading=false]</th>
        <td>boolean</td>
        <td>Specify invoking on the leading edge of the timeout</td>
    </tr>
    <tr>
        <th>[options.maxWait]</th>
        <td>number</td>
        <td>The maximum time func is allowed to be delayed before it's invoked</td>
    </tr>
    <tr>
        <th>[options.trailing=true]</th>
        <td>boolean</td>
        <td>Specify invoking on the trailing edge of the timeout</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.deepMixin" class="docs-item">
        <a href="#util.deepMixin" class="docs-item-anchor">
            <h3 class="docs-item-header">util.deepMixin</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">deepMixin</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An <a href="#util.assign">alias</a> for <code class="highlighted">util<span class="token punctuation">.</span>assign</code>, use it instead.</p>

        </div>
    </div>
    <div id="util.deepSupplement" class="docs-item">
        <a href="#util.deepSupplement" class="docs-item-anchor">
            <h3 class="docs-item-header">util.deepSupplement</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">deepSupplement</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An <a href="#util.defaultsDeep">alias</a> for <code class="highlighted">util<span class="token punctuation">.</span>defaultsDeep</code>, use it instead.</p>

        </div>
    </div>
    <div id="util.defaults" class="docs-item">
        <a href="#util.defaults" class="docs-item-anchor">
            <h3 class="docs-item-header">util.defaults</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">defaults</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Assigns own and inherited enumerable string keyed properties of source objects to the destination object for all destination properties that resolve to undefined. Source objects are applied from left to right. Once a property is set, additional values of the same property are ignored.</p>
<table>
    <tr>
        <th>destinationObject</th>
        <td>Object</td>
        <td>The destination object</td>
    </tr>
    <tr>
        <th>[sourceObjects]</th>
        <td>Object[]</td>
        <td>The source objects</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.defaultsDeep" class="docs-item">
        <a href="#util.defaultsDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.defaultsDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">defaultsDeep</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>This method is like <code class="highlighted">util<span class="token punctuation">.</span>defaults</code> except that it recursively assigns default properties.</p>
<table>
    <tr>
        <th>destinationObject</th>
        <td>Object</td>
        <td>The destination object</td>
    </tr>
    <tr>
        <th>[sourceObjects]</th>
        <td>Object[]</td>
        <td>The source objects</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.difference" class="docs-item">
        <a href="#util.difference" class="docs-item-anchor">
            <h3 class="docs-item-header">util.difference</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>values<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an array of array values not included in the other given arrays using SameValueZero for equality comparisons. The order and references of result values are determined by the first array.</p>
<table>
    <tr>
        <th>array</th>
        <td>any[]</td>
        <td>The array to inspect</td>
    </tr>
    <tr>
        <th>[values]</th>
        <td>any[]</td>
        <td>The values to exclude</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.downloadBlob" class="docs-item">
        <a href="#util.downloadBlob" class="docs-item-anchor">
            <h3 class="docs-item-header">util.downloadBlob</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">downloadBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></code></pre>
<p>Download provided <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob object</a> as a file with given <code class="highlighted">fileName</code>.</p>

        </div>
    </div>
    <div id="util.downloadDataUri" class="docs-item">
        <a href="#util.downloadDataUri" class="docs-item-anchor">
            <h3 class="docs-item-header">util.downloadDataUri</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">downloadDataUri</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></code></pre>
<p>Download provided <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI string</a> as a file with given <code class="highlighted">fileName</code>.</p>

        </div>
    </div>
    <div id="util.flattenDeep" class="docs-item">
        <a href="#util.flattenDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.flattenDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">flattenDeep</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span></code></pre>
<p>Recursively flattens array.</p>
<table>
    <tr>
        <th>array</th>
        <td>any[]</td>
        <td>The array to flatten</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.flattenObject" class="docs-item">
        <a href="#util.flattenObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.flattenObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">flattenObject</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> delim<span class="token punctuation">,</span> stop<span class="token punctuation">)</span></code></pre>

<p>Flatten a nested <code class="highlighted">object</code> up until the <code class="highlighted">stop</code> function returns <code class="highlighted"><span class="token boolean">true</span></code>. The <code class="highlighted">stop</code> function takes the value of the node currently traversed. <code class="highlighted">delim</code> is a delimiter for the combined keys in the resulting object. Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">flattenObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    a<span class="token operator">:</span> <span class="token punctuation">{</span> 
        a1<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
        a2<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> 
        a3<span class="token operator">:</span> <span class="token punctuation">{</span> 
            a31<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> 
            a32<span class="token operator">:</span> <span class="token punctuation">{</span> 
                a321<span class="token operator">:</span> <span class="token punctuation">{</span> a3211<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    b<span class="token operator">:</span> <span class="token number">6</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>v<span class="token punctuation">.</span>a321<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
{
 "a/a1": 1,
 "a/a2": 2,
 "a/a3/a31": 5,
 "a/a3/a32": {
  "a321": {
   "a3211": 5
  }
 },
 "b": 6
}
*/</span></code></pre>

        </div>
    </div>
    <div id="util.forIn" class="docs-item">
        <a href="#util.forIn" class="docs-item-anchor">
            <h3 class="docs-item-header">util.forIn</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">forIn</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">[</span>iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Iterates over elements of collection and invokes iteratee for each element. The iteratee is invoked with three arguments: (value, index|key, collection). Iteratee functions may exit iteration early by explicitly returning false.</p>
<table>
    <tr>
        <th>collection</th>
        <td>any[]|Object</td>
        <td>The collection to iterate over</td>
    </tr>
    <tr>
        <th>[iteratee]</th>
        <td>Function</td>
        <td>The function invoked per iteration</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.getByPath" class="docs-item">
        <a href="#util.getByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.getByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">getByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre>

<p>Return a value at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the delimiter used in the <code class="highlighted">path</code> Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">getByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token punctuation">{</span> aa<span class="token operator">:</span> <span class="token punctuation">{</span> aaa<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'a/aa/aaa'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span></code></pre>

        </div>
    </div>
    <div id="util.getElementBBox" class="docs-item">
        <a href="#util.getElementBBox" class="docs-item-anchor">
            <h3 class="docs-item-header">util.getElementBBox</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">getElementBBox</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span></code></pre><p>Return a bounding box of the element <code class="highlighted">el</code>. The advantage of this method is that it can handle
          both HTML and SVG elements. The resulting object is of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number<span class="token punctuation">,</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>.
        </p>
        </div>
    </div>
    <div id="util.getRectPoint" class="docs-item">
        <a href="#util.getRectPoint" class="docs-item-anchor">
            <h3 class="docs-item-header">util.getRectPoint</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">getRectPoint</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> positionName<span class="token punctuation">)</span></code></pre>
<p>
    Returns a <a href="geometry.html#g.Point.constructor">g.Point</a> on the rectangle specified by the keyword <code class="highlighted">positionName</code>.
    <br>
    The <code class="highlighted">rect</code> object has the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token operator">:</span> Number<span class="token punctuation">,</span> y<span class="token operator">:</span> Number<span class="token punctuation">,</span> width<span class="token operator">:</span> Number<span class="token punctuation">,</span> height<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>.
    <br>
    The <code class="highlighted">positionName</code> keyword can be one of the following:</p>
    <ul>
        <li><code class="highlighted"><span class="token string">'top-left'</span></code></li>
        <li><code class="highlighted"><span class="token string">'top'</span></code></li>
        <li><code class="highlighted"><span class="token string">'top-right'</span></code></li>
        <li><code class="highlighted"><span class="token string">'bottom-left'</span></code></li>
        <li><code class="highlighted"><span class="token string">'bottom'</span></code></li>
        <li><code class="highlighted"><span class="token string">'bottom-right'</span></code></li>
        <li><code class="highlighted"><span class="token string">'left'</span></code></li>
        <li><code class="highlighted"><span class="token string">'right'</span></code></li>
        <li><code class="highlighted"><span class="token string">'center'</span></code></li>
    </ul>
<p></p>

        </div>
    </div>
    <div id="util.groupBy" class="docs-item">
        <a href="#util.groupBy" class="docs-item-anchor">
            <h3 class="docs-item-header">util.groupBy</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> <span class="token punctuation">[</span>iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an object composed of keys generated from the results of running each element of collection thru iteratee. The order of grouped values is determined by the order they occur in collection. The corresponding value of each key is an array of elements responsible for generating the key. The iteratee is invoked with one argument: <i>(value)</i>.</p>
<table>
    <tr>
        <th>collection</th>
        <td>any[]|Object</td>
        <td>The collection to iterate over</td>
    </tr>
    <tr>
        <th>[iteratee]</th>
        <td>Function</td>
        <td>The function invoked per iteration</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.guid" class="docs-item">
        <a href="#util.guid" class="docs-item-anchor">
            <h3 class="docs-item-header">util.guid</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">guid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an identifier unique for the page.</p>
        </div>
    </div>
    <div id="util.has" class="docs-item">
        <a href="#util.has" class="docs-item-anchor">
            <h3 class="docs-item-header">util.has</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> propertyPath<span class="token punctuation">)</span></code></pre>
<p>Checks if path is a direct property of object.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The object to query</td>
    </tr>
    <tr>
        <th>propertyPath</th>
        <td>string[]|string</td>
        <td>The path to check</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.hashCode" class="docs-item">
        <a href="#util.hashCode" class="docs-item-anchor">
            <h3 class="docs-item-header">util.hashCode</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span></code></pre>
<p>Return a simple hash code from a string.</p>

        </div>
    </div>
    <div id="util.imageToDataUri" class="docs-item">
        <a href="#util.imageToDataUri" class="docs-item-anchor">
            <h3 class="docs-item-header">util.imageToDataUri</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">imageToDataUri</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> callback<span class="token punctuation">)</span></code></pre>
<p>Convert an image at <code class="highlighted">url</code> to the <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI scheme</a>. The function is able to handle PNG, JPG and SVG formats. Useful if you need to embed images directly into your diagram instead of having them referenced externally.</p>

<p>The <code class="highlighted">callback</code> function has the following signature: <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataUri</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</p>

        </div>
    </div>
    <div id="util.intersection" class="docs-item">
        <a href="#util.intersection" class="docs-item-anchor">
            <h3 class="docs-item-header">util.intersection</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arrays<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an array of unique values that are included in all given arrays using <a href="https://262.ecma-international.org/7.0/#sec-samevaluezero">SameValueZero</a> for equality comparisons. The order and references of result values are determined by the first array.</p>
<table>
    <tr>
        <th>[arrays]</th>
        <td>any[][]</td>
        <td>The arrays to inspect</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.invoke" class="docs-item">
        <a href="#util.invoke" class="docs-item-anchor">
            <h3 class="docs-item-header">util.invoke</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token punctuation">[</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Invokes the method at path of each element in collection, returning an array of the results of each invoked method. Any additional arguments are provided to each invoked method. If path is a function, it's invoked for, and this bound to, each element in collection.</p>
<table>
    <tr>
        <th>collection</th>
        <td>any[]|Object</td>
        <td>The collection to iterate over</td>
    </tr>
    <tr>
        <th>path</th>
        <td>string[]|string|Function</td>
        <td>The path of the method to invoke or the function invoked per iteration</td>
    </tr>
    <tr>
        <th>[args]</th>
        <td>any[]</td>
        <td>The arguments to invoke each method with</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.invokeProperty" class="docs-item">
        <a href="#util.invokeProperty" class="docs-item-anchor">
            <h3 class="docs-item-header">util.invokeProperty</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">invokeProperty</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token punctuation">[</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Invokes the method at path of object.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The object to query</td>
    </tr>
    <tr>
        <th>path</th>
        <td>string[]|string</td>
        <td>The path of the method to invoke</td>
    </tr>
    <tr>
        <th>[args]</th>
        <td>any[]</td>
        <td>The arguments to invoke the method with</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.isBoolean" class="docs-item">
        <a href="#util.isBoolean" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isBoolean</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isBoolean</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a boolean.</p>

        </div>
    </div>
    <div id="util.isEmpty" class="docs-item">
        <a href="#util.isEmpty" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isEmpty</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Checks if value is an empty object, collection, map, or set.</p>
<p>Objects are considered empty if they have no own enumerable string keyed properties.</p>
<p>Array-like values such as arguments objects, arrays, strings, or jQuery-like collections are considered empty if they have a length of 0. Similarly, maps and sets are considered empty if they have a size of 0.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to check</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.isEqual" class="docs-item">
        <a href="#util.isEqual" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isEqual</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isEqual</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> otherValue<span class="token punctuation">)</span></code></pre>
<p>Performs a deep comparison between two values to determine if they are equivalent.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to compare</td>
    </tr>
    <tr>
        <th>otherValue</th>
        <td>any</td>
        <td>The other value to compare</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.isFunction" class="docs-item">
        <a href="#util.isFunction" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isFunction</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Checks if value is classified as a Function object.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to check</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.isNumber" class="docs-item">
        <a href="#util.isNumber" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isNumber</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isNumber</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a number.</p>

        </div>
    </div>
    <div id="util.isObject" class="docs-item">
        <a href="#util.isObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isObject</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is an object (plain object or a function).</p>

        </div>
    </div>
    <div id="util.isPercentage" class="docs-item">
        <a href="#util.isPercentage" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isPercentage</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isPercentage</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a string that holds a percentage value, e.g. <code class="highlighted"><span class="token string">'10%'</span></code>.</p>

        </div>
    </div>
    <div id="util.isPlainObject" class="docs-item">
        <a href="#util.isPlainObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isPlainObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Checks if value is a plain object, that is, an object created by the Object constructor or one with a [[Prototype]] of null.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to check</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.isString" class="docs-item">
        <a href="#util.isString" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isString</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isString</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a string.</p>

        </div>
    </div>
    <div id="util.merge" class="docs-item">
        <a href="#util.merge" class="docs-item-anchor">
            <h3 class="docs-item-header">util.merge</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>customizer<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>This method is like <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>assign</code> except that it recursively merges own and inherited enumerable string keyed properties of source objects into the destination object. Source properties that resolve to undefined are skipped if a destination value exists. Array and plain object properties are merged recursively. Other objects and value types are overridden by assignment. Source objects are applied from left to right. Subsequent sources overwrite property assignments of previous sources. In addition this method accepts a customizer which is invoked to produce the merged values of the destination and source properties. The customizer is invoked with six arguments: <i>(objValue, srcValue, key, object, source, stack)</i></p>
<table>
    <tr>
        <th>destinationObject</th>
        <td>Object</td>
        <td>The destination object</td>
    </tr>
    <tr>
        <th>[sourceObjects]</th>
        <td>Object[]</td>
        <td>The source objects</td>
    </tr>
    <tr>
        <th>customizer</th>
        <td>Function</td>
        <td>The function to customize assigned values</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.mixin" class="docs-item">
        <a href="#util.mixin" class="docs-item-anchor">
            <h3 class="docs-item-header">util.mixin</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An <a href="#util.assign">alias</a> for <code class="highlighted">util<span class="token punctuation">.</span>assign</code>, use it instead.</p>

        </div>
    </div>
    <div id="util.nextFrame" class="docs-item">
        <a href="#util.nextFrame" class="docs-item-anchor">
            <h3 class="docs-item-header">util.nextFrame</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">nextFrame</span><span class="token punctuation">(</span>callback <span class="token punctuation">[</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Tell the browser to schedule the <code class="highlighted">callback</code> function to be called before the next repaint.</p>

<p>This is a cross-browser version of the <code class="highlighted">window<span class="token punctuation">.</span>requestAnimationFrame</code> <a href="https://developer.mozilla.org/en/docs/Web/API/window.requestAnimationFrame">function</a>. It returns an ID of the frame request.</p>

<p>You can optionally pass a <code class="highlighted">context</code> for your callback function. Any further arguments are passed as arguments to the callback function.</p>

        </div>
    </div>
    <div id="util.noop" class="docs-item">
        <a href="#util.noop" class="docs-item-anchor">
            <h3 class="docs-item-header">util.noop</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">noop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>An empty function with no return statement (<code class="highlighted"><span class="token keyword">void</span></code> in Typescript).</p>

        </div>
    </div>
    <div id="util.normalizeEvent" class="docs-item">
        <a href="#util.normalizeEvent" class="docs-item-anchor">
            <h3 class="docs-item-header">util.normalizeEvent</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">normalizeEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span></code></pre>
<p>Normalize the provided event.</p>

<p>For touch events, the normalized event receives a copy of all properties from <code class="highlighted">evt<span class="token punctuation">.</span>originalEvent</code> that are not included in <code class="highlighted">evt</code>.</p>

<p>Additionally, if <code class="highlighted">evt<span class="token punctuation">.</span>target<span class="token punctuation">.</span>correspondingUseElement</code> is defined (as in IE), that element is assigned as <code class="highlighted">target</code> in the normalized event.</p>

        </div>
    </div>
    <div id="util.normalizeSides" class="docs-item">
        <a href="#util.normalizeSides" class="docs-item-anchor">
            <h3 class="docs-item-header">util.normalizeSides</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span>box<span class="token punctuation">)</span></code></pre>
<p>Return a new object of the form <code class="highlighted"><span class="token punctuation">{</span> top<span class="token operator">:</span> Number<span class="token punctuation">,</span> right<span class="token operator">:</span> Number<span class="token punctuation">,</span> bottom<span class="token operator">:</span> Number<span class="token punctuation">,</span> left<span class="token operator">:</span> Number <span class="token punctuation">}</span></code>.</p>

<p>If <code class="highlighted">box</code> is a number, the value of all four sides will be this number. If <code class="highlighted">box</code> is an object with some/all of the <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">left</code> properties defined, the values of these properties will be used.</p>

<p>Composite properties <code class="highlighted">horizontal</code> (for right and left side) and <code class="highlighted">vertical</code> (for top and bottom side) can be used, as well; they will be destructured appropriately. When two properties clash (e.g. <code class="highlighted">horizontal<span class="token operator">:</span> <span class="token number">10</span></code> and <code class="highlighted">left<span class="token operator">:</span> <span class="token number">5</span></code>), the more specific one prevails (here the returned object would contain <code class="highlighted">right<span class="token operator">:</span> <span class="token number">10</span></code> and <code class="highlighted">left<span class="token operator">:</span> <span class="token number">5</span></code>).</p>

<p>If any property is missing, its side will be set to <code class="highlighted"><span class="token number">0</span></code> in the resulting object.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 0, bottom: 0, left: 0 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// { top: 5, right: 5, bottom: 5, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 5, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 0, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 10, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, left: 5, right: 0, bottom: 0 }</span></code></pre>

<p>JointJS and JointJS+ use this method internally whenever there is an option object that can be specified either by a number or a (possibly incomplete) object with sides (for example, the <code class="highlighted">padding</code> option).</p>

        </div>
    </div>
    <div id="util.omit" class="docs-item">
        <a href="#util.omit" class="docs-item-anchor">
            <h3 class="docs-item-header">util.omit</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">omit</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>paths<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Opposite of <code class="highlighted">util<span class="token punctuation">.</span>pick</code>, this method creates an object composed of the own and inherited enumerable property paths of object that are not omitted.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The source object</td>
    </tr>
    <tr>
        <th>[paths]</th>
        <td>string[]|string[][]</td>
        <td>The property paths to omit</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.parseCssNumeric" class="docs-item">
        <a href="#util.parseCssNumeric" class="docs-item-anchor">
            <h3 class="docs-item-header">util.parseCssNumeric</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Parse the provided value as a float and return an object with the number as the <code class="highlighted">value</code> parameter. If the value cannot be converted into a number, return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>If the number is followed by a unit, assign it as the <code class="highlighted">unit</code> parameter in the return object. If there is no unit, assign an empty string. Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1em'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'em' }</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> restrictUnits<span class="token punctuation">)</span></code></pre>
<p>Parse the provided value and only accept it if its unit is part of the <code class="highlighted">restrictUnits</code> parameter; otherwise return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>The <code class="highlighted">restrictUnits</code> parameter can be a string or an array of strings. If you provide an empty string, that means you are expecting <code class="highlighted">value</code> to have no unit. Providing an empty array always returns <code class="highlighted"><span class="token keyword">null</span></code>. Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' });</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">'em'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' });</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'em'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1em'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span></code></pre>

        </div>
    </div>
    <div id="util.pick" class="docs-item">
        <a href="#util.pick" class="docs-item-anchor">
            <h3 class="docs-item-header">util.pick</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>paths<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an object composed of the picked object properties.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The source object</td>
    </tr>
    <tr>
        <th>[paths]</th>
        <td>string[]|string[][]</td>
        <td>The property paths to pick</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.result" class="docs-item">
        <a href="#util.result" class="docs-item-anchor">
            <h3 class="docs-item-header">util.result</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">result</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token punctuation">[</span>defaultValue<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Gets the value at path of object. If the resolved value is undefined, the defaultValue is returned in its place. If the resolved value is a function it's invoked with the this binding of its parent object and its result is returned.</p>
<table>
    <tr>
        <th>object</th>
        <td>Object</td>
        <td>The source object</td>
    </tr>
    <tr>
        <th>path</th>
        <td>string|string[]</td>
        <td>The path of the property to get</td>
    </tr>
    <tr>
        <th>[defaultValue]</th>
        <td>any</td>
        <td>The value returned for undefined resolved values</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.sanitizeHTML" class="docs-item">
        <a href="#util.sanitizeHTML" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sanitizeHTML</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span></code></pre>
<p>Sanitize the provided HTML (string) to protect against XSS attacks. The algorithm has several steps:</p>

<ul>
    <li>Wrap the provided HTML inside a <code class="highlighted"><span class="token operator">&lt;</span>div<span class="token operator">></span></code> tag. This will remove tags that are invalid in that context (e.g. <code class="highlighted"><span class="token operator">&lt;</span>body<span class="token operator">></span></code> and <code class="highlighted"><span class="token operator">&lt;</span>head<span class="token operator">></span></code>).</li>
    <li>Parse the provided HTML in a new document context. This prevents inline events from firing and also prevents image GET requests from being sent.</li>
    <li>Discard all <code class="highlighted"><span class="token operator">&lt;</span>script<span class="token operator">></span></code> tags.</li>
    <li>Iterate through all DOM nodes and remove all <code class="highlighted">on<span class="token operator">...</span></code> attributes (e.g. <code class="highlighted">onload</code>, <code class="highlighted">onerror</code>).</li>
    <li>Iterate through all attributes of the nodes and remove all that use the <code class="highlighted">javascript<span class="token operator">:</span></code> pseudo-protocol as value.</li>
    <li>Return the sanitized HTML back as a string.</li>
</ul>

<p>The six simple steps protect against the most common XSS attacks; however, we cannot guarantee bulletproof security here. If you need stronger security, you should always keep an eye on a <a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet"> list XSS attacks</a> and replace the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function with your own, more secure version.</p>

<p>Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;html>&lt;body>&lt;p>Hello&lt;/p>&lt;/body>&lt;/html>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;script>alert("Hacked");&lt;/script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;img onload="alert(&amp;quot;Hacked&amp;quot;);">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>&lt;img>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;img src="javascript:alert(&amp;quot;Hacked&amp;quot;);">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>&lt;img>'</span></code></pre>

        </div>
    </div>
    <div id="util.setAttributesBySelector" class="docs-item">
        <a href="#util.setAttributesBySelector" class="docs-item-anchor">
            <h3 class="docs-item-header">util.setAttributesBySelector</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">setAttributesBySelector</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span></code></pre>

<p>Set attributes on the DOM element (SVG or HTML) <code class="highlighted">el</code> and its descendants based on the selector in the <code class="highlighted">attrs</code> object. The <code class="highlighted">attrs</code> object is of the form: <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>selector<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">[</span>attributes <span class="token punctuation">}</span></code>. For example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> myEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mydiv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">setAttributesBySelector</span><span class="token punctuation">(</span>myEl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">'.myDiv'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'data-foo'</span><span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Note the reference to the myEl element itself.</span>
    <span class="token string">'input'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'value'</span><span class="token operator">:</span> <span class="token string">'my value'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The code above sets <code class="highlighted"><span class="token string">'data-foo'</span></code> attribute of the <code class="highlighted">myEl</code> element to the value <code class="highlighted"><span class="token string">'bar'</span></code> and <code class="highlighted"><span class="token string">'value'</span></code> attribute of all the descendant inputs to the value <code class="highlighted"><span class="token string">'my value'</span></code>. This is a convenient way of setting attributes on elements (including themselves) and their descendants. Note that <code class="highlighted"><span class="token string">'class'</span></code> attribute is treated as a special case and its value does not override the previous value of the <code class="highlighted"><span class="token string">'class'</span></code> attribute. Instead, it adds this new class to the list of classes for the element referenced in the selector.</p>

        </div>
    </div>
    <div id="util.setByPath" class="docs-item">
        <a href="#util.setByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.setByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">setByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> value<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre><p>Set a <code class="highlighted">value</code> at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the 
        delimiter used in the <code class="highlighted">path</code>. Returns the augmented <code class="highlighted">object</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">setByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'b/bb/bbb'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
{
 "a": 1,
 "b": {
  "bb": {
   "bbb": 2
  }
 }
}
*/</span></code></pre>

        </div>
    </div>
    <div id="util.sortBy" class="docs-item">
        <a href="#util.sortBy" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortBy</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortBy</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> <span class="token punctuation">[</span>iteratees<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an array of elements, sorted in ascending order by the results of running each element in a collection thru each iteratee. This method performs a stable sort, that is, it preserves the original sort order of equal elements. The iteratees are invoked with one argument: <i>(value)</i>.</p>
<table>
    <tr>
        <th>collection</th>
        <td>any[]|Object</td>
        <td>The collection to iterate over</td>
    </tr>
    <tr>
        <th>[iteratees]</th>
        <td>Funtion|Funtion[]</td>
        <td>The iteratees to sort by</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.sortedIndex" class="docs-item">
        <a href="#util.sortedIndex" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortedIndex</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortedIndex</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token punctuation">[</span>iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Uses a binary search to determine the lowest index at which value should be inserted into array in order to maintain its sort order. In addition this method accepts iteratee which is invoked for value and each element of array to compute their sort ranking. The iteratee is invoked with one argument: <i>(value)</i></p>
<table>
    <tr>
        <th>array</th>
        <td>any[]</td>
        <td>The sorted array to inspect</td>
    </tr>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to evaluate</td>
    </tr>
    <tr>
        <th>[iteratee]</th>
        <td>Function</td>
        <td>The iteratee invoked per element</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.sortElements" class="docs-item">
        <a href="#util.sortElements" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortElements</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortElements</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> comparator<span class="token punctuation">)</span></code></pre><p>Change the order of <code class="highlighted">elements</code> (a collection of HTML elements or a selector) in the DOM
          according to the <code class="highlighted"><span class="token function">comparator</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code> function. The <code class="highlighted">comparator</code> function has
          the exact same meaning as in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code class="highlighted"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>comparator<span class="token punctuation">)</span></code></a>.
          The function returns the sorted array of elements.</p>
        <p></p>

        </div>
    </div>
    <div id="util.supplement" class="docs-item">
        <a href="#util.supplement" class="docs-item-anchor">
            <h3 class="docs-item-header">util.supplement</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">supplement</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An <a href="#util.defaults">alias</a> for <code class="highlighted">util<span class="token punctuation">.</span>defaults</code>, use it instead.</p>
        </div>
    </div>
    <div id="util.svg" class="docs-item">
        <a href="#util.svg" class="docs-item-anchor">
            <h3 class="docs-item-header">util.svg</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token function">svg</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span></code></pre>
<p>
    This is the tagged template which converts a string into a <a href="#dia.Cell.markup">markup</a> object while declaring a <a href="#dia.Cell">Cell</a>.
    The resulting object contains fields which are described in <a href="#dia.Cell.markup.json">this part of the documentation.</a>
    SVG is converted into JSON markup as follows:
    <table>
        <tr>
            <th>Property</th>
            <th>Representation</th>
        </tr>
        <tr>
            <td>tagName</td>
            <td>SVG tag name.</td>
        </tr>
        <tr>
            <td>selector</td>
            <td><code class="highlighted">@selector</code> attribute.</td>
        </tr>
        <tr>
            <td>groupSelector</td>
            <td><code class="highlighted">@group<span class="token operator">-</span>selector</code> attribute. Accepts comma-separated lists e.g. <code class="highlighted">@group<span class="token operator">-</span>selector<span class="token operator">=</span><span class="token string">"group1, group2"</span></code>.</td>
        </tr>
        <tr>
            <td>namespaceURI</td>
            <td>The namespace URI of the element. It defaults to the SVG namespace <a target="_blank" href="https://www.w3.org/2000/svg"><code class="highlighted"><span class="token string">"http://www.w3.org/2000/svg"</span></code></a>.</td>
        </tr>
        <tr>
            <td>attributes</td>
            <td>Attributes of the element.</td>
        </tr>
        <tr>
            <td>style</td>
            <td>The <code class="highlighted">style</code> attribute of the element parsed as key-value pairs.</td>
        </tr>
        <tr>
            <td>className</td>
            <td>The <code class="highlighted"><span class="token keyword">class</span></code> attribute of the element.</td>
        </tr>
        <tr>
            <td>children</td>
            <td>The children of the element.</td>
        </tr>
    </table>
    <br>
    Text nodes are placed into the children array as strings. For example, the markup <code data-lang="html" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code> is converted to <code class="highlighted"><span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'span'</span><span class="token punctuation">,</span> children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> tagName<span class="token operator">:</span> <span class="token string">'span'</span><span class="token punctuation">,</span> children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code>.
</p>


        </div>
    </div>
    <div id="util.template" class="docs-item">
        <a href="#util.template" class="docs-item-anchor">
            <h3 class="docs-item-header">util.template</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">template</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span></code></pre>
<p>Return a template function that returns pre-compiled <code class="highlighted">html</code> when called.</p>

        </div>
    </div>
    <div id="util.toArray" class="docs-item">
        <a href="#util.toArray" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toArray</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Converts value to an array.</p>
<table>
    <tr>
        <th>value</th>
        <td>any</td>
        <td>The value to convert</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.toggleFullScreen" class="docs-item">
        <a href="#util.toggleFullScreen" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toggleFullScreen</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toggleFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">[</span>element<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Make (or cancel) an <code class="highlighted">element</code> to be displayed full-screen. The default element is <code class="highlighted">window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toggleFullScreen</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="util.toKebabCase" class="docs-item">
        <a href="#util.toKebabCase" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toKebabCase</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toKebabCase</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span></code></pre>
<p>Convert the string to kebab-case. Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toKebabCase</span><span class="token punctuation">(</span><span class="token string">'strokeWidth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 'stroke-width'</span></code></pre>

        </div>
    </div>
    <div id="util.union" class="docs-item">
        <a href="#util.union" class="docs-item-anchor">
            <h3 class="docs-item-header">util.union</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arrays<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an array of unique values, in order, from all given arrays using <a href="https://262.ecma-international.org/7.0/#sec-samevaluezero">SameValueZero</a> for equality comparisons.</p>
<table>
    <tr>
        <th>[arrays]</th>
        <td>any[]</td>
        <td>The arrays to inspect</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.uniq" class="docs-item">
        <a href="#util.uniq" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uniq</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uniq</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">[</span>iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates a duplicate-free version of an array, using <a href="https://262.ecma-international.org/7.0/#sec-samevaluezero">SameValueZero</a> for equality comparisons, in which only the first occurrence of each element is kept. The order of result values is determined by the order they occur in the array. In addition this method accepts iteratee which is invoked for each element in array to generate the criterion by which uniqueness is computed. The order of result values is determined by the order they occur in the array. The iteratee is invoked with one argument: <i>(value)</i>.</p>
<table>
    <tr>
        <th>array</th>
        <td>any[]</td>
        <td>The array to inspect</td>
    </tr>
    <tr>
        <th>[iteratee]</th>
        <td>Function</td>
        <td>The iteratee invoked per element</td>
    </tr>
</table>
        </div>
    </div>
    <div id="util.uniqueId" class="docs-item">
        <a href="#util.uniqueId" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uniqueId</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uniqueId</span><span class="token punctuation">(</span><span class="token punctuation">[</span>prefix<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Generates a unique ID. If prefix is given, the ID is appended to it.</p>
<table>
    <tr>
        <th>[prefix]</th>
        <td>string</td>
        <td>The prefix of the ID</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.unsetByPath" class="docs-item">
        <a href="#util.unsetByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.unsetByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">unsetByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre>

<p>Unset (delete) a property at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the 
        delimiter used in the <code class="highlighted">path</code>. Returns the augmented <code class="highlighted">object</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">unsetByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token punctuation">{</span> aa<span class="token operator">:</span> <span class="token punctuation">{</span> aaa<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'a/aa/aaa'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: { aa: {} } }</span></code></pre>

        </div>
    </div>
    <div id="util.uuid" class="docs-item">
        <a href="#util.uuid" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uuid</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return a pseudo-<a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.</p>

        </div>
    </div>
    <div id="util.without" class="docs-item">
        <a href="#util.without" class="docs-item-anchor">
            <h3 class="docs-item-header">util.without</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">without</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>values<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Creates an array excluding all given values using <a href="https://262.ecma-international.org/7.0/#sec-samevaluezero">SameValueZero</a> for equality comparisons.</p>
<table>
    <tr>
        <th>array</th>
        <td>any[]</td>
        <td>The array to inspect</td>
    </tr>
    <tr>
        <th>[values]</th>
        <td>any[]</td>
        <td>The values to exclude</td>
    </tr>
</table>

        </div>
    </div>
    <div id="util.format" class="docs-item">
    <div id="util.format.number" class="docs-item">
        <a href="#util.format.number" class="docs-item-anchor">
            <h4 class="docs-item-header">util.format.number</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span>specifier<span class="token punctuation">,</span> value<span class="token punctuation">)</span></code></pre>

<p>Format number <code class="highlighted">value</code> according to the <code class="highlighted">specifier</code> defined via the <a href="https://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language">Python Format Specification Mini-language</a>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'.2f'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// 5.00</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'03d'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// 005</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'.1%'</span><span class="token punctuation">,</span> <span class="token number">.205</span><span class="token punctuation">)</span>    <span class="token comment">// 20.5%</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'*^9'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// ****5****</span></code></pre>

        </div>
    </div>
    </div>
    </div>
            </div>
        </section>
    </div>

    <script src="js/api.js"></script>

</body>
</html>
